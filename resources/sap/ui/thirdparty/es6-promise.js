/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.4+314e4831
  */
(function(e,t){typeof exports==="object"&&typeof module!=="undefined"?module.exports=t():typeof define==="function"&&define.amd?define("sap/ui/thirdparty/es6-promise",t):null;e.ES6Promise=t()})(this,function(){"use strict";function e(e){var t=typeof e;return e!==null&&(t==="object"||t==="function")}function t(e){return typeof e==="function"}var r=void 0;if(Array.isArray){r=Array.isArray}else{r=function(e){return Object.prototype.toString.call(e)==="[object Array]"}}var n=r;var i=0;var o=void 0;var s=void 0;var u=function e(t,r){w[i]=t;w[i+1]=r;i+=2;if(i===2){if(s){s(g)}else{S()}}};function f(e){s=e}function a(e){u=e}var c=typeof window!=="undefined"?window:undefined;var l=c||{};var h=l.MutationObserver||l.WebKitMutationObserver;var v=typeof self==="undefined"&&typeof process!=="undefined"&&{}.toString.call(process)==="[object process]";var p=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function d(){return function(){return process.nextTick(g)}}function y(){if(typeof o!=="undefined"){return function(){o(g)}}return b()}function _(){var e=0;var t=new h(g);var r=document.createTextNode("");t.observe(r,{characterData:true});return function(){r.data=e=++e%2}}function m(){var e=new MessageChannel;e.port1.onmessage=g;return function(){return e.port2.postMessage(0)}}function b(){var e=setTimeout;return function(){return e(g,1)}}var w=new Array(1e3);function g(){for(var e=0;e<i;e+=2){var t=w[e];var r=w[e+1];t(r);w[e]=undefined;w[e+1]=undefined}i=0}function A(){try{var e=Function("return this")().require("vertx");o=e.runOnLoop||e.runOnContext;return y()}catch(e){return b()}}var S=void 0;if(v){S=d()}else if(h){S=_()}else if(p){S=m()}else if(c===undefined&&typeof require==="function"){S=A()}else{S=b()}function j(e,t){var r=this;var n=new this.constructor(M);if(n[T]===undefined){V(n)}var i=r._state;if(i){var o=arguments[i-1];u(function(){return I(i,n,o,r._result)})}else{B(r,n,e,t)}return n}function E(e){var t=this;if(e&&typeof e==="object"&&e.constructor===t){return e}var r=new t(M);N(r,e);return r}var T=Math.random().toString(36).substring(2);function M(){}var P=void 0;var x=1;var C=2;var O={error:null};function k(){return new TypeError("You cannot resolve a promise with itself")}function F(){return new TypeError("A promises callback cannot return that same promise.")}function Y(e){try{return e.then}catch(e){O.error=e;return O}}function q(e,t,r,n){try{e.call(t,r,n)}catch(e){return e}}function D(e,t,r){u(function(e){var n=false;var i=q(r,t,function(r){if(n){return}n=true;if(t!==r){N(e,r)}else{W(e,r)}},function(t){if(n){return}n=true;z(e,t)},"Settle: "+(e._label||" unknown promise"));if(!n&&i){n=true;z(e,i)}},e)}function K(e,t){if(t._state===x){W(e,t._result)}else if(t._state===C){z(e,t._result)}else{B(t,undefined,function(t){return N(e,t)},function(t){return z(e,t)})}}function L(e,r,n){if(r.constructor===e.constructor&&n===j&&r.constructor.resolve===E){K(e,r)}else{if(n===O){z(e,O.error);O.error=null}else if(n===undefined){W(e,r)}else if(t(n)){D(e,r,n)}else{W(e,r)}}}function N(t,r){if(t===r){z(t,k())}else if(e(r)){L(t,r,Y(r))}else{W(t,r)}}function U(e){if(e._onerror){e._onerror(e._result)}G(e)}function W(e,t){if(e._state!==P){return}e._result=t;e._state=x;if(e._subscribers.length!==0){u(G,e)}}function z(e,t){if(e._state!==P){return}e._state=C;e._result=t;u(U,e)}function B(e,t,r,n){var i=e._subscribers;var o=i.length;e._onerror=null;i[o]=t;i[o+x]=r;i[o+C]=n;if(o===0&&e._state){u(G,e)}}function G(e){var t=e._subscribers;var r=e._state;if(t.length===0){return}var n=void 0,i=void 0,o=e._result;for(var s=0;s<t.length;s+=3){n=t[s];i=t[s+r];if(n){I(r,n,i,o)}else{i(o)}}e._subscribers.length=0}function H(e,t){try{return e(t)}catch(e){O.error=e;return O}}function I(e,r,n,i){var o=t(n),s=void 0,u=void 0,f=void 0,a=void 0;if(o){s=H(n,i);if(s===O){a=true;u=s.error;s.error=null}else{f=true}if(r===s){z(r,F());return}}else{s=i;f=true}if(r._state!==P){}else if(o&&f){N(r,s)}else if(a){z(r,u)}else if(e===x){W(r,s)}else if(e===C){z(r,s)}}function J(e,t){try{t(function t(r){N(e,r)},function t(r){z(e,r)})}catch(t){z(e,t)}}var Q=0;function R(){return Q++}function V(e){e[T]=Q++;e._state=undefined;e._result=undefined;e._subscribers=[]}function X(){return new Error("Array Methods must be provided an Array")}var Z=function(){function e(e,t){this._instanceConstructor=e;this.promise=new e(M);if(!this.promise[T]){V(this.promise)}if(n(t)){this.length=t.length;this._remaining=t.length;this._result=new Array(this.length);if(this.length===0){W(this.promise,this._result)}else{this.length=this.length||0;this._enumerate(t);if(this._remaining===0){W(this.promise,this._result)}}}else{z(this.promise,X())}}e.prototype._enumerate=function e(t){for(var r=0;this._state===P&&r<t.length;r++){this._eachEntry(t[r],r)}};e.prototype._eachEntry=function e(t,r){var n=this._instanceConstructor;var i=n.resolve;if(i===E){var o=Y(t);if(o===j&&t._state!==P){this._settledAt(t._state,r,t._result)}else if(typeof o!=="function"){this._remaining--;this._result[r]=t}else if(n===ie){var s=new n(M);L(s,t,o);this._willSettleAt(s,r)}else{this._willSettleAt(new n(function(e){return e(t)}),r)}}else{this._willSettleAt(n.resolve(t),r)}};e.prototype._settledAt=function e(t,r,n){var i=this.promise;if(i._state===P){this._remaining--;if(t===C){z(i,n)}else{this._result[r]=n}}if(this._remaining===0){W(i,this._result)}};e.prototype._willSettleAt=function e(t,r){var n=this;B(t,undefined,function(e){return n._settledAt(x,r,e)},function(e){return n._settledAt(C,r,e)})};return e}();function $(e){return new Z(this,e).promise}function ee(e){var t=this;if(!n(e)){return new t(function(e,t){return t(new TypeError("You must pass an array to race."))})}else{return new t(function(r,n){var i=e.length;for(var o=0;o<i;o++){t.resolve(e[o]).then(r,n)}})}}function te(e){var t=this;var r=new t(M);z(r,e);return r}function re(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function ne(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var ie=function(){function e(t){this[T]=R();this._result=this._state=undefined;this._subscribers=[];if(M!==t){typeof t!=="function"&&re();this instanceof e?J(this,t):ne()}}e.prototype.catch=function e(t){return this.then(null,t)};e.prototype.finally=function e(r){var n=this;var i=n.constructor;if(t(r)){return n.then(function(e){return i.resolve(r()).then(function(){return e})},function(e){return i.resolve(r()).then(function(){throw e})})}return n.then(r,r)};return e}();ie.prototype.then=j;ie.all=$;ie.race=ee;ie.resolve=E;ie.reject=te;ie._setScheduler=f;ie._setAsap=a;ie._asap=u;function oe(){var e=void 0;if(typeof global!=="undefined"){e=global}else if(typeof self!=="undefined"){e=self}else{try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if(r==="[object Promise]"&&!t.cast){if(typeof t.prototype.finally!=="function"){t.prototype.finally=ie.prototype.finally}return}}e.Promise=ie}ie.polyfill=oe;ie.Promise=ie;ie.polyfill();return ie});