/*
File: flexie.js

About: Version
	1.0.3

Project: Flexie

Description:
	Legacy support for the CSS3 Flexible Box Model

License:
	The MIT License

	Copyright (c) 2010 Richard Herrera

	Permission is hereby granted, free of charge, to any person obtaining a copy
	of this software and associated documentation files (the "Software"), to deal
	in the Software without restriction, including without limitation the rights
	to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	copies of the Software, and to permit persons to whom the Software is
	furnished to do so, subject to the following conditions:

	The above copyright notice and this permission notice shall be included in
	all copies or substantial portions of the Software.

	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
	THE SOFTWARE.
*/
var Flexie=function(win,doc){var FLX={},FLX_DOM_ID=0,FLX_DOM_ATTR="data-flexie-id",FLX_PARENT_ATTR="data-flexie-parent",SUPPORT,ENGINE,ENGINES={NW:{s:"*.Dom.select"},DOMAssistant:{s:"*.$",m:"*.DOMReady"},Prototype:{s:"$$",m:"document.observe",p:"dom:loaded",c:"document"},YAHOO:{s:"*.util.Selector.query",m:"*.util.Event.onDOMReady",c:"*.util.Event"},MooTools:{s:"$$",m:"window.addEvent",p:"domready"},Sizzle:{s:"*"},jQuery:{s:"*",m:"*(document).ready"},dojo:{s:"*.query",m:"*.addOnLoad"}},LIBRARY,PIXEL=/^-?\d+(?:px)?$/i,NUMBER=/^-?\d/,SIZES=/width|height|margin|padding|border/,MSIE=/(msie) ([\w.]+)/,WHITESPACE_CHARACTERS=/\t|\n|\r/g,RESTRICTIVE_PROPERTIES=/^max\-([a-z]+)/,PROTOCOL=/^https?:\/\//i,LEADINGTRIM=/^\s\s*/,TRAILINGTRIM=/\s\s*$/,ONLY_WHITESPACE=/^\s*$/,CSS_SELECTOR=/\s?(\#|\.|\[|\:(\:)?[^first\-(line|letter)|before|after]+)/g,EMPTY_STRING="",SPACE_STRING=" ",PLACEHOLDER_STRING="$1",PADDING_RIGHT="paddingRight",PADDING_BOTTOM="paddingBottom",PADDING_LEFT="paddingLeft",PADDING_TOP="paddingTop",BORDER_RIGHT="borderRightWidth",BORDER_BOTTOM="borderBottomWidth",BORDER_LEFT="borderLeftWidth",BORDER_TOP="borderTopWidth",HORIZONTAL="horizontal",VERTICAL="vertical",INLINE_AXIS="inline-axis",BLOCK_AXIS="block-axis",INHERIT="inherit",LEFT="left",END_MUSTACHE="}",PREFIXES=" -o- -moz- -ms- -webkit- -khtml- ".split(SPACE_STRING),DEFAULTS={orient:HORIZONTAL,align:"stretch",direction:INHERIT,pack:"start"},FLEX_BOXES=[],POSSIBLE_FLEX_CHILDREN=[],DOM_ORDERED,RESIZE_LISTENER,TRUE=true,FALSE=false,NULL=null,UNDEFINED,BROWSER={IE:function(){var e,t=win.navigator.userAgent,r=MSIE.exec(t.toLowerCase());if(r){e=parseInt(r[2],10)}return e}()},
/*
	    selectivizr v1.0.0 - (c) Keith Clark, freely distributable under the terms
	    of the MIT license.

	    selectivizr.com
	    */
selectivizrEngine;function trim(e){if(e){e=e.replace(LEADINGTRIM,EMPTY_STRING).replace(TRAILINGTRIM,EMPTY_STRING)}return e}function determineSelectorMethod(){var engines=ENGINES,method,engine,obj;for(engine in engines){if(engines.hasOwnProperty(engine)){obj=engines[engine];if(win[engine]&&!method){method=eval(obj.s.replace("*",engine));if(method){ENGINE=engine;break}}}}return method}function addEvent(e,t){e="on"+e;var r=win[e];if(typeof win[e]!=="function"){win[e]=t}else{win[e]=function(){if(r){r()}t()}}}function attachLoadMethod(handler){if(!ENGINE){LIBRARY=determineSelectorMethod()}var engines=ENGINES,method,caller,args,engine,obj;for(engine in engines){if(engines.hasOwnProperty(engine)){obj=engines[engine];if(win[engine]&&!method&&obj.m){method=eval(obj.m.replace("*",engine));caller=obj.c?eval(obj.c.replace("*",engine)):win;args=[];if(method&&caller){if(obj.p){args.push(obj.p)}args.push(handler);method.apply(caller,args);break}}}}if(!method){addEvent("load",handler)}}function buildSelector(e){var t=e.nodeName.toLowerCase();if(e.id){t+="#"+e.id}else if(e.FLX_DOM_ID){t+="["+FLX_DOM_ATTR+"='"+e.FLX_DOM_ID+"']"}return t}function setFlexieId(e){if(!e.FLX_DOM_ID){FLX_DOM_ID=FLX_DOM_ID+1;e.FLX_DOM_ID=FLX_DOM_ID;e.setAttribute(FLX_DOM_ATTR,e.FLX_DOM_ID)}}function buildSelectorTree(e){var t=[],r,i,n,o,a,l,s,p,c,f;e=e.replace(WHITESPACE_CHARACTERS,EMPTY_STRING);e=e.replace(/\s?(\{|\:|\})\s?/g,PLACEHOLDER_STRING);r=e.split(END_MUSTACHE);for(p in r){if(r.hasOwnProperty(p)){e=r[p];if(e){i=[e,END_MUSTACHE].join(EMPTY_STRING);n=/(\@media[^\{]+\{)?(.*)\{(.*)\}/.exec(i);if(n&&n[3]){o=n[2];a=n[3].split(";");s=[];for(c in a){if(a.hasOwnProperty(c)){f=a[c];l=f.split(":");if(l.length&&l[1]){s.push({property:l[0],value:l[1]})}}}if(o&&s.length){t.push({selector:o,properties:s})}}}}}return t}function findFlexboxElements(e){var t,r,i,n,o,a=/\s?,\s?/,l,s,p,c={},f={},d,u,h,E,R,g,L,T,_;l=function(e,t,r,i){var n,o,a,l;n={selector:trim(e),properties:[]};for(o=0,a=t.properties.length;o<a;o++){l=t.properties[o];n.properties.push({property:trim(l.property),value:trim(l.value)})}if(r&&i){n[r]=i}return n};s=function(e,t,r,i){var n=r&&i?c[e]:f[e],o,a,s,p,d,u,h;if(n){for(s=0,p=t.properties.length;s<p;s++){d=t.properties[s];for(u=0,h=n.properties.length;u<h;u++){a=n.properties[u];if(d.property===a.property){o=u;return false}}if(o){n.properties[o]=d}else{n.properties.push(d)}}if(r&&i){n[r]=i}}else{if(r&&i){c[e]=l(e,t,r,i)}else{f[e]=l(e,t,NULL,NULL)}}};for(d=0,u=e.length;d<u;d++){h=e[d];t=trim(h.selector).replace(a,",").split(a);for(E=0,R=t.length;E<R;E++){g=trim(t[E]);r=h.properties;for(L=0,T=r.length;L<T;L++){_=r[L];i=trim(_.property);n=trim(_.value);if(i){o=i.replace("box-",EMPTY_STRING);switch(o){case"display":if(n==="box"){s(g,h,NULL,NULL)}break;case"orient":case"align":case"direction":case"pack":s(g,h,NULL,NULL);break;case"flex":case"flex-group":case"ordinal-group":s(g,h,o,n);break}}}}}for(p in f){if(f.hasOwnProperty(p)){FLEX_BOXES.push(f[p])}}for(p in c){if(c.hasOwnProperty(p)){POSSIBLE_FLEX_CHILDREN.push(c[p])}}return{boxes:FLEX_BOXES,children:POSSIBLE_FLEX_CHILDREN}}function matchFlexChildren(e,t,r){var i,n,o=[],a,l,s,p,c,f,d;for(a=0,l=r.length;a<l;a++){s=r[a];if(s.selector){i=t(s.selector);i=i[0]?i:[i];if(i[0]){for(p=0,c=i.length;p<c;p++){f=i[p];if(f.nodeName!==UNDEFINED){switch(f.nodeName.toLowerCase()){case"script":case"style":case"link":break;default:if(f.parentNode===e){setFlexieId(f);n={};for(d in s){if(s.hasOwnProperty(d)){n[d]=s[d]}}n.match=f;o.push(n)}break}}}}}else{setFlexieId(s);o.push({match:s,selector:buildSelector(s)})}}return o}function getParams(e){var t;for(t in e){if(e.hasOwnProperty(t)){e[t]=e[t]||DEFAULTS[t]}}return e}function buildFlexieCall(e){var t,r,i,n,o,a,l,s,p,c,f,d,u,h,E,R={},g,L,T,_="["+FLX_PARENT_ATTR+"]",S,I,O,m,D,P,y,N,x,F,b,X,M,A;if(!e){return}for(S=0,I=e.boxes.length;S<I;S++){O=e.boxes[S];O.selector=trim(O.selector);t=O.selector;r=O.properties;a=l=s=p=c=NULL;for(m=0,D=r.length;m<D;m++){P=r[m];i=trim(P.property);n=trim(P.value);if(i){o=i.replace("box-",EMPTY_STRING);switch(o){case"display":if(n==="box"){a=n}break;case"orient":l=n;break;case"align":s=n;break;case"direction":p=n;break;case"pack":c=n;break}}}f=LIBRARY;d=f(O.selector);d=d[0]?d:[d];for(m=0,D=d.length;m<D;m++){y=d[m];if(y.nodeType){setFlexieId(y);u=matchFlexChildren(y,f,e.children);T=t+" "+_;E={target:y,selector:t,properties:r,children:u,display:a,orient:l,align:s,direction:p,pack:c,nested:T};g=R[y.FLX_DOM_ID];if(g){for(N in E){if(E.hasOwnProperty(N)){n=E[N];switch(N){case"selector":if(n&&!new RegExp(n).test(g[N])){g[N]+=", "+n}break;case"children":for(x=0,F=E[N].length;x<F;x++){b=E[N][x];L=FALSE;for(X=0,M=g[N].length;X<M;X++){A=g[N][X];if(b.match.FLX_DOM_ID===A.match.FLX_DOM_ID){L=TRUE}}if(!L){g[N].push(b)}}break;default:if(n){g[N]=n}break}}}}else{R[y.FLX_DOM_ID]=getParams(E);R[y.FLX_DOM_ID].target.setAttribute(FLX_PARENT_ATTR,TRUE)}}}}DOM_ORDERED=LIBRARY(_);FLEX_BOXES={};for(S=0,I=DOM_ORDERED.length;S<I;S++){y=DOM_ORDERED[S];FLEX_BOXES[y.FLX_DOM_ID]=R[y.FLX_DOM_ID]}for(N in FLEX_BOXES){if(FLEX_BOXES.hasOwnProperty(N)){O=FLEX_BOXES[N];if(O.display==="box"){h=new FLX.box(O)}}}}function addFlexboxElement(e){var t=e.target,r="#"+t.id,i="["+FLX_PARENT_ATTR+"]";setFlexieId(t);matchFlexChildren(t,LIBRARY,t.childNodes);e.nestedFlexboxes=r+" "+i;FLEX_BOXES[t.FLX_DOM_ID]=getParams(e);FLEX_BOXES[t.FLX_DOM_ID].target.setAttribute(FLX_PARENT_ATTR,TRUE)}function calcPx(e,t,r){var i=r.replace(r.charAt(0),r.charAt(0).toUpperCase()),n=e["offset"+i]||0,o,a,l;if(n){for(o=0,a=t.length;o<a;o++){l=parseFloat(e.currentStyle[t[o]]);if(!isNaN(l)){n-=l}}}return n}function getTrueValue(e,t){var r,i,n=e.currentStyle&&e.currentStyle[t],o=e.style;if(!PIXEL.test(n)&&NUMBER.test(n)){r=o.left;i=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left;o.left=n||0;n=o.pixelLeft+"px";o.left=r||0;e.runtimeStyle.left=i}return n}function unAuto(e,t,r){var i;switch(r){case"width":i=[PADDING_LEFT,PADDING_RIGHT,BORDER_LEFT,BORDER_RIGHT];t=calcPx(e,i,r);break;case"height":i=[PADDING_TOP,PADDING_BOTTOM,BORDER_TOP,BORDER_BOTTOM];t=calcPx(e,i,r);break;default:t=getTrueValue(e,r);break}return t}function getPixelValue(e,t,r){if(PIXEL.test(t)){return t}if(t==="auto"||t==="medium"){t=unAuto(e,t,r)}else{t=getTrueValue(e,r)}return t}function getComputedStyle(e,t,r){var i;if(e===UNDEFINED){return}if(win.getComputedStyle){i=win.getComputedStyle(e,NULL)[t]}else{if(SIZES.test(t)){i=getPixelValue(e,e&&e.currentStyle?e.currentStyle[t]:0,t)}else{i=e.currentStyle[t]}}if(r){i=parseInt(i,10);if(isNaN(i)){i=0}}return i}function clientWidth(e){return e.innerWidth||e.clientWidth}function clientHeight(e){return e.innerHeight||e.clientHeight}function appendProperty(e,t,r,i){var n=[],o,a,l;for(o=0,a=PREFIXES.length;o<a;o++){l=PREFIXES[o];n.push((i?l:EMPTY_STRING)+t+":"+(!i?l:EMPTY_STRING)+r)}e.style.cssText+=n.join(";");return e}function appendPixelValue(e,t,r){var i=e&&e[0]?e:[e],n,o;for(n=0,o=i.length;n<o;n++){e=i[n];if(e&&e.style){e.style[t]=r?r+"px":EMPTY_STRING}}}function calculateSpecificity(e){var t,r,i,n,o,a;t=e.replace(CSS_SELECTOR,function(e,t){return"%"+t}).replace(/\s|\>|\+|\~/g,"%").split(/%/g);r={_id:100,_class:10,_tag:1};i=0;for(n=0,o=t.length;n<o;n++){a=t[n];if(/#/.test(a)){i+=r._id}else if(/\.|\[|\:/.test(a)){i+=r._class}else if(/[a-zA-Z]+/.test(a)){i+=r._tag}}return i}function filterDuplicates(e,t,r){var i=[],n,o=(r?"ordinal":"flex")+"Specificity",a,l,s,p,c,f;for(a=0,l=e.length;a<l;a++){s=e[a];if(!r&&s.flex||r&&s["ordinal-group"]){s[o]=s[o]||calculateSpecificity(s.selector);n=FALSE;for(p=0,c=i.length;p<c;p++){f=i[p];if(f.match===s.match){if(f[o]<s[o]){i[l]=s}n=TRUE;return FALSE}}if(!n){i.push(s)}}}return i}function createMatchMatrix(e,t,r){var i={},n=[],o=0,a,l="ordinal-group",s="data-"+l,p,c,f,d,u,h,E;e=filterDuplicates(e,t,r);for(p=0,c=t.length;p<c;p++){f=t[p];for(d=0,u=e.length;d<u;d++){h=e[d];if(r){a=h[l]||"1";if(h.match===f){h.match.setAttribute(s,a);i[a]=i[a]||[];i[a].push(h)}}else{a=h.flex||"0";if(h.match===f&&(!h[a]||h[a]&&parseInt(h[a],10)<=1)){o+=parseInt(a,10);i[a]=i[a]||[];i[a].push(h)}}}if(r&&!f.getAttribute(s)){a="1";f.setAttribute(s,a);i[a]=i[a]||[];i[a].push({match:f})}}for(E in i){if(i.hasOwnProperty(E)){n.push(E)}}n.sort(function(e,t){return t-e});return{keys:n,groups:i,total:o}}function attachResizeListener(e,t){if(!RESIZE_LISTENER){var r,i,n,o,a=doc.body,l=doc.documentElement,s,p="innerWidth",c="innerHeight",f="clientWidth",d="clientHeight";addEvent("resize",function(){if(s){window.clearTimeout(s)}s=window.setTimeout(function(){n=win[p]||l[p]||l[f]||a[f];o=win[c]||l[c]||l[d]||a[d];if(r!==n||i!==o){FLX.updateInstance(NULL,NULL);r=n;i=o}},250)});RESIZE_LISTENER=TRUE}}function cleanPositioningProperties(e){var t,r,i,n,o;for(t=0,r=e.length;t<r;t++){i=e[t];n=i.style.width;o=i.style.height;i.style.cssText=EMPTY_STRING;i.style.width=n;i.style.height=o}}function sanitizeChildren(e,t){var r=[],i,n,o;for(n=0,o=t.length;n<o;n++){i=t[n];if(i){switch(i.nodeName.toLowerCase()){case"script":case"style":case"link":break;default:if(i.nodeType===1){r.push(i)}else if(i.nodeType===3&&(i.isElementContentWhitespace||ONLY_WHITESPACE.test(i.data))){e.removeChild(i);n--}break}}}return r}function parentFlex(e){var t=0,r=e.parentNode,i,n,o;while(r.FLX_DOM_ID){i=FLEX_BOXES[r.FLX_DOM_ID];n=createMatchMatrix(i.children,sanitizeChildren(r,r.childNodes),NULL);t+=n.total;o=TRUE;r=r.parentNode}return{nested:o,flex:t}}function dimensionValues(e,t){var r=e.parentNode,i,n,o,a,l;if(r.FLX_DOM_ID){i=FLEX_BOXES[r.FLX_DOM_ID];for(o=0,a=i.properties.length;o<a;o++){l=i.properties[o];if(new RegExp(t).test(l.property)){n=TRUE;return FALSE}}}return n}function updateChildValues(e){var t,r,i;if(e.flexMatrix){for(t=0,r=e.children.length;t<r;t++){i=e.children[t];i.flex=e.flexMatrix[t]}}if(e.ordinalMatrix){for(t=0,r=e.children.length;t<r;t++){i=e.children[t];i["ordinal-group"]=e.ordinalMatrix[t]}}return e}function ensureStructuralIntegrity(e,t){var r=e.target;if(!r.FLX_DOM_ID){r.FLX_DOM_ID=r.FLX_DOM_ID||++FLX_DOM_ID}if(!e.nodes){e.nodes=sanitizeChildren(r,r.childNodes)}if(!e.selector){e.selector=buildSelector(r);r.setAttribute(FLX_PARENT_ATTR,TRUE)}if(!e.properties){e.properties=[]}if(!e.children){e.children=matchFlexChildren(r,LIBRARY,sanitizeChildren(r,r.childNodes))}if(!e.nested){e.nested=e.selector+" ["+FLX_PARENT_ATTR+"]"}e.target=r;e._instance=t;return e}selectivizrEngine=function(){var e=/(\/\*[^*]*\*+([^\/][^*]*\*+)*\/)\s*?/g,t=/@import\s*(?:(?:(?:url\(\s*(['"]?)(.*)\1)\s*\))|(?:(['"])(.*)\3))\s*([^;]*);/g,r=/(behavior\s*?:\s*)?\burl\(\s*(["']?)(?!data:)([^"')]+)\2\s*\)/g,i=/((?:^|(?:\s*\})+)(?:\s*@media[^\{]+\{)?)\s*([^\{]*?[\[:][^{]+)/g,n=/([(\[+~])\s+/g,o=/\s+([)\]+~])/g,a=/\s+/g,l=/^\s*((?:[\S\s]*\S)?)\s*$/;function s(e){return e.replace(l,PLACEHOLDER_STRING)}function p(e){return s(e).replace(a,SPACE_STRING)}function c(e){return p(e.replace(n,PLACEHOLDER_STRING).replace(o,PLACEHOLDER_STRING))}function f(e){return e.replace(i,function(e,t,r){var i,n,o,a,l;i=r.split(",");for(o=0,a=i.length;o<a;o++){l=i[o];n=c(l)+SPACE_STRING}return t+i.join(",")})}function d(){if(win.XMLHttpRequest){return new win.XMLHttpRequest}try{return new win.ActiveXObject("Microsoft.XMLHTTP")}catch(e){return NULL}}function u(e){var t=/<style[^<>]*>([^<>]*)<\/style[\s]?>/gim,r=t.exec(e),i=[],n;while(r){n=r[1];if(n){i.push(n)}r=t.exec(e)}return i.join("\n\n")}function h(e){var t=d(),r;t.open("GET",e,FALSE);t.send();r=t.status===200?t.responseText:EMPTY_STRING;if(e===window.location.href){r=u(r)}return r}function E(e,t){if(!e){return}function r(e){return e.substring(0,e.indexOf("/",8))}if(PROTOCOL.test(e)){return r(t)===r(e)?e:NULL}if(e.charAt(0)==="/"){return r(t)+e}var i=t.split("?")[0];if(e.charAt(0)!=="?"&&i.charAt(i.length-1)!=="/"){i=i.substring(0,i.lastIndexOf("/")+1)}return i+e}function R(i){if(i){return h(i).replace(e,EMPTY_STRING).replace(t,function(e,t,r,n,o,a){var l=R(E(r||o,i));return a?"@media "+a+" {"+l+"}":l}).replace(r,function(e,t,r,n){r=r||EMPTY_STRING;return t?e:" url("+r+E(n,i,true)+r+") "})}return EMPTY_STRING}return function(){var e,t=[],r,i,n,o=doc.getElementsByTagName("BASE"),a=o.length>0?o[0].href:doc.location.href,l=doc.styleSheets,s,p,c;for(i=0,n=l.length;i<n;i++){r=l[i];if(r!=NULL){t.push(r)}}t.push(window.location);for(i=0,n=t.length;i<n;i++){r=t[i];if(r){e=E(r.href,a);if(e){s=f(R(e))}if(s){p=buildSelectorTree(s);c=findFlexboxElements(p)}}}buildFlexieCall(c)}}();FLX.box=function(e){return this.renderModel(e)};FLX.box.prototype={properties:{boxModel:function(e,t,r){var i,n,o,a,l,s,p;e.style.display="block";if(BROWSER.IE===8){e.style.overflow="hidden"}if(!r.cleared){i=r.selector.split(/\s?,\s?/);n=doc.styleSheets;n=n[n.length-1];o="padding-top:"+(getComputedStyle(e,PADDING_TOP,NULL)||"0.1px;");a=["content: '.'","display: block","height: 0","overflow: hidden"].join(";");for(l=0,s=i.length;l<s;l++){p=i[l];if(n.addRule){if(BROWSER.IE<8){e.style.zoom="1";if(BROWSER.IE===6){n.addRule(p.replace(/\>|\+|\~/g,""),o+"zoom:1;",0)}else if(BROWSER.IE===7){n.addRule(p,o+"display:inline-block;",0)}}else{n.addRule(p,o,0);n.addRule(p+":before",a,0);n.addRule(p+":after",a+";clear:both;",0)}}else if(n.insertRule){n.insertRule(p+"{"+o+"}",0);n.insertRule(p+":after{"+a+";clear:both;}",0)}}r.cleared=TRUE}},boxDirection:function(e,t,r){var i,n,o,a,l,s;if(r.direction==="reverse"&&!r.reversed||r.direction==="normal"&&r.reversed){t=t.reverse();for(o=0,a=t.length;o<a;o++){l=t[o];e.appendChild(l)}i=LIBRARY(r.nested);for(o=0,a=i.length;o<a;o++){s=i[o];n=FLEX_BOXES[s.FLX_DOM_ID];if(n&&n.direction===INHERIT){n.direction=r.direction}}r.reversed=!r.reversed}},boxOrient:function(e,t,r){var i=this,n,o,a,l,s;n={pos:"marginLeft",opp:"marginRight",dim:"width",out:"offsetWidth",main:"width",func:clientWidth,pad:[PADDING_LEFT,PADDING_RIGHT,BORDER_LEFT,BORDER_RIGHT]};o={pos:"marginTop",opp:"marginBottom",dim:"height",out:"offsetHeight",main:"height",func:clientHeight,pad:[PADDING_TOP,PADDING_BOTTOM,BORDER_TOP,BORDER_BOTTOM]};if(!SUPPORT){for(a=0,l=t.length;a<l;a++){s=t[a];s.style[BROWSER.IE>=9?"cssFloat":"styleFloat"]=LEFT;if(r.orient===VERTICAL||r.orient===BLOCK_AXIS){s.style.clear=LEFT}if(BROWSER.IE===6){s.style.display="inline"}}}switch(r.orient){case VERTICAL:case BLOCK_AXIS:i.props=o;i.anti=n;break;default:i.props=n;i.anti=o;break}},boxOrdinalGroup:function(e,t,r){var i,n;if(!t.length){return}i=function(i){var n=i.keys,o=r.reversed?n:n.reverse(),a,l,s,p,c,f;for(a=0,l=o.length;a<l;a++){s=o[a];for(p=0,c=t.length;p<c;p++){f=t[p];if(s===f.getAttribute("data-ordinal-group")){e.appendChild(f)}}}};n=createMatchMatrix(r.children,t,TRUE);if(n.keys.length>1){i(n)}},boxFlex:function(e,t,r){var i=this,n,o,a,l,s,p,c;if(!t.length){return}n=function(e){var t=e.groups,r=e.keys,n,o,a,l,s,p,c,f,d,u;for(o=0,a=r.length;o<a;o++){l=r[o];for(s=0,p=t[l].length;s<p;s++){c=t[l][s];n=NULL;if(c.properties!==undefined&&c.properties.length!==undefined){for(f=0,d=c.properties.length;f<d;f++){u=c.properties[f];if(RESTRICTIVE_PROPERTIES.test(u.property)){n=parseFloat(u.value)}}}if(!n||c.match[i.props.out]>n){appendPixelValue(c.match,i.props.pos,NULL)}}}};o=function(r){var n=0,o,a,l,s,p,c,f,d;for(l=0,s=t.length;l<s;l++){p=t[l];n+=getComputedStyle(p,i.props.dim,TRUE);for(c=0,f=i.props.pad.length;c<f;c++){d=i.props.pad[c];n+=getComputedStyle(p,d,TRUE)}n+=getComputedStyle(p,i.props.pos,TRUE);n+=getComputedStyle(p,i.props.opp,TRUE)}o=Math.floor(parseFloat(window.getComputedStyle(e,null)[i.props.main]))-n;a=o/r.total;return{whitespace:o,ration:a}};a=function(e,t){var r=e.groups,n=e.keys,o,a,l=t.ration,s,p,c,f,d,u,h,E,R;for(f=0,d=n.length;f<d;f++){u=n[f];s=l*u;var g=0;for(h=0,E=r[u].length;h<E;h++){R=r[u][h];if(R.match){o=R.match.getAttribute("data-flex");a=R.match.getAttribute("data-specificity");if(!o||a<=R.flexSpecificity){R.match.setAttribute("data-flex",u);R.match.setAttribute("data-specificity",R.flexSpecificity);p=getComputedStyle(R.match,i.props.dim,TRUE);c=Math.max(0,p+s);g+=s;if(h==E-1)c--;appendPixelValue(R.match,i.props.dim,c)}}}}};l=createMatchMatrix(r.children,t,NULL);if(l.total){r.hasFlex=TRUE;s=n(l);p=o(l);c=a(l,p)}},boxAlign:function(e,t,r){var i=this,n,o,a=parentFlex(e),l,s,p,c,f,d;if(!SUPPORT&&!a.flex&&(r.orient===VERTICAL||r.orient===BLOCK_AXIS)){if(!dimensionValues(e,i.anti.dim)){appendPixelValue(e,i.anti.dim,NULL)}appendPixelValue(t,i.anti.dim,NULL)}n=e[i.anti.out];for(l=0,s=i.anti.pad.length;l<s;l++){p=i.anti.pad[l];n-=getComputedStyle(e,p,TRUE)}switch(r.align){case"start":break;case"end":for(l=0,s=t.length;l<s;l++){d=t[l];o=n-d[i.anti.out];o-=getComputedStyle(d,i.anti.opp,TRUE);appendPixelValue(d,i.anti.pos,o)}break;case"center":for(l=0,s=t.length;l<s;l++){d=t[l];o=(n-d[i.anti.out])/2;appendPixelValue(d,i.anti.pos,o)}break;default:for(l=0,s=t.length;l<s;l++){d=t[l];switch(d.nodeName.toLowerCase()){case"button":case"input":case"select":break;default:var u=0;for(c=0,f=i.anti.pad.length;c<f;c++){p=i.anti.pad[c];u+=getComputedStyle(d,p,TRUE);u+=getComputedStyle(e,p,TRUE)}d.style[i.anti.dim]="100%";o=d[i.anti.out]-u;appendPixelValue(d,i.anti.dim,NULL);o=n;o-=getComputedStyle(d,i.anti.pos,TRUE);for(c=0,f=i.anti.pad.length;c<f;c++){p=i.anti.pad[c];o-=getComputedStyle(d,p,TRUE)}o-=getComputedStyle(d,i.anti.opp,TRUE);o=Math.max(0,o);appendPixelValue(d,i.anti.dim,o);break}}break}},boxPack:function(e,t,r){var i=this,n=0,o=0,a=0,l,s,p,c,f=t.length-1,d,u,h,E,R;for(u=0,h=t.length;u<h;u++){d=t[u];n+=d[i.props.out];n+=getComputedStyle(d,i.props.pos,TRUE);n+=getComputedStyle(d,i.props.opp,TRUE)}o=getComputedStyle(t[0],i.props.pos,TRUE);l=Math.floor(parseFloat(window.getComputedStyle(e,null)[i.props.main]))-n;if(l<0){l=0}switch(r.pack){case"end":appendPixelValue(t[0],i.props.pos,a+o+l);break;case"center":if(a){a/=2}appendPixelValue(t[0],i.props.pos,a+o+l/2);break;case"justify":s=Math.floor((a+l)/f);c=s*f-l;u=t.length-1;while(u){d=t[u];p=s;if(c){p++;c++}E=getComputedStyle(d,i.props.pos,TRUE)+p-1;appendPixelValue(d,i.props.pos,E);u--}break}e.style.overflow=""}},setup:function(e,t,r){var i=this,n,o,a,l;if(!e||!t||!r){return}if(SUPPORT&&SUPPORT.partialSupport){n=createMatchMatrix(r.children,t,NULL);o=parentFlex(e);t=sanitizeChildren(e,e.childNodes);i.properties.boxOrient.call(i,e,t,r);if(!n.total||!LIBRARY(r.nested).length){if(r.align==="stretch"&&!SUPPORT.boxAlignStretch&&(!o.nested||!o.flex)){i.properties.boxAlign.call(i,e,t,r)}if(r.pack==="justify"&&!SUPPORT.boxPackJustify&&!n.total){i.properties.boxPack.call(i,e,t,r)}}}else if(!SUPPORT){for(a in i.properties){if(i.properties.hasOwnProperty(a)){l=i.properties[a];l.call(i,e,sanitizeChildren(e,e.childNodes),r)}}}},trackDOM:function(e){attachResizeListener(this,e)},updateModel:function(e){var t=this,r=e.target,i=e.nodes;cleanPositioningProperties(i);if(e.flexMatrix||e.ordinalMatrix){e=updateChildValues(e)}t.setup(r,i,e);t.bubbleUp(r,e)},renderModel:function(e){var t=this,r=e.target,i=r.childNodes;if(!r.length&&!i){return false}e=ensureStructuralIntegrity(e,this);t.updateModel(e);if(e.dynamic){addFlexboxElement(e)}win.setTimeout(function(){t.trackDOM(e)},0);return t},bubbleUp:function(e,t){var r=this,i,n=t.target.parentNode;while(n){i=FLEX_BOXES[n.FLX_DOM_ID];if(i){cleanPositioningProperties(i.nodes);r.setup(i.target,i.nodes,i)}n=n.parentNode}}};FLX.updateInstance=function(e,t){var r,i;if(e){r=FLEX_BOXES[e.FLX_DOM_ID];if(r&&r._instance){r._instance.updateModel(r)}else if(!r){r=new FLX.box(t)}}else{for(i in FLEX_BOXES){if(FLEX_BOXES.hasOwnProperty(i)){r=FLEX_BOXES[i];if(r&&r._instance){r._instance.updateModel(r)}}}}};FLX.getInstance=function(e){return FLEX_BOXES[e.FLX_DOM_ID]};FLX.destroyInstance=function(e){var t,r,i,n,o,a;r=function(e){e.target.FLX_DOM_ID=NULL;e.target.style.cssText=EMPTY_STRING;for(i=0,n=e.children.length;i<n;i++){o=e.children[i];o.match.style.cssText=EMPTY_STRING}};if(e){t=FLEX_BOXES[e.FLX_DOM_ID];if(t){r(t)}}else{for(a in FLEX_BOXES){if(FLEX_BOXES.hasOwnProperty(a)){r(FLEX_BOXES[a])}}FLEX_BOXES=[]}};FLX.flexboxSupport=function(){var e={},t=100,r,i=doc.createElement("flxbox"),n='<b style="margin: 0; padding: 0; display:block; width: 10px; height:'+t/2+'px"></b>',o,a,l,s;i.style.width=i.style.height=t+"px";i.innerHTML=n+n+n;appendProperty(i,"display","box",NULL);appendProperty(i,"box-align","stretch",TRUE);appendProperty(i,"box-pack","justify",TRUE);doc.body.appendChild(i);r=i.firstChild.offsetHeight;o={boxAlignStretch:function(){return r===100},boxPackJustify:function(){var e=0,t,r;for(t=0,r=i.childNodes.length;t<r;t++){e+=i.childNodes[t].offsetLeft}return e===135}};for(l in o){if(o.hasOwnProperty(l)){s=o[l];a=s();if(!a){e.partialSupport=TRUE}e[l]=a}}doc.body.removeChild(i);return~i.style.display.indexOf("box")?e:FALSE};FLX.init=function(){FLX.flexboxSupported=SUPPORT=FLX.flexboxSupport();if((!SUPPORT||SUPPORT.partialSupport)&&LIBRARY){selectivizrEngine()}};FLX.version="1.0.3";return FLX}(this,document);