/*!
 * OpenUI5
 * (c) Copyright 2009-2020 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/thirdparty/jquery"],function(t){"use strict";function e(t,e){e=e||" ";return t.replace(/[\-_]/g," ").trim().replace(/(?!\s)\W/g,"").replace(/\s+/g,e)}var r={normalization:{titleCase:function(t){r._testNormalizationInput(t,"titleCase");return e(t).replace(/\w*/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})},pascalCase:function(t){r._testNormalizationInput(t,"pascalCase");return r.normalization.titleCase(t).split(/\s/).join("")},camelCase:function(t){r._testNormalizationInput(t,"camelCase");return r.normalization.pascalCase(t).replace(/^(\w)/,function(t){return t.toLowerCase()})},hyphenated:function(t){r._testNormalizationInput(t,"hyphenated");return e(t,"-").toLowerCase()},none:function(t){r._testNormalizationInput(t,"none");return t}},toTable:function(t,e){this._testArrayInput(t,"toTable");var r=this._getNormalizationFunction(e,"toTable");var a=t[0].map(r);return t.slice(1).map(function(t){var e={};for(var r=0;r<a.length;++r){var n=a[r];if(e.hasOwnProperty(n)===false){e[n]=t[r]}else{throw new Error("dataTableUtils.toTable: data table contains duplicate header: | "+n+" |")}}return e})},toObject:function(e,r){this._testArrayInput(e,"toObject");var a=this._getNormalizationFunction(r,"toObject");this._detectDuplicateKeys(e,a);var n={};e.forEach(function(e){var r=a(e[0]);var i=e.slice(1);if(i.length===1){i=i[0]}else{i=i.reduceRight(function(t,e){var r={};r[a(e)]=t;return r})}if(!n.hasOwnProperty(r)){n[r]=i}else{t.extend(n[r],i)}});return n},_detectDuplicateKeys:function(t,e){var r={};t.forEach(function(t){var a=t.slice(0,t.length-1).map(e);for(var n=a.length;n>0;--n){var i=a.slice(0,n).join("-");if(!r[i]){r[i]=t}else{var o=r[i];var s=o.slice(0,o.length-1).map(e);if(o.length!==t.length||s.every(function(t,e){return a[e]===t})){var l="| "+o.join(" | ")+" |";throw new Error("dataTableUtils.toObject: data table row is being overwritten: "+l)}}}})},_getNormalizationFunction:function(e,r){var a="dataTableUtils."+r+": parameter 'vNorm' must be either a Function or a String with the value 'titleCase', 'pascalCase', 'camelCase', 'hyphenated' or 'none'";switch(t.type(e)){case"string":var n=this.normalization[e];if(n===undefined){throw new Error(a)}return n;case"function":return e;case"undefined":case"null":return this.normalization.none;default:throw new Error(a)}},_testNormalizationInput:function(e,r){if(t.type(e)!=="string"){throw new Error("dataTableUtils.normalization."+r+": parameter 'sString' must be a valid string")}},_testArrayInput:function(e,r){var a="dataTableUtils."+r+": parameter 'aData' must be an Array of Array of Strings";if(t.type(e)!=="array"){throw new Error(a)}if(!e.every(function(e){return t.type(e)==="array"&&e.every(function(e){return t.type(e)==="string"})})){throw new Error(a)}}};return r},true);