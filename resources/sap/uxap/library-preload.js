//@ui5-bundle sap/uxap/library-preload.js
sap.ui.predefine("sap/uxap/AnchorBar",["sap/ui/thirdparty/jquery","sap/m/Button","sap/m/MenuButton","sap/m/library","sap/m/Toolbar","sap/ui/core/IconPool","sap/ui/core/Item","sap/ui/core/ResizeHandler","sap/ui/core/delegate/ScrollEnablement","sap/ui/layout/HorizontalLayout","sap/ui/Device","sap/ui/core/CustomData","sap/ui/core/Control","./HierarchicalSelect","./library","sap/uxap/AnchorBarRenderer","sap/base/Log","sap/ui/events/KeyCodes"],function(t,e,o,i,r,s,n,a,l,c,h,u,f,p,d,g,_,S){"use strict";var y=i.SelectType;var A=r.extend("sap.uxap.AnchorBar",{metadata:{library:"sap.uxap",properties:{showPopover:{type:"boolean",defaultValue:true},upperCase:{type:"boolean",defaultValue:false},backgroundDesign:{type:"sap.m.BackgroundDesign",group:"Appearance"}},associations:{selectedButton:{type:"sap.m.Button",multiple:false}},aggregations:{_select:{type:"sap.uxap.HierarchicalSelect",multiple:false,visibility:"hidden"},_scrollArrowLeft:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},_scrollArrowRight:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}}}});A.prototype.init=function(){if(r.prototype.init){r.prototype.init.call(this)}this.addStyleClass("sapUxAPAnchorBar");this._oPressHandlers={};this._oSectionInfo={};this._oScroller=null;this._sSelectedKey=null;this._bRtl=sap.ui.getCore().getConfiguration().getRTL();this._bRtlScenario=this._bRtl&&!h.browser.msie;this._bHasButtonsBar=h.system.tablet||h.system.desktop;this.oLibraryResourceBundleOP=sap.ui.getCore().getLibraryResourceBundle("sap.uxap");this._oSelect=this._getHierarchicalSelect();if(this._bHasButtonsBar){this._oScroller=new l(this,this.getId()+"-scroll",{horizontal:true,vertical:false,nonTouchScrolling:true});this._iREMSize=0;this._iTolerance=0;this._iOffset=0;this._sResizeListenerId=undefined}this.setDesign("Transparent")};A.SCROLL_STEP=250;A.SCROLL_DURATION=500;A.DOM_CALC_DELAY=200;A.prototype.setSelectedButton=function(t){var e=this.getSelectedButton(),o,i=this._oSelect.getItems(),r=i.length>0;if(typeof t==="string"){t=sap.ui.getCore().byId(t)}if(t){if(t.getId()===e){return this}var s=t.data("sectionId");this._sSelectedKey=s;if(s&&r){this._oSelect.setSelectedKey(s)}if(this._bHasButtonsBar&&t.data("secondLevel")!==true){o=sap.ui.getCore().byId(e);this._toggleSelectionStyleClass(o,false);this._toggleSelectionStyleClass(t,true);if(s){this.scrollToSection(s,A.SCROLL_DURATION)}this._setAnchorButtonsTabFocusValues(t)}this.setAssociation("selectedButton",t,true)}return this};A.prototype.setShowPopover=function(t,e){if(this.getShowPopover()===t){return this}return this.setProperty("showPopover",t,true)};A.prototype.getSelectedSection=function(){var t=this.getSelectedButton();if(t&&typeof t==="string"){t=sap.ui.getCore().byId(t)}if(t&&t instanceof e&&t.data("sectionId")){return sap.ui.getCore().byId(t.data("sectionId"))}return null};A.prototype.onBeforeRendering=function(){if(this._bHasButtonsBar){this._iREMSize=parseInt(t("body").css("font-size"));this._iTolerance=this._iREMSize*1;this._iOffset=this._iREMSize*3}if(r.prototype.onBeforeRendering){r.prototype.onBeforeRendering.call(this)}var e=this.getContent()||[],o=this.getUpperCase();this._oSelect.setUpperCase(o);this.toggleStyleClass("sapUxAPAnchorBarUpperCase",o);if(e.length>0&&this._sSelectedKey){this._oSelect.setSelectedKey(this._sSelectedKey)}};A.prototype.addContent=function(t,e){var o=t.data("secondLevel")===true||t.data("secondLevel")==="true";t.addStyleClass("sapUxAPAnchorBarButton");t.removeAllAriaDescribedBy();this._createSelectItem(t,o);if(o){t.destroy()}else{this.addAggregation("content",t,e)}return this};A.prototype._createSelectItem=function(t,e){if(t.getText().trim()!=""&&(!e||t.data("bTitleVisible")===true)){var o=new n({key:t.data("sectionId"),text:t.getText(),customData:[new u({key:"secondLevel",value:t.data("secondLevel")})]});this._oSelect.addItem(o)}};A.prototype._decorateSubMenuButtons=function(t){var e=t.getSource().getContent();e.forEach(function(t){t.$().attr("aria-controls",t.data("sectionId"))})};A.prototype._toggleSelectionStyleClass=function(t,e){if(t&&t.toggleStyleClass){t.toggleStyleClass("sapUxAPAnchorBarButtonSelected",e);if(t instanceof o){t._getButtonControl().$().attr("aria-selected",e)}else{t.$().attr("aria-selected",e)}}};A.prototype._handleDirectScroll=function(t){this._requestScrollToSection(t.getSource().data("sectionId"))};A.prototype._requestScrollToSection=function(t){var e=sap.ui.getCore().byId(t),o=e.getParent();if(this.getParent()instanceof d.ObjectPageLayout){var i=t;if(e instanceof d.ObjectPageSubSection&&o instanceof d.ObjectPageSection){i=o.getId()}this.getParent().setDirectScrollingToSection(i);this.getParent().scrollToSection(e.getId(),null,0,true)}if(e instanceof d.ObjectPageSubSection&&o instanceof d.ObjectPageSection){o.setAssociation("selectedSubSection",e,true)}};A.prototype._onSelectChange=function(t){var e=t.getParameter("selectedItem"),o;if(!e){_.warning("AnchorBar :: no selected hierarchicalSelect item");return}o=sap.ui.getCore().byId(e.getKey());if(o){this._requestScrollToSection(o.getId())}else{_.error("AnchorBar :: cannot find corresponding section",e.getKey())}};A.prototype._getHierarchicalSelect=function(){if(!this.getAggregation("_select")){this.setAggregation("_select",new p({width:"100%",icon:"sap-icon://slim-arrow-down",tooltip:this.oLibraryResourceBundleOP.getText("ANCHOR_BAR_OVERFLOW"),change:t.proxy(this._onSelectChange,this)}))}return this.getAggregation("_select")};A.prototype._createScrollArrow=function(t){var o,i,r,n,a,l=this,h=this.oLibraryResourceBundleOP.getText("TOOLTIP_OP_SCROLL_LEFT_ARROW"),u=this.oLibraryResourceBundleOP.getText("TOOLTIP_OP_SCROLL_RIGHT_ARROW");if(t){o=this.getId()+"-arrowScrollLeft";i="slim-arrow-left";r="anchorBarArrowLeft";n=this._bRtl?u:h}else{o=this.getId()+"-arrowScrollRight";i="slim-arrow-right";r="anchorBarArrowRight";n=this._bRtl?h:u}a=new e(o,{icon:s.getIconURI(i),type:"Transparent",press:function(e){e.preventDefault();l._handleScrollButtonTap(t)},tooltip:n});a.addEventDelegate({onAfterRendering:function(){if(sap.ui.getCore().getConfiguration().getTheme()!="sap_hcb"){this.$().attr("tabindex",-1)}},onThemeChanged:function(){if(sap.ui.getCore().getConfiguration().getTheme()=="sap_hcb"){this.$().removeAttr("tabindex")}else{this.$().attr("tabindex",-1)}}},a);return new c({content:[a]}).addStyleClass("anchorBarArrow").addStyleClass(r)};A.prototype._getScrollArrowLeft=function(){var t=this.getAggregation("_scrollArrowLeft");if(t){return t}else{t=this._createScrollArrow(true);this.setAggregation("_scrollArrowLeft",t);return t}};A.prototype._getScrollArrowRight=function(){var t=this.getAggregation("_scrollArrowRight");if(t){return t}else{t=this._createScrollArrow(false);this.setAggregation("_scrollArrowRight",t);return t}};A.prototype._applyHierarchicalSelectMode=function(){if(this._sHierarchicalSelectMode===g._AnchorBarHierarchicalSelectMode.Icon){this._bHideScrollContainer=false;this._oSelect.setWidth("auto");this._oSelect.setAutoAdjustWidth(true);this._oSelect.setType(y.IconOnly);this._computeBarSectionsInfo()}else{this._bHideScrollContainer=true;this._oSelect.setWidth("100%");this._oSelect.setAutoAdjustWidth(false);this._oSelect.setType(y.Default)}this.$().toggleClass("sapUxAPAnchorBarOverflow",this._sHierarchicalSelectMode===g._AnchorBarHierarchicalSelectMode.Icon);this.invalidate()};A.prototype._adjustSize=function(t){var e=h.media.getCurrentRange(h.media.RANGESETS.SAP_STANDARD,this._getWidth(this)),o=t&&t.size&&t.size.width!==t.oldSize.width,i=d.Utilities.isPhoneScenario(e)?g._AnchorBarHierarchicalSelectMode.Text:g._AnchorBarHierarchicalSelectMode.Icon;if(i!==this._sHierarchicalSelectMode){this._sHierarchicalSelectMode=i;this._applyHierarchicalSelectMode()}if(this._sHierarchicalSelectMode===g._AnchorBarHierarchicalSelectMode.Icon){if(this._iMaxPosition<0){return}var r=this.$(),s=r.find(".sapUxAPAnchorBarScrollContainer"),n,a,l;if(o){this.scrollToSection(this._sSelectedKey)}l=s.width();if(this._bRtlScenario){if(h.browser.firefox){a=Math.abs(s.scrollLeft())+l<this._iMaxPosition-this._iTolerance;n=Math.abs(s.scrollLeft())>=this._iTolerance}else{a=Math.abs(s.scrollLeft())>=this._iTolerance;n=Math.abs(s.scrollLeft())+l<this._iMaxPosition-this._iTolerance}}else{a=s.scrollLeft()+l<this._iMaxPosition-this._iTolerance;n=s.scrollLeft()>=this._iTolerance}_.debug("AnchorBar :: scrolled at "+s.scrollLeft(),"scrollBegin ["+(n?"true":"false")+"] scrollEnd ["+(a?"true":"false")+"]");r.toggleClass("sapUxAPAnchorBarScrollLeft",n);r.toggleClass("sapUxAPAnchorBarScrollRight",a)}};A.prototype._handleScrollButtonTap=function(t){var e=!this._bRtlScenario&&t||this._bRtlScenario&&!t?-1:1;this._oScroller.scrollTo(this._iMaxPosition*e,0,A.SCROLL_DURATION*3)};A.prototype.scrollToSection=function(e,o){if(this._bHasButtonsBar){var i=h.media.getCurrentRange(h.media.RANGESETS.SAP_STANDARD,this._getWidth(this)),o=o||A.SCROLL_DURATION,r;if(!d.Utilities.isPhoneScenario(i)&&this._oSectionInfo[e]){if(this._bRtlScenario&&h.browser.firefox){r=this._oSectionInfo[e].scrollLeft+this._iOffset}else{r=this._oSectionInfo[e].scrollLeft-this._iOffset;if(r<0){r=0}}_.debug("AnchorBar :: scrolling to section "+e+" of "+r);if(this._sCurrentScrollId!=e){this._sCurrentScrollId=e;if(this._iCurrentScrollTimeout){clearTimeout(this._iCurrentScrollTimeout);t(document.getElementById(this.getId()+"-scroll")).parent().stop(true,false)}this._iCurrentScrollTimeout=setTimeout(function(){this._sCurrentScrollId=undefined;this._iCurrentScrollTimeout=undefined}.bind(this),o);this._oScroller.scrollTo(r,0,o)}}else{_.debug("AnchorBar :: no need to scroll to "+e)}}};A.prototype.getScrollDelegate=function(){return this._oScroller};A.PAGEUP_AND_PAGEDOWN_JUMP_SIZE=5;A.prototype.onsapright=function(t){t.preventDefault();var e;var o=this.getContent();o.forEach(function(o,i){if(t.target.id.indexOf(o.getId())>-1){e=i+1;return}});if(e&&o[e]){o[e].focus()}else if(o[o.length-1]){o[o.length-1].focus()}};A.prototype.onsapleft=function(t){t.preventDefault();var e;var o=this.getContent();o.forEach(function(o,i){if(t.target.id.indexOf(o.getId())>-1){e=i-1;return}});if(e&&o[e]){o[e].focus()}else if(o[0]){o[0].focus()}};A.prototype.onsapdown=function(t){t.preventDefault()};A.prototype.onsapup=function(t){t.preventDefault()};A.prototype.onsaphome=function(t){t.preventDefault();var e=this.getContent();e[0].focus()};A.prototype.onsapend=function(t){t.preventDefault();var e=this.getContent();e[e.length-1].focus()};A.prototype.onsappageup=function(t){this._handlePageUp(t)};A.prototype.onsappagedown=function(t){this._handlePageDown(t)};A.prototype._handlePageUp=function(t){t.preventDefault();var e;var o=this.getContent();o.forEach(function(o,i){if(t.target.id.indexOf(o.getId())>-1){e=i-(A.PAGEUP_AND_PAGEDOWN_JUMP_SIZE+1);return}});if(e&&o[e]){o[e].focus()}else if(o[0]){o[0].focus()}};A.prototype._handlePageDown=function(t){t.preventDefault();var e;var o=this.getContent();o.forEach(function(o,i){if(t.target.id.indexOf(o.getId())>-1){e=i+A.PAGEUP_AND_PAGEDOWN_JUMP_SIZE+1;return}});if(e&&o[e]){o[e].focus()}else if(o[o.length-1]){o[o.length-1].focus()}};A.prototype._setAnchorButtonsTabFocusValues=function(t){var e=this.getContent()||[],o,i="0",r="-1",s="tabIndex";e.forEach(function(e){o=e.getAggregation("_button")?e.getAggregation("_button").$():e.$();if(e.sId===(t&&t.sId)){o.attr(s,i)}else{o.attr(s,r)}})};A.prototype.onAfterRendering=function(){var e;if(r.prototype.onAfterRendering){r.prototype.onAfterRendering.call(this)}e=sap.ui.getCore().byId(this.getSelectedButton());this._setAnchorButtonsTabFocusValues(e);this._iMaxPosition=-1;this._sResizeListenerId=a.register(this,t.proxy(this._adjustSize,this));this.$().find(".sapUxAPAnchorBarScrollContainer").on("scroll",t.proxy(this._onScroll,this));if(e){this.setSelectedButton(e)}if(this._bHasButtonsBar){setTimeout(function(){if(this._sHierarchicalSelectMode===g._AnchorBarHierarchicalSelectMode.Icon){this._computeBarSectionsInfo()}this._adjustSize()}.bind(this),A.DOM_CALC_DELAY)}};A.prototype._onScroll=function(){if(!this._iCurrentSizeCheckTimeout){this._iCurrentSizeCheckTimeout=setTimeout(function(){this._iCurrentSizeCheckTimeout=undefined;this._adjustSize()}.bind(this),A.SCROLL_DURATION)}};A.prototype._computeBarSectionsInfo=function(){this._iMaxPosition=0;var t=this.getContent()||[];t.forEach(this._computeNextSectionInfo,this);if(this._bRtlScenario&&(h.browser.webkit||h.browser.firefox)){t.forEach(this._adjustNextSectionInfo,this);this._oScroller.scrollTo(this._iMaxPosition,0,0)}};A.prototype._computeNextSectionInfo=function(t){var e=t.isA("sap.m.MenuButton")?t._getButtonControl():t,o=t.hasStyleClass("sapUxAPAnchorBarButtonSelected");if(t.data("bHasSubMenu")){e.$().attr("aria-haspopup","menu");e.$().find(".sapMBtn").attr("role","group").removeAttr("aria-haspopup")}e.$().attr("aria-controls",t.data("sectionId")).attr("aria-selected",o);var i=t.$().outerWidth(true);this._oSectionInfo[t.data("sectionId")]={scrollLeft:this._iMaxPosition,width:i};this._iMaxPosition+=i};A.prototype._adjustNextSectionInfo=function(t){var e=this._oSectionInfo[t.data("sectionId")];if(h.browser.firefox){e.scrollLeft=-e.scrollLeft}else{e.scrollLeft=this._iMaxPosition-e.scrollLeft-e.width}};A.prototype._resetControl=function(){this.destroyAggregation("content");this._oSelect.destroyAggregation("items",true);return this};A.prototype._getAccessibilityRole=function(){return"none"};A.prototype.enhanceAccessibilityState=function(t,e){var o=this.getContent(),i=o.indexOf(t);if(i!==-1){e.role="option";e.setsize=o.length;e.posinset=i+1}};A.prototype.exit=function(){if(this._sResizeListenerId){a.deregister(this._sResizeListenerId);this._sResizeListenerId=null}if(this._oScroller){this._oScroller.destroy();this._oScroller=null}if(this.oLibraryResourceBundleOP){this.oLibraryResourceBundleOP=null}};A.prototype._getWidth=function(t){var e=t.getDomRef();return!(t instanceof f)?0:e&&e.offsetWidth||0};A.prototype.setVisible=function(t){this.getParent()&&this.getParent().toggleStyleClass("sapUxAPObjectPageLayoutNoAnchorBar",!t);return this.setProperty("visible",t)};return A});
sap.ui.predefine("sap/uxap/AnchorBarRenderer",["sap/m/ToolbarRenderer","sap/ui/core/Renderer","sap/m/BarInPageEnabler","./library"],function(e,r,t,o){"use strict";var n=r.extend(e);n.apiVersion=2;var a=n._AnchorBarHierarchicalSelectMode={Icon:"icon",Text:"text"};n.renderBarContent=function(e,r){if(r._bHasButtonsBar){e.renderControl(r._getScrollArrowLeft());e.openStart("div",r.getId()+"-scrollContainer");if(r._bHideScrollContainer){e.style("display","none")}e.class("sapUxAPAnchorBarScrollContainer").openEnd();e.openStart("div",r.getId()+"-scroll").attr("role","listbox").attr("aria-describedby",r.getId()+"-desc").attr("aria-roledescription",sap.ui.getCore().getLibraryResourceBundle("sap.uxap").getText("ANCHOR_BAR_ROLE_DESCRIPTION")).openEnd();if(!r._bHideScrollContainer){n.renderBarItems(e,r)}e.close("div");e.openStart("span",r.getId()+"-desc").class("sapUiPseudoInvisibleText").openEnd();e.text(sap.ui.getCore().getLibraryResourceBundle("sap.uxap").getText("ANCHOR_BAR_ARIA_LABEL_DESC"));e.close("span");e.close("div");e.renderControl(r._getScrollArrowRight())}t.addChildClassTo(r._oSelect,r);e.renderControl(r._oSelect)};n.renderBarItems=function(e,r){var o=r.getSelectedButton();r.getContent().forEach(function(n){t.addChildClassTo(n,r);if(n.getId()===o){n.addStyleClass("sapUxAPAnchorBarButtonSelected")}e.renderControl(n)})};n.decorateRootElement=function(r,t){e.decorateRootElement.apply(this,arguments);if(t._sHierarchicalSelectMode===a.Icon){r.class("sapUxAPAnchorBarOverflow")}if(t.getBackgroundDesign()){r.class("sapUxAPAnchorBar"+t.getBackgroundDesign())}};return n},true);
sap.ui.predefine("sap/uxap/BlockBase",["sap/ui/thirdparty/jquery","sap/ui/core/Control","sap/ui/core/CustomData","sap/ui/core/mvc/View","./BlockBaseMetadata","sap/ui/model/Context","sap/ui/Device","sap/ui/layout/form/ColumnLayout","./library","sap/ui/core/Component","sap/ui/layout/library","sap/base/Log"],function(e,t,o,i,a,n,s,r,p,l,u,d){"use strict";var g=u.form.SimpleFormLayout;var c=p.BlockBaseFormAdjustment;var h=t.extend("sap.uxap.BlockBase",{metadata:{designtime:"sap/uxap/designtime/BlockBase.designtime",library:"sap.uxap",properties:{mode:{type:"string",group:"Appearance"},visible:{type:"boolean",group:"Appearance",defaultValue:true},columnLayout:{type:"sap.uxap.BlockBaseColumnLayout",group:"Behavior",defaultValue:"auto"},formAdjustment:{type:"sap.uxap.BlockBaseFormAdjustment",group:"Behavior",defaultValue:c.BlockColumns},showSubSectionMore:{type:"boolean",group:"Behavior",defaultValue:false}},defaultAggregation:"mappings",aggregations:{mappings:{type:"sap.uxap.ModelMapping",multiple:true,singularName:"mapping"},_views:{type:"sap.ui.core.Control",multiple:true,singularName:"view",visibility:"hidden"}},associations:{selectedView:{type:"sap.ui.core.Control",multiple:false}},events:{viewInit:{parameters:{view:{type:"sap.ui.core.mvc.View"}}}},views:{}},renderer:"sap.uxap.BlockBaseRenderer"},a);h.prototype.init=function(){if(!this.getMetadata().hasViews()){this.getMetadata().setView("defaultXML",{viewName:this.getMetadata().getName(),type:"XML"})}this._oMappingApplied={};this._bLazyLoading=false;this._bConnected=false;this._oUpdatedModels={};this._oParentObjectPageSubSection=null;this._oPromisedViews={}};h.prototype.onBeforeRendering=function(){var e;this._applyMapping();if(!this.getMode()||this.getMode()===""){if(this.getMetadata().getView("defaultXML")){this.setMode("defaultXML")}else{d.error("BlockBase ::: there is no mode defined for rendering "+this.getMetadata().getName()+". You can either set a default mode on the block metadata or set the mode property before rendering the block.")}}this._applyFormAdjustment();e=this._getObjectPageLayout();this._bLazyLoading=e&&(e.getEnableLazyLoading()||e.getUseIconTabBar())};h.prototype.onAfterRendering=function(){var e=this._getObjectPageLayout();if(e){e._requestAdjustLayout()}};h.prototype.setParent=function(e,o,i){if(e instanceof p.ObjectPageSubSection){this._bLazyLoading=true;this._oParentObjectPageSubSection=e}else{t.prototype.setParent.call(this,e,o,i)}};h.prototype.setModel=function(e,o){this._applyMapping(o);return t.prototype.setModel.call(this,e,o)};h.prototype._applyMapping=function(){if(this._shouldLazyLoad()){d.debug("BlockBase ::: Ignoring the _applyMapping as the block is not connected")}else{this.getMappings().forEach(function(e,o){var i,a,s=e.getInternalModelName(),r=e.getExternalPath(),p=e.getExternalModelName(),l;if(r){if(s==""||r==""){throw new Error("BlockBase :: incorrect mapping, one of the modelMapping property is empty")}i=this.getModel(p);if(!i){return}l=i.resolve(r,this.getBindingContext(p));a=this.getBindingContext(s);if(!this._isMappingApplied(s)||this.getModel(s)!==this.getModel(p)||a&&a.getPath()!==l){d.info("BlockBase :: mapping external model "+p+" to "+s);this._oMappingApplied[s]=true;t.prototype.setModel.call(this,i,s);this.setBindingContext(new n(i,l),s)}}},this)}};h.prototype._isMappingApplied=function(e){return this.getModel(e)&&this._oMappingApplied[e]};h.prototype.propagateProperties=function(e){if(this._shouldLazyLoad()&&!this._oUpdatedModels.hasOwnProperty(e)){this._oUpdatedModels[e]=true}else{this._applyMapping(e)}return t.prototype.propagateProperties.call(this,e)};h.prototype.getSupportedModes=function(){var t=e.extend({},this.getMetadata().getViews());for(var o in t){t[o]=o}return t};h.prototype.setMode=function(e){e=this._validateMode(e);if(this.getMode()!==e){this.setProperty("mode",e,false);if(!this._shouldLazyLoad()){this._selectView(e)}}return this};h.prototype.setColumnLayout=function(e){if(this._oParentObjectPageSubSection){this._oParentObjectPageSubSection.invalidate()}this.setProperty("columnLayout",e)};h.prototype.clone=function(){var e=-1,o=this.getAssociation("selectedView"),i=this.getAggregation("_views")||[];if(o){i.forEach(function(t,i){if(t.getId()===o){e=i}return e<0})}var a=t.prototype.clone.call(this);if(e>=0){a.setAssociation("selectedView",a.getAggregation("_views")[e])}return a};h.prototype._validateMode=function(e){this.validateProperty("mode",e);if(!this.getMetadata().getView(e)){var t=this.getMetadata()._sClassName||this.getId();if(this.getMetadata().getView("defaultXML")){d.warning("BlockBase :: no view defined for block "+t+" for mode "+e+", loading defaultXML instead");e="defaultXML"}else{throw new Error("BlockBase :: no view defined for block "+t+" for mode "+e)}}return e};h.prototype._getSelectedViewContent=function(){var e=null,t,o;t=this.getAssociation("selectedView");o=this.getAggregation("_views");if(o){for(var i=0;!e&&i<o.length;i++){if(o[i].getId()===t){e=o[i]}}}return e};h.prototype.createView=function(e,t){if(!this._oPromisedViews[e.id]){this._oPromisedViews[e.id]=new Promise(function(o,a){var n=l.getOwnerComponentFor(this),s=function(){var t=function(){return i.create(e)};if(n){return n.runAsOwner(t)}else{return t()}};s().then(function(e){this._afterViewInstantiated(e,t);o(e)}.bind(this))}.bind(this))}return this._oPromisedViews[e.id]};h.prototype._afterViewInstantiated=function(e,t){var i=e.getController();if(e){if(i){i.oParentBlock=this}e.addCustomData(new o({key:"layoutMode",value:t}));this.addAggregation("_views",e);this.fireEvent("viewInit",{view:e})}else{throw new Error("BlockBase :: no view defined in metadata.views for mode "+t)}};h.prototype._notifyForLoadingInMode=function(e,t,o){if(e&&typeof e.onParentBlockModeChange==="function"){e.onParentBlockModeChange(o)}else{d.info("BlockBase ::: could not notify "+t.sViewName+" of loading in mode "+o+": missing controller onParentBlockModeChange method")}};h.prototype._selectView=function(e){var t,o=this.getId()+"-"+e,i,a;a=function(t){if(t&&this.getAssociation("selectedView")!==o){this.setAssociation("selectedView",t);this._notifyForLoadingInMode(t.getController(),t,e)}}.bind(this);t=this._findView(e);if(t){a(t);return}i=this.getMetadata().getView(e);i.id=o;this.createView(i,e).then(function(e){a(e)})};h.prototype._findView=function(e){var t=this.getAggregation("_views")||[],o,i;i=t.filter(function(t){return t.data("layoutMode")===e});if(i.length){return i[0]}o=this.getMetadata().getView(e);i=t.filter(function(e){return o.viewName===e.getViewName()});if(i.length){return i[0]}};h.FORM_ADUSTMENT_OFFSET=16;h._FORM_ADJUSTMENT_CONST={labelSpan:{L:12},emptySpan:{L:0},columns:{XL:1,L:1,M:1}};h._PARENT_GRID_SIZE=12;h.prototype._computeFormAdjustmentFields=function(t,o){if(t&&o){return t===c.BlockColumns?e.extend({},h._FORM_ADJUSTMENT_CONST,{columns:o}):h._FORM_ADJUSTMENT_CONST}};h.prototype._applyFormAdjustment=function(){var e=this.getFormAdjustment(),t=this._getSelectedViewContent(),o=this._oParentObjectPageSubSection,i;if(e!==c.None&&t&&o){i=this._computeFormAdjustmentFields(e,o._oLayoutConfig);t.getContent().forEach(function(e){this._adjustForm(e,i)}.bind(this))}};h.prototype._adjustForm=function(e,t){var o,i;if(e.getMetadata().getName()==="sap.ui.layout.form.SimpleForm"){e.setLayout(g.ColumnLayout);i=e.getAggregation("form").getLayout();i._iBreakPointTablet-=h.FORM_ADUSTMENT_OFFSET;i._iBreakPointDesktop-=h.FORM_ADUSTMENT_OFFSET;i._iBreakPointLargeDesktop-=h.FORM_ADUSTMENT_OFFSET;e.setLabelSpanL(t.labelSpan.L);e.setEmptySpanL(t.emptySpan.L);this._applyFormAdjustmentFields(t,e);e.setWidth("100%")}else if(e.getMetadata().getName()==="sap.ui.layout.form.Form"){i=e.getLayout();if(i&&i.getMetadata().getName()==="sap.ui.layout.form.ColumnLayout"){o=i}else{o=new r;e.setLayout(o)}o._iBreakPointTablet-=h.FORM_ADUSTMENT_OFFSET;o._iBreakPointDesktop-=h.FORM_ADUSTMENT_OFFSET;o._iBreakPointLargeDesktop-=h.FORM_ADUSTMENT_OFFSET;o.setLabelCellsLarge(t.labelSpan.L);o.setEmptyCellsLarge(t.emptySpan.L);this._applyFormAdjustmentFields(t,o);e.setWidth("100%")}};h.prototype._applyFormAdjustmentFields=function(e,t){t.setColumnsXL(e.columns.XL);t.setColumnsL(e.columns.L);t.setColumnsM(e.columns.M)};h.prototype._getObjectPageLayout=function(){return p.Utilities.getClosestOPL(this)};h.prototype.setVisible=function(e,t){var o=this._getObjectPageLayout();this.setProperty("visible",e,t);o&&o._requestAdjustLayoutAndUxRules();return this};h.prototype.setShowSubSectionMore=function(e,t){if(e!=this.getShowSubSectionMore()){this.setProperty("showSubSectionMore",e,true);if(this._oParentObjectPageSubSection){this._oParentObjectPageSubSection.refreshSeeMoreVisibility()}}return this};h.prototype.connectToModels=function(){if(!this._bConnected){d.debug("BlockBase :: Connecting block to the UI5 model tree");this._bConnected=true;if(this._bLazyLoading){var e=this.getMode();e&&this._selectView(e)}this.invalidate()}};h.prototype._allowPropagationToLoadedViews=function(e){if(!this._bConnected){return}this.mSkipPropagation._views=!e};h.prototype.updateBindingContext=function(e,o,i,a){if(!this._shouldLazyLoad()){return t.prototype.updateBindingContext.call(this,e,o,i,a)}else{d.debug("BlockBase ::: Ignoring the updateBindingContext as the block is not visible for now in the ObjectPageLayout")}};h.prototype.updateBindings=function(e,o){if(!this._shouldLazyLoad()){return t.prototype.updateBindings.call(this,e,o)}else{d.debug("BlockBase ::: Ignoring the updateBindingContext as the block is not visible for now in the ObjectPageLayout")}};h.prototype._shouldLazyLoad=function(){return!!this._oParentObjectPageSubSection&&this._bLazyLoading&&!this._bConnected};return h});
sap.ui.predefine("sap/uxap/BlockBaseMetadata",["sap/ui/thirdparty/jquery","sap/ui/core/ElementMetadata","sap/base/Log"],function(e,t,r){"use strict";var o=function(e,r){t.apply(this,arguments);this._mViews=r.metadata.views||{}};o.prototype=Object.create(t.prototype);o.prototype.constructor=o;o.prototype.applySettings=function(e){var r=e.hasOwnProperty("renderer")?e.renderer||"":undefined;t.prototype.applySettings.call(this,e);if(r==null){this._sRendererName=null}};o.prototype.getRendererName=function(){if(!this._sBlockRenderer){this._sBlockRenderer=this._resolveRendererName();r.debug("BlockBaseMetadata :: "+this.getName()+" is renderer with "+this._sBlockRenderer)}return this._sBlockRenderer};o.prototype._resolveRendererName=function(){var e=t.prototype.getRendererName.call(this);if(e==null){var r=this.getParent();if(r){e=o.prototype._resolveRendererName.apply(r)}else{throw new Error("BlockBaseMetadata :: no renderer found for "+this.getName())}}return e};o.prototype.getView=function(e){return this._mViews[e]};o.prototype.getViews=function(){return this._mViews};o.prototype.setView=function(e,t){this._mViews[e]=t;return this};o.prototype.hasViews=function(){return!e.isEmptyObject(this._mViews)};return o},true);
sap.ui.predefine("sap/uxap/BlockBaseRenderer",function(){"use strict";var e={apiVersion:2};e.render=function(e,t){if(!t.getVisible()){return}e.openStart("div",t);if(t._getSelectedViewContent()){e.class("sapUxAPBlockBase").class("sapUxAPBlockBase"+t.getMode())}else{var n=t.getMetadata().getName().split(".").pop();e.class(n+t.getMode())}e.openEnd();if(t._getSelectedViewContent()){e.renderControl(t._getSelectedViewContent())}e.close("div")};return e},true);
sap.ui.predefine("sap/uxap/BreadCrumbs",["sap/m/Link","sap/m/Select","sap/ui/core/Control","sap/ui/core/ResizeHandler","sap/ui/core/delegate/ItemNavigation","sap/ui/core/Item","sap/ui/core/Icon","sap/ui/Device","./library","sap/ui/core/InvisibleText","./BreadCrumbsRenderer","sap/ui/thirdparty/jquery"],function(e,t,i,s,r,o,n,a,l,u,h,g){"use strict";var c=i.extend("sap.uxap.BreadCrumbs",{metadata:{library:"sap.uxap",properties:{showCurrentLocation:{type:"boolean",group:"Behavior",defaultValue:true}},defaultAggregation:"links",aggregations:{links:{type:"sap.m.Link",multiple:true,singularName:"link"},currentLocation:{type:"sap.m.Text",multiple:false},_tubeIcon:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"},_overflowSelect:{type:"sap.m.Select",multiple:false,visibility:"hidden"}}}});c.PAGEUP_AND_PAGEDOWN_JUMP_SIZE=5;c.prototype.init=function(){this._iREMSize=parseInt(g("body").css("font-size"));this._iContainerMaxHeight=this._iREMSize*2};c.prototype.onBeforeRendering=function(){this._bOnPhone=a.system.phone;this._resetControl()};c.prototype.onAfterRendering=function(){this._handleInitialModeSelection()};c.prototype._handleInitialModeSelection=function(){if(this._bOnPhone){this._setSelectVisible(true);return this}this._configureKeyboardHandling();if(!this._iContainerHeight){this._iContainerHeight=this.$().outerHeight()}if(this._iContainerHeight>this._iContainerMaxHeight){this._toggleOverflowMode(true);return this}this._sResizeListenerId=s.register(this,this._handleScreenResize.bind(this));return this};c.prototype._toggleOverflowMode=function(e){if(this._sResizeListenerId){s.deregister(this._sResizeListenerId)}this._setSelectVisible(e);this._setBreadcrumbsVisible(!e);this._sResizeListenerId=s.register(this,this._handleScreenResize.bind(this));return this};c.prototype._getTubeIcon=function(){if(!this.getAggregation("_tubeIcon")){this.setAggregation("_tubeIcon",new n({src:"sap-icon://slim-arrow-right",color:"#bfbfbf",size:"1rem",useIconTooltip:false}).addStyleClass("sapUxAPTubeIcon"))}return this.getAggregation("_tubeIcon")};c.prototype._getOverflowSelect=function(){var e,i;if(!this.getAggregation("_overflowSelect")){i=this.getLinks().reverse()||[];i.unshift(this.getCurrentLocation());e=new t({items:i.map(this._createSelectItem),autoAdjustWidth:true});e.attachChange(this._overflowSelectChangeHandler);this.setAggregation("_overflowSelect",e)}return this.getAggregation("_overflowSelect")};c.prototype._createSelectItem=function(e){return new o({key:e.getId(),text:e.getText()})};c.prototype._overflowSelectChangeHandler=function(t){var i=t.getParameter("selectedItem").getKey(),s=sap.ui.getCore().byId(i),r,o;if(s instanceof e){r=s.getHref();s.firePress();if(r){o=s.getTarget();if(o){window.open(r,o)}else{window.location.href=r}}}return this};c.prototype._handleScreenResize=function(e){var t=this._shouldOverflow(),i=this._getUsingOverflowSelect();if(t&&!i){this._toggleOverflowMode(true)}else if(!t&&i){this._toggleOverflowMode(false)}return this};c.prototype._shouldOverflow=function(){var e=this._getBreadcrumbsAsJQueryObject(),t,i=this._getUsingOverflowSelect();if(i){this._setBreadcrumbsVisible(true)}e.addClass("sapUxAPInvisible");t=e.outerHeight()>this._iContainerMaxHeight;e.removeClass("sapUxAPInvisible");if(i){this._setBreadcrumbsVisible(false)}return t};c.prototype._getBreadcrumbsAsJQueryObject=function(){if(!this._$breadcrumbs){this._$breadcurmbs=this.$("breadcrumbs")}return this._$breadcurmbs};c.prototype._getOverflowSelectAsJQueryObject=function(){if(!this._$select){this._$select=this.$("select")}return this._$select};c.prototype._setBreadcrumbsVisible=function(e){var t=this.$(),i=this._getBreadcrumbsAsJQueryObject(),s="sapUxAPFullWidth",r="sapUiHidden";if(e){i.removeClass(r);t.removeClass(s)}else{i.addClass(r);t.addClass(s)}return t};c.prototype._setSelectVisible=function(e){var t=this._getOverflowSelectAsJQueryObject(),i="sapUiHidden";if(e){t.removeClass(i)}else{t.addClass(i)}return this};c.prototype._resetControl=function(){this._iContainerHeight=null;this._$select=null;this._$breadcrumbs=null;this.setAggregation("_overflowSelect",null,true);if(this._sResizeListenerId){s.deregister(this._sResizeListenerId)}return this};c.prototype._getAriaLabelledBy=function(){if(!this._oAriaLabelledBy){c.prototype._oAriaLabelledBy=new u({text:sap.ui.getCore().getLibraryResourceBundle("sap.uxap").getText("BREADCRUMB_TRAIL_LABEL")}).toStatic()}return this._oAriaLabelledBy};c.prototype._getItemNavigation=function(){if(!this._ItemNavigation){this._ItemNavigation=new r}return this._ItemNavigation};c.prototype._getItemsToNavigate=function(){var e=this.getLinks(),t=this.getCurrentLocation(),i=this.getShowCurrentLocation();if(i&&t){e.push(t)}return e};c.prototype._configureKeyboardHandling=function(){var e=this._getItemNavigation(),t=this._getBreadcrumbsAsJQueryObject()[0],i=-1,s=this._getItemsToNavigate(),r=[];s.forEach(function(e){e.$().attr("tabindex","-1");r.push(e.getDomRef())});this.addDelegate(e);e.setCycling(false);e.setRootDomRef(t);e.setItemDomRefs(r);e.setSelectedIndex(i);this._getBreadcrumbsAsJQueryObject().attr("tabindex","-1");s[0].$().attr("tabindex","0");return this};c.prototype.onsappageup=function(e){this._handlePageKeys(e,false)};c.prototype.onsappagedown=function(e){this._handlePageKeys(e,true)};c.prototype._handlePageKeys=function(e,t){var i,s=this._getItemsToNavigate(),r=0,o=t?s.length-1:0;e.preventDefault();s.some(function(t,i){if(t.getId()===e.target.id){r=i;return true}});if(t){i=r+c.PAGEUP_AND_PAGEDOWN_JUMP_SIZE}else{i=r-c.PAGEUP_AND_PAGEDOWN_JUMP_SIZE}if(i&&s[i]){s[i].focus()}else if(s[o]){s[o].focus()}};c.prototype._getUsingOverflowSelect=function(){return!this._getOverflowSelectAsJQueryObject().hasClass("sapUiHidden")};c.prototype.exit=function(){if(this._ItemNavigation){this.removeDelegate(this._ItemNavigation);this._ItemNavigation.destroy();this._ItemNavigation=null}this._resetControl()};return c});
sap.ui.predefine("sap/uxap/BreadCrumbsRenderer",function(){"use strict";var e={};e.render=function(e,r){e.openStart("div",r).class("sapUxAPBreadCrumbs").attr("role","navigation").attr("aria-labelledby",r._getAriaLabelledBy().getId()).openEnd();this._renderOverflowSelect(e,r);if(!r._bOnPhone){this._renderBreadcrumbTrail(e,r)}e.close("div")};e._renderBreadcrumbTrail=function(e,r){var n=r.getLinks(),t=r.getCurrentLocation(),o=r._getTubeIcon(),a=r.getShowCurrentLocation();e.openStart("ul",r.getId()+"-breadcrumbs").openEnd();n.forEach(function(r){e.openStart("li").openEnd();e.renderControl(r);e.renderControl(o);e.close("li")});if(a){e.openStart("li").openEnd();e.renderControl(t);e.close("li")}e.close("ul")};e._renderOverflowSelect=function(e,r){var n=r._getTubeIcon();e.openStart("div",r.getId()+"-select");e.class("sapUiHidden");e.openEnd();e.openStart("span").class("sapUxAPBreadCrumbsDots").openEnd().text("...").close("span");e.renderControl(n);e.renderControl(r._getOverflowSelect());e.close("div")};return e},true);
sap.ui.predefine("sap/uxap/HierarchicalSelect",["sap/m/Select","sap/ui/Device","sap/ui/thirdparty/jquery","./library","./HierarchicalSelectRenderer","sap/ui/thirdparty/jqueryui/jquery-ui-position"],function(e,t,r,i,a){"use strict";var o=e.extend("sap.uxap.HierarchicalSelect",{metadata:{library:"sap.uxap",properties:{upperCase:{type:"boolean",group:"Appearance",defaultValue:false}}}});o.POPOVER_MIN_WIDTH_REM=11;o.prototype.onAfterRendering=function(){e.prototype.onAfterRendering.apply(this,arguments)};o.prototype.onAfterRenderingPicker=function(){e.prototype.onAfterRenderingPicker.call(this);var t=this.getItems()||[];t.forEach(function(e){var t=e.data("secondLevel")===true?"sapUxAPHierarchicalSelectSecondLevel":"sapUxAPHierarchicalSelectFirstLevel";e.$().addClass(t)},this)};o.prototype.setUpperCase=function(e,t){this.setProperty("upperCase",e,t);this.toggleStyleClass("sapUxAPHierarchicalSelectUpperCase",e);var r=this.getAggregation("picker");if(r){r.toggleStyleClass("sapMSltPickerFirstLevelUpperCase",e);if(!t){r.invalidate()}}return this};o.prototype.onsapenter=e.prototype.onsapspace;["onsapup","onsappageup","onsappagedown","onsaphome","onsapend"].forEach(function(t){o.prototype[t]=function(r){e.prototype[t].call(this,r);r.stopPropagation()}});o.prototype._createDialog=function(){var t=e.prototype._createDialog.call(this),r=t.getCustomHeader();if(r){r.addStyleClass("sapUxAPHierarchicalSelect")}return t};o.prototype._decoratePopover=function(i){e.prototype._decoratePopover.call(this,i);i._adaptPositionParams=function(){this._marginTop=0;this._marginLeft=0;this._marginRight=0;this._marginBottom=0;this._arrowOffset=0;this._offsets=["0 0","0 0","0 0","0 0"];this._myPositions=["end bottom","end center","end top","begin center"];this._atPositions=["end top","end center","end bottom","begin center"]};if(t.system.tablet||t.system.desktop){var a=r.position.scrollbarWidth();if(a>0){i.setOffsetX(a)}}};o.prototype._onAfterRenderingPopover=function(){var e=this.getPicker(),t=e.getDomRef("cont"),r=t.style.minWidth;if(r.endsWith("rem")){r=r.substring(0,r.length-3);var i=parseFloat(r);if(i<o.POPOVER_MIN_WIDTH_REM&&t){t.style.minWidth=o.POPOVER_MIN_WIDTH_REM+"rem"}}};return o});
sap.ui.predefine("sap/uxap/HierarchicalSelectRenderer",["sap/m/SelectRenderer","sap/ui/core/Renderer"],function(e,r){"use strict";var a=r.extend(e);a.apiVersion=2;a.addClass=function(e){e.class("sapUxAPHierarchicalSelect")};return a},true);
sap.ui.predefine("sap/uxap/LazyLoading",["sap/ui/thirdparty/jquery","sap/ui/Device","sap/ui/base/Metadata","./ObjectPageSubSection","./library","sap/base/Log"],function(e,i,t,o,s,a){"use strict";var r=t.createClass("sap.uxap._helpers.LazyLoading",{constructor:function(i){this._oObjectPageLayout=i;this._$html=e("html");this._iPreviousScrollTop=0;this._iScrollProgress=0;this._iPreviousScrollTimestamp=0;this._sLazyLoadingTimer=null;this._bSuppressed=false;this._oPrevSubSectionsInView={};this.setLazyLoadingParameters()}});r.prototype.setLazyLoadingParameters=function(){this.LAZY_LOADING_DELAY=200;this.LAZY_LOADING_EXTRA_PAGE_SIZE=.5;this.LAZY_LOADING_EXTRA_SUBSECTION=this.LAZY_LOADING_DELAY*5;if(this._isPhone()){this.NUMBER_OF_SUBSECTIONS_TO_PRELOAD={FirstRendering:1,ScrollToSection:1}}else if(this._isTablet()){this.NUMBER_OF_SUBSECTIONS_TO_PRELOAD={FirstRendering:2,ScrollToSection:1}}else if(this._isTabletSize()){this.NUMBER_OF_SUBSECTIONS_TO_PRELOAD={FirstRendering:2,ScrollToSection:2}}else{this.NUMBER_OF_SUBSECTIONS_TO_PRELOAD={FirstRendering:3,ScrollToSection:3}}this.LAZY_LOADING_FAST_SCROLLING_THRESHOLD=5};r.prototype.suppress=function(){this._bSuppressed=true};r.prototype.resume=function(){this._bSuppressed=false};r.prototype._triggerVisibleSubSectionsEvents=function(){this._oPrevSubSectionsInView={};this._oObjectPageLayout._requestAdjustLayout(true);this.doLazyLoading()};r.prototype.lazyLoadDuringScroll=function(e,i,t,o){var s,r,n=false;if(this._bSuppressed){return}if(e){if(this._sLazyLoadingTimer){clearTimeout(this._sLazyLoadingTimer)}this._sLazyLoadingTimer=null;this.doLazyLoading();return}this._iScrollProgress=i-this._iPreviousScrollTop;s=Math.round(Math.abs(this._iScrollProgress)/o*100);if(s>=this.LAZY_LOADING_FAST_SCROLLING_THRESHOLD){n=true}this._iPreviousScrollTop=i;this._iPreviousScrollTimestamp=t||0;r=i===0?0:this.LAZY_LOADING_DELAY;if(n&&this._sLazyLoadingTimer){a.debug("ObjectPageLayout :: lazyLoading","delayed by "+r+" ms because of fast scroll");clearTimeout(this._sLazyLoadingTimer);this._sLazyLoadingTimer=null}if(!this._sLazyLoadingTimer){this._sLazyLoadingTimer=setTimeout(this.doLazyLoading.bind(this),r)}};r.prototype.doLazyLoading=function(){var i=this._oObjectPageLayout._getHeightRelatedParameters(),t=this._oObjectPageLayout.getUseIconTabBar(),o=sap.ui.getCore().byId(this._oObjectPageLayout.getSelectedSection()),s=this._oObjectPageLayout._oSectionInfo,r,n,_,u=this._iPreviousScrollTop>=i.iHeaderContentHeight,L,c=-1,h={},l={},d,g,S;if(this._bSuppressed){return}_=i.iScreenHeight-(u?i.iAnchorBarHeight:0)-(u?i.iHeaderTitleHeightStickied:0);r=i.iScrollTop;d=Date.now()-this._iPreviousScrollTimestamp;g=d<this.LAZY_LOADING_DELAY/2&&Math.abs(this._iScrollProgress)>5;if(g){if(this._iScrollProgress>=0){S=Math.round(Math.min(this._iScrollProgress*20,_/2))}else{S=-1*Math.round(Math.min(Math.abs(this._iScrollProgress)*20,_/2))}r+=S;a.debug("ObjectPageLayout :: lazyLoading","Visible page shifted from : "+S)}n=r+_;r+=16;e.each(s,e.proxy(function(e,i){if(!i.isSection&&i.sectionReference.getParent()&&i.sectionReference.getParent().getVisible()){if(t&&o&&o.indexOfSubSection(i.sectionReference)<0){return}if(i.positionTop<=n&&r<i.positionBottom-1){l[e]=e;if(!i.loaded){h[e]=e}}else if(!i.loaded&&i.positionTop>n&&i.positionTop<n+_*this.LAZY_LOADING_EXTRA_PAGE_SIZE&&(c==-1||i.positionTop<c)){c=i.positionTop;L=e}}},this));if(c!=-1&&e.isEmptyObject(h)){a.debug("ObjectPageLayout :: lazyLoading","extra section added : "+L);h[L]=L}e.each(h,e.proxy(function(e,i){a.debug("ObjectPageLayout :: lazyLoading","connecting "+i);sap.ui.getCore().byId(i).connectToModels();s[i].loaded=true},this));e.each(l,e.proxy(function(e,i){if(!this._oPrevSubSectionsInView[e]){a.debug("ObjectPageLayout :: lazyLoading","subSectionEnteredViewPort "+i);this._oObjectPageLayout.fireEvent("subSectionEnteredViewPort",{subSection:sap.ui.getCore().byId(i)})}},this));this._oPrevSubSectionsInView=l;if(g){this._sLazyLoadingTimer=setTimeout(this.doLazyLoading.bind(this),this.LAZY_LOADING_DELAY)}else{if(c){this._sLazyLoadingTimer=setTimeout(this.doLazyLoading.bind(this),this.LAZY_LOADING_EXTRA_SUBSECTION)}else{this._sLazyLoadingTimer=null}}};r.prototype.getSubsectionsToPreload=function(e,i){var t,s;if(i){t=this.NUMBER_OF_SUBSECTIONS_TO_PRELOAD.ScrollToSection;s=false}else{t=this.NUMBER_OF_SUBSECTIONS_TO_PRELOAD.FirstRendering;s=true}var a=[];e.some(function(e){if(!s&&i){s=e.getId()==i}if(s&&e instanceof o){if(e.getVisible()&&e._getInternalVisible()){a.push(e);t--}}return t<=0});return a};r.prototype.destroy=function(){if(this._sLazyLoadingTimer){clearTimeout(this._sLazyLoadingTimer)}};r.prototype._isPhone=function(){return s.Utilities.isPhoneScenario(this._oObjectPageLayout._getCurrentMediaContainerRange())};r.prototype._isTablet=function(){return i.system.tablet};r.prototype._isTabletSize=function(){return s.Utilities.isTabletScenario(this._oObjectPageLayout._getCurrentMediaContainerRange())};return r});
sap.ui.predefine("sap/uxap/ModelMapping",["sap/ui/core/Element","./library"],function(e,a){"use strict";var t=e.extend("sap.uxap.ModelMapping",{metadata:{library:"sap.uxap",properties:{externalModelName:{type:"string",group:"Misc",defaultValue:null},internalModelName:{type:"string",group:"Misc",defaultValue:"Model"},externalPath:{type:"string",group:"Misc",defaultValue:null}}}});return t});
sap.ui.predefine("sap/uxap/ObjectImageHelper",["sap/ui/base/ManagedObject","sap/ui/core/IconPool","sap/m/Avatar","sap/m/Image"],function(e,a,t,c){"use strict";var n=function(){};n.createObjectImage=function(a){var t,r=a.getObjectImageURI();if(r.indexOf("sap-icon://")===0){t=n.instantiateAvatar(r);t.addStyleClass("sapUxAPObjectPageHeaderObjectImageIcon")}else{t=new c({densityAware:a.getObjectImageDensityAware(),alt:e.escapeSettingsValue(a.getObjectImageAlt()),decorative:false,mode:"Background",backgroundSize:"contain",backgroundPosition:"center"});t.addStyleClass("sapUxAPObjectPageHeaderObjectImage");t.setSrc(r)}if(a.getObjectImageAlt()){t.setTooltip(a.getObjectImageAlt())}return t};n.instantiateAvatar=function(e){return new t({displaySize:"L",fallbackIcon:e})};n.createPlaceholder=function(){return n.instantiateAvatar(a.getIconURI("picture"))};n.updateAvatarInstance=function(e,a,t){e.setDisplayShape(a);e.setBackgroundColor(t)};n._renderImageAndPlaceholder=function(e,a){var t=a.oHeader,c=a.oObjectImage,r=a.oPlaceholder,s=a.bIsObjectIconAlwaysVisible,o=a.bAddSubContainer,l=a.sBaseClass,d=t.getObjectImageShape(),i=t.getObjectImageBackgroundColor(),g=t.getShowPlaceholder()&&!t.getObjectImageURI(),p=c.isA("sap.m.Avatar");if(t.getShowPlaceholder()){n.updateAvatarInstance(r,d,i)}if(t.getObjectImageURI()||t.getShowPlaceholder()){e.openStart("span").class(l).class("sapUxAPObjectPageHeaderObjectImage-"+d);if(s){e.class("sapUxAPObjectPageHeaderObjectImageForce")}e.openEnd();if(o){e.openStart("span").class("sapUxAPObjectPageHeaderObjectImageContainerSub").openEnd()}if(p){n.updateAvatarInstance(c,d,i);e.openStart("div").class("sapUxAPObjectPageHeaderObjectImage").class("sapUxAPObjectPageHeaderPlaceholder").openEnd()}if(t.getObjectImageURI()){e.renderControl(c)}n._renderPlaceholder(e,r,g);if(p){e.close("div")}if(o){e.close("span")}e.close("span")}};n._renderPlaceholder=function(e,a,t){e.openStart("div").class("sapUxAPObjectPageHeaderPlaceholder").class("sapUxAPObjectPageHeaderObjectImage");if(!t){e.class("sapUxAPHidePlaceholder")}e.openEnd();e.renderControl(a);e.close("div")};return n});
sap.ui.predefine("sap/uxap/ObjectPageAccessibleLandmarkInfo",["sap/ui/core/Element","./library"],function(e,a){"use strict";var l=e.extend("sap.uxap.ObjectPageAccessibleLandmarkInfo",{metadata:{library:"sap.uxap",properties:{rootRole:{type:"sap.ui.core.AccessibleLandmarkRole",defaultValue:"Main"},rootLabel:{type:"string",defaultValue:null},contentRole:{type:"sap.ui.core.AccessibleLandmarkRole",defaultValue:"None"},contentLabel:{type:"string",defaultValue:null},navigationRole:{type:"sap.ui.core.AccessibleLandmarkRole",defaultValue:"Navigation"},navigationLabel:{type:"string",defaultValue:null},headerRole:{type:"sap.ui.core.AccessibleLandmarkRole",defaultValue:"Banner"},headerLabel:{type:"string",defaultValue:null},footerRole:{type:"sap.ui.core.AccessibleLandmarkRole",defaultValue:"Region"},footerLabel:{type:"string",defaultValue:null}}}});return l});
sap.ui.predefine("sap/uxap/ObjectPageDynamicHeaderContent",["./library","./ObjectPageDynamicHeaderContentRenderer","sap/base/Log"],function(e,t,a){"use strict";try{sap.ui.getCore().loadLibrary("sap.f")}catch(e){a.error("The control 'sap.uxap.ObjectPageDynamicHeaderContent' needs library 'sap.f'.");throw e}var n=sap.ui.requireSync("sap/f/DynamicPageHeader");var r=n.extend("sap.uxap.ObjectPageDynamicHeaderContent",{metadata:{interfaces:["sap.uxap.IHeaderContent"],library:"sap.uxap"}});r.createInstance=function(e,t,a,n,s){return new r({content:e,visible:t,pinnable:n,id:s})};r.prototype.supportsPinUnpin=function(){return true};r.prototype.supportsChildPageDesign=function(){return false};r.prototype.supportsAlwaysExpanded=function(){return false};r.prototype.setContentDesign=function(e){};r.prototype.setVisible=function(e){this.getParent()&&this.getParent().toggleStyleClass("sapUxAPObjectPageLayoutNoHeaderContent",!e);return this.setProperty("visible",e)};return r});
sap.ui.predefine("sap/uxap/ObjectPageDynamicHeaderContentRenderer",["sap/ui/core/Renderer","sap/f/DynamicPageHeaderRenderer"],function(e,r){"use strict";var a=e.extend(r);a.apiVersion=2;return a},true);
sap.ui.predefine("sap/uxap/ObjectPageDynamicHeaderTitle",["./library","sap/uxap/ObjectPageDynamicHeaderContent","./ObjectPageDynamicHeaderTitleRenderer","sap/base/Log"],function(e,t,a,r){"use strict";try{sap.ui.getCore().loadLibrary("sap.f")}catch(e){r.error("The control 'sap.uxap.ObjectPageDynamicHeaderTitle' needs library 'sap.f'.");throw e}var n=sap.ui.requireSync("sap/f/DynamicPageTitle");var p=n.extend("sap.uxap.ObjectPageDynamicHeaderTitle",{metadata:{interfaces:["sap.uxap.IHeaderTitle"],library:"sap.uxap"}});p.prototype.isDynamic=function(){return true};p.prototype.getCompatibleHeaderContentClass=function(){return t};p.prototype.supportsToggleHeaderOnTitleClick=function(){return true};p.prototype.supportsTitleInHeaderContent=function(){return false};p.prototype.supportsAdaptLayoutForDomElement=function(){return false};p.prototype.supportsBackgroundDesign=function(){return true};p.KNOWN_HEADING_CONTROL_CLASS_NAMES=["sap.m.Title","sap.m.Text","sap.m.FormattedText","sap.m.Label"];p.prototype.getTitleText=function(){var e=this.getHeading(),t=e&&e.getMetadata().getName();if(p.KNOWN_HEADING_CONTROL_CLASS_NAMES.indexOf(t)>-1){return e.getText()}};p.prototype.getHeaderDesign=function(){return e.ObjectPageHeaderDesign.Light};p.prototype.snap=function(e){this._toggleState(false,e);this._updateARIAState(false)};p.prototype.unSnap=function(e){this._toggleState(true,e);this._updateARIAState(true)};p.prototype._adaptObjectPageHeaderIndentifierLine=function(e,t){};return p});
sap.ui.predefine("sap/uxap/ObjectPageDynamicHeaderTitleRenderer",["sap/ui/core/Renderer","sap/f/DynamicPageTitleRenderer"],function(e,r){"use strict";var a=e.extend(r);a.apiVersion=2;return a},true);
sap.ui.predefine("sap/uxap/ObjectPageHeader",["sap/ui/thirdparty/jquery","sap/ui/core/Control","sap/ui/core/IconPool","sap/ui/core/CustomData","sap/ui/Device","sap/m/Breadcrumbs","./ObjectPageHeaderActionButton","sap/ui/core/ResizeHandler","sap/m/Button","sap/m/ActionSheet","./ObjectImageHelper","./ObjectPageHeaderContent","./library","sap/m/library","./ObjectPageHeaderRenderer"],function(t,e,i,o,n,a,r,s,l,u,c,p,h,g,d){"use strict";var f=h.Importance;var _=g.ButtonType;var y=g.PlacementType;var b=h.ObjectPageHeaderDesign;var I=g.AvatarShape;var A=g.AvatarColor;function m(t){return typeof t==="function"}var P=e.extend("sap.uxap.ObjectPageHeader",{metadata:{library:"sap.uxap",interfaces:["sap.uxap.IHeaderTitle"],properties:{objectImageURI:{type:"string",defaultValue:null},objectImageAlt:{type:"string",defaultValue:""},objectImageDensityAware:{type:"boolean",defaultValue:false},objectTitle:{type:"string",defaultValue:null},objectSubtitle:{type:"string",defaultValue:null},objectImageShape:{type:"sap.m.AvatarShape",group:"Appearance",defaultValue:I.Square},objectImageBackgroundColor:{type:"sap.m.AvatarColor",group:"Appearance",defaultValue:A.Accent6},isObjectIconAlwaysVisible:{type:"boolean",defaultValue:false},isObjectTitleAlwaysVisible:{type:"boolean",defaultValue:true},isObjectSubtitleAlwaysVisible:{type:"boolean",defaultValue:true},isActionAreaAlwaysVisible:{type:"boolean",defaultValue:true},headerDesign:{type:"sap.uxap.ObjectPageHeaderDesign",defaultValue:b.Light},showTitleSelector:{type:"boolean",group:"Misc",defaultValue:false},markFavorite:{type:"boolean",group:"Misc",defaultValue:false},markFlagged:{type:"boolean",group:"Misc",defaultValue:false},showMarkers:{type:"boolean",group:"Misc",defaultValue:false},markLocked:{type:"boolean",group:"Misc",defaultValue:false},showPlaceholder:{type:"boolean",group:"Misc",defaultValue:false},markChanges:{type:"boolean",group:"Misc",defaultValue:false}},defaultAggregation:"actions",aggregations:{_breadCrumbs:{type:"sap.m.Breadcrumbs",multiple:false,visibility:"hidden"},breadcrumbs:{type:"sap.m.Breadcrumbs",multiple:false,singularName:"breadcrumb"},breadCrumbsLinks:{type:"sap.m.Link",multiple:true,singularName:"breadCrumbLink"},_overflowButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_expandButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_objectImage:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},_placeholder:{type:"sap.m.Avatar",multiple:false,visibility:"hidden"},_lockIconCont:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_lockIcon:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_titleArrowIconCont:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_titleArrowIcon:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_favIcon:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"},_flagIcon:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"},_overflowActionSheet:{type:"sap.m.ActionSheet",multiple:false,visibility:"hidden"},_changesIconCont:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_changesIcon:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_sideContentBtn:{type:"sap.m.Button",multiple:false,visibility:"hidden"},navigationBar:{type:"sap.m.Bar",multiple:false},actions:{type:"sap.ui.core.Control",multiple:true,singularName:"action"},sideContentButton:{type:"sap.m.Button",multiple:false},titleSelectorTooltip:{type:"sap.ui.core.TooltipBase",altTypes:["string"],multiple:false}},events:{titleSelectorPress:{parameters:{domRef:{type:"string"}}},markLockedPress:{parameters:{domRef:{type:"string"}}},markChangesPress:{parameters:{domRef:{type:"string"}}}},designtime:"sap/uxap/designtime/ObjectPageHeader.designtime"}});P.prototype._iAvailablePercentageForActions=.3;P.prototype.init=function(){this._bFirstRendering=true;if(!this.oLibraryResourceBundle){this.oLibraryResourceBundle=sap.ui.getCore().getLibraryResourceBundle("sap.m")}if(!this.oLibraryResourceBundleOP){this.oLibraryResourceBundleOP=sap.ui.getCore().getLibraryResourceBundle("sap.uxap")}this._oOverflowActionSheet=this._lazyLoadInternalAggregation("_overflowActionSheet",true);this._oOverflowButton=this._lazyLoadInternalAggregation("_overflowButton",true).attachPress(this._handleOverflowButtonPress,this);this._oExpandButton=this._lazyLoadInternalAggregation("_expandButton",true);this._oActionSheetButtonMap={};this._oFlagIcon=this._lazyLoadInternalAggregation("_flagIcon",true);this._oFavIcon=this._lazyLoadInternalAggregation("_favIcon",true);this._oTitleArrowIcon=this._lazyLoadInternalAggregation("_titleArrowIcon",true).attachPress(this._handleArrowPress,this);this._oTitleArrowIconCont=this._lazyLoadInternalAggregation("_titleArrowIconCont",true).attachPress(this._handleArrowPress,this);this._oLockIcon=this._lazyLoadInternalAggregation("_lockIcon",true).attachPress(this._handleLockPress,this);this._oLockIconCont=this._lazyLoadInternalAggregation("_lockIconCont",true).attachPress(this._handleLockPress,this);this._oChangesIcon=this._lazyLoadInternalAggregation("_changesIcon",true).attachPress(this._handleChangesPress,this);this._oChangesIconCont=this._lazyLoadInternalAggregation("_changesIconCont",true).attachPress(this._handleChangesPress,this)};P.getMetadata().forwardAggregation("breadCrumbsLinks",{getter:function(){return this._lazyLoadInternalAggregation("_breadCrumbs")},aggregation:"links"});P.prototype._handleOverflowButtonPress=function(t){this._oOverflowActionSheet.openBy(this._oOverflowButton)};P.prototype._handleArrowPress=function(t){this.fireTitleSelectorPress({domRef:t.getSource().getDomRef()})};P.prototype._handleLockPress=function(t){this.fireMarkLockedPress({domRef:t.getSource().getDomRef()})};P.prototype._handleChangesPress=function(t){this.fireMarkChangesPress({domRef:t.getSource().getDomRef()})};P._internalAggregationFactory={_objectImage:c.createObjectImage,_placeholder:c.createPlaceholder,_overflowActionSheet:function(){return new u({placement:y.Bottom})},_lockIconCont:function(t){return this._getButton(t,"sap-icon://private","lock-cont",t.oLibraryResourceBundleOP.getText("TOOLTIP_OP_LOCK_MARK_VALUE"))},_breadCrumbs:function(t){return new a({links:t.getAggregation("breadCrumbLinks")})},_lockIcon:function(t){return this._getButton(t,"sap-icon://private","lock",t.oLibraryResourceBundleOP.getText("TOOLTIP_OP_LOCK_MARK_VALUE"))},_titleArrowIconCont:function(t){return this._getButton(t,"sap-icon://slim-arrow-down","titleArrow-cont",t.oLibraryResourceBundleOP.getText("OP_SELECT_ARROW_TOOLTIP"))},_titleArrowIcon:function(t){return this._getButton(t,"sap-icon://slim-arrow-down","titleArrow",t.oLibraryResourceBundleOP.getText("OP_SELECT_ARROW_TOOLTIP"))},_favIcon:function(t){return this._getIcon(t,"favorite",t.oLibraryResourceBundleOP.getText("TOOLTIP_OP_FAVORITE_MARK_VALUE"))},_flagIcon:function(t){return this._getIcon(t,"flag",t.oLibraryResourceBundleOP.getText("TOOLTIP_OP_FLAG_MARK_VALUE"))},_overflowButton:function(t){return this._getButton(t,"sap-icon://overflow","overflow",t.oLibraryResourceBundleOP.getText("TOOLTIP_OP_OVERFLOW_BTN"))},_expandButton:function(t){return this._getButton(t,"sap-icon://slim-arrow-down","expand",t.oLibraryResourceBundleOP.getText("TOOLTIP_OP_EXPAND_HEADER_BTN"))},_changesIconCont:function(t){return this._getButton(t,"sap-icon://user-edit","changes-cont",t.oLibraryResourceBundleOP.getText("TOOLTIP_OP_CHANGES_MARK_VALUE"))},_changesIcon:function(t){return this._getButton(t,"sap-icon://user-edit","changes",t.oLibraryResourceBundleOP.getText("TOOLTIP_OP_CHANGES_MARK_VALUE"))},_getIcon:function(t,e,o){return i.createControlByURI({id:this._getParentAugmentedId(t,e),tooltip:o,src:i.getIconURI(e),visible:false})},_getButton:function(t,e,i,o){return new l({id:this._getParentAugmentedId(t,i),tooltip:o,icon:e,type:_.Transparent})},_getParentAugmentedId:function(t,e){return t.getId()+"-"+e}};P.prototype._lazyLoadInternalAggregation=function(t,e){if(!this.getAggregation(t)){this.setAggregation(t,P._internalAggregationFactory[t](this),e)}return this.getAggregation(t)};P.prototype._applyActionProperty=function(t,e){var i=e[0];if(this.getProperty(t)!==i){e.unshift(t);this.setProperty.apply(this,e);if(!this._bFirstRendering){this._notifyParentOfChanges()}}return this};P.prototype._applyObjectImageProperty=function(t,e){var i=e[0];if(this.getProperty(t)!==i){e.unshift(t);this.setProperty.apply(this,e);this._destroyObjectImage();if(!this._bFirstRendering){this._notifyParentOfChanges(true)}}return this};P.prototype._setAggregationTooltip=function(t,e){var i=this.getAggregation(t);if(i){i.setTooltip(e)}return this};P.prototype._setTitleSelectorTooltip=function(t){if(t===null||t===undefined){t=this.oLibraryResourceBundleOP.getText("OP_SELECT_ARROW_TOOLTIP")}this._setAggregationTooltip("_titleArrowIcon",t);this._setAggregationTooltip("_titleArrowIconCont",t);return this};P.prototype.setHeaderDesign=function(t){this.setProperty("headerDesign",t);if(this.getParent()){this.getParent().invalidate()}return this};P.prototype.setObjectTitle=function(t){var e=this.getParent(),i=this.getProperty("objectTitle"),o=i!==t;this._applyActionProperty("objectTitle",Array.prototype.slice.call(arguments));e&&m(e._updateAriaLabels)&&e._updateAriaLabels();if(o&&this.mEventRegistry["_titleChange"]){this.fireEvent("_titleChange",{id:this.getId(),name:"objectTitle",oldValue:i,newValue:t})}return this};var v=["objectSubtitle","showTitleSelector","markLocked","markFavorite","markFlagged","showMarkers","showPlaceholder","markChanges"],O=["objectImageURI","objectImageAlt","objectImageDensityAware","objectImageShape","objectImageBackgroundColor"];var T=function(t){var e="set"+t.charAt(0).toUpperCase()+t.slice(1);P.prototype[e]=function(){var e=Array.prototype.slice.call(arguments);this._applyActionProperty.call(this,t,e);return this}};var B=function(t){var e="set"+t.charAt(0).toUpperCase()+t.slice(1);P.prototype[e]=function(){var e=Array.prototype.slice.call(arguments);this._applyObjectImageProperty.call(this,t,e);return this}};var L=function(t,e,i){var o="set"+t.charAt(0).toUpperCase()+t.slice(1);e[o]=function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);i.setProperty.apply(i,e);return this.setProperty.apply(this,e)}};v.forEach(T);O.forEach(B);P.prototype._destroyObjectImage=function(){var t="_objectImage",e=this.getAggregation(t);if(e){e.destroy();this.setAggregation(t,null)}};P.prototype.onBeforeRendering=function(){var t=this.getSideContentButton(),e=this;if(t&&!t.getTooltip()){t.setTooltip(this.oLibraryResourceBundleOP.getText("TOOLTIP_OP_SHOW_SIDE_CONTENT"))}var i=this.getActions()||[];this._oOverflowActionSheet.removeAllButtons();this._resetActionSheetMap();if(i.length>1||this._hasOneButtonShowText(i)){i.forEach(function(t){if(t instanceof l&&!(t instanceof r)){t._bInternalVisible=t.getVisible();t._getInternalVisible=function(){return this._bInternalVisible};t._setInternalVisible=function(t,e){this.$().toggle(t);if(t!=this._bInternalVisible){this._bInternalVisible=t;if(e){this.invalidate()}}};t.setVisible=function(e){t._setInternalVisible(e,true);l.prototype.setVisible.call(this,e)};t.onAfterRendering=function(){if(!this._getInternalVisible()){this.$().hide()}e._resizeIdentifierLineContainer(e.$())}}if(t instanceof l&&t.getVisible()){var i=this._createActionSheetButton(t);this._oActionSheetButtonMap[t.getId()]=i;this._oOverflowActionSheet.addButton(i);L("text",t,i);L("icon",t,i);L("enabled",t,i)}},this)}this._oTitleArrowIcon.setVisible(this.getShowTitleSelector());this._oFavIcon.setVisible(this.getMarkFavorite());this._oFlagIcon.setVisible(this.getMarkFlagged());this._attachDetachActionButtonsHandler(false);if(this._iResizeId){s.deregister(this._iResizeId);this._iResizeId=null}this._bFirstRendering=false};P.prototype._resetActionSheetMap=function(){Object.keys(this._oActionSheetButtonMap).forEach(function(t){this._oActionSheetButtonMap[t].destroy()}.bind(this));this._oActionSheetButtonMap={}};P.prototype._createActionSheetButton=function(e){return new l({press:t.proxy(this._onSeeMoreContentSelect,this),enabled:e.getEnabled(),text:e.getText(),icon:e.getIcon(),tooltip:e.getTooltip(),customData:new o({key:"originalId",value:e.getId()})})};P.prototype._handleImageNotFoundError=function(){var t=this._lazyLoadInternalAggregation("_objectImage"),e=this.getParent(),i=e?e.$():this.$();if(this.getShowPlaceholder()){i.find(".sapMImg.sapUxAPObjectPageHeaderObjectImage").hide();i.find(".sapUxAPObjectPageHeaderPlaceholder").removeClass("sapUxAPHidePlaceholder")}else{t.addStyleClass("sapMNoImg")}};P.prototype._clearImageNotFoundHandler=function(){this._lazyLoadInternalAggregation("_objectImage").$().off("error")};P.prototype.onAfterRendering=function(){var t=this._lazyLoadInternalAggregation("_objectImage").$();if(this._adaptLayoutTimeout){clearTimeout(this._adaptLayoutTimeout)}this._adaptLayout();this._clearImageNotFoundHandler();t.error(this._handleImageNotFoundError.bind(this));if(!this.getObjectImageURI()){this._handleImageNotFoundError()}if(!this._iResizeId){this._iResizeId=s.register(this,this._onHeaderResize.bind(this))}this._attachDetachActionButtonsHandler(true)};P.prototype._onHeaderResize=function(t){this._adaptLayout();if(this.getParent()&&typeof this.getParent()._onUpdateHeaderTitleSize==="function"){this.getParent()._onUpdateHeaderTitleSize(t)}};P.prototype._attachDetachActionButtonsHandler=function(t){var e=this.getActions()||[];if(e.length<1){return}e.forEach(function(e){if(e instanceof l){var i=this._oActionSheetButtonMap[e.getId()];if(t){e.attachEvent("_change",this._adaptLayoutDelayed,this);if(i){i.attachEvent("_change",this._adaptOverflow,this)}}else{e.detachEvent("_change",this._adaptLayoutDelayed,this);if(i){i.detachEvent("_change",this._adaptOverflow,this)}}}},this)};P.prototype._onSeeMoreContentSelect=function(t){var e=t.getSource(),i=sap.ui.getCore().byId(e.data("originalId"));if(i.firePress){i.firePress({overflowButtonId:this._oOverflowButton.getId(),bInOverflow:true})}this._oOverflowActionSheet.close()};P._actionImportanceMap={Low:3,Medium:2,High:1};P._sortActionsByImportance=function(t,e){var i=t instanceof r?t.getImportance():f.High,o=e instanceof r?e.getImportance():f.High,n=P._actionImportanceMap[i]-P._actionImportanceMap[o];if(n===0){return t.position-e.position}return n};P.prototype._hasOneButtonShowText=function(t){var e=false;if(t.length!==1){return e}if(t[0]instanceof r){e=!t[0].getHideText()&&t[0].getText()!=""}else if(t[0]instanceof l){e=t[0].getText()!=""}return e};P.prototype._adaptLayout=function(t){var e=this.$("identifierLine"),i=e.width(),o=this._getActionsWidth(),a=o/i,s=this._iAvailablePercentageForActions*i,u=this._oOverflowButton.$();if(i===0){return}if(a>this._iAvailablePercentageForActions){this._adaptActions(s)}else if(t&&t.getSource()instanceof r){t.getSource()._setInternalVisible(true)}if(n.system.phone){this.getActions().forEach(function(t){if(t instanceof l){t.$().css("visibility","visible")}})}var c=this.$("actions");var p=c.find(".sapMBtn").not(".sapUxAPObjectPageHeaderExpandButton");if(p.filter(":visible").length===p.length){u.hide()}this._adaptObjectPageHeaderIndentifierLine(this.$())};P.prototype._adaptLayoutDelayed=function(){if(this._adaptLayoutTimeout){clearTimeout(this._adaptLayoutTimeout)}this._adaptLayoutTimeout=setTimeout(function(){this._adaptLayoutTimeout=null;this._adaptLayout()}.bind(this),0)};P.prototype._adaptObjectPageHeaderIndentifierLine=function(t){var e=this._findById(t,"identifierLine"),i=e.find(".sapUxAPObjectPageHeaderIdentifierTitle"),o=this._findById(t,"subtitle"),n=this._findById(t,"innerTitle"),a,r,s=null,l=this.$().parents().hasClass("sapUiSizeCompact")?7:3;this._adaptObjectPageHeaderTitle(i);if(o.length){if(o.hasClass("sapOPHSubtitleBlock")){s=e.get(0).style.height;e.css("height",e.height());o.removeClass("sapOPHSubtitleBlock")}a=o.outerHeight()+o.position().top;r=n.outerHeight()+n.position().top;if(Math.abs(a-r)>l){o.addClass("sapOPHSubtitleBlock")}if(s!==null){e.get(0).style.height=s}}this._resizeIdentifierLineContainer(t)};P.prototype._resizeIdentifierLineContainer=function(t){var e=this._findById(t,"identifierLineContainer"),i=this._findById(t,"actions"),o=this._findById(t,"identifierLine"),n=o.width(),a=t?t.find(".sapUxAPObjectPageHeaderObjectImageContainer"):this.$().find(".sapUxAPObjectPageHeaderObjectImageContainer"),r=i.width()+a.width();e.width((.95-r/n)*100+"%")};P.prototype._adaptObjectPageHeaderTitle=function(e){var i=e.width(),o=e.find(".sapUxAPObjectPageHeaderTitleText"),n=o.length,a;for(var r=0;r<n;r++){a=t(o.get(r));a.toggleClass("sapUxAPObjectPageHeaderTitleTextRestrictedWidth",false);if(a.width()>i){a.toggleClass("sapUxAPObjectPageHeaderTitleTextRestrictedWidth",true)}}};P.prototype._adaptActions=function(t){var e=h.Utilities.isPhoneScenario(this._getCurrentMediaContainerRange())||n.system.phone,i=this._oOverflowButton.$(),o=i.show().width(),a=this.getActions(),r=a.length,s;for(var l=0;l<r;l++){a[l].position=l}a.sort(P._sortActionsByImportance);a.forEach(function(n){s=this._oActionSheetButtonMap[n.getId()];if(s){o+=n.$().width();if(t>o&&!e){this._setActionButtonVisibility(n,true);i.hide()}else{this._setActionButtonVisibility(n,false);i.show()}}},this)};P.prototype._adaptOverflow=function(){var t=this._oOverflowActionSheet.getButtons();var e=t.some(function(t){return t.getVisible()});this._oOverflowButton.$().toggle(e)};P.prototype._setActionButtonVisibility=function(t,e){var i=this._oActionSheetButtonMap[t.getId()];if(i){if(t.getVisible()){t._setInternalVisible(e);i.setVisible(!e)}else{i.setVisible(false)}}};P.prototype._getActionsWidth=function(){var t=0;this.getActions().forEach(function(e){if(e instanceof l){e.$().show();if(n.system.phone){e.$().css("visibility","hidden")}t+=e.$().outerWidth(true)}});return t};P.prototype._findById=function(t,e){var i;if(!e||!t){return null}e=this.getId()+"-"+e;i="#"+e.replace(/(:|\.)/g,"\\$1");return t.find(i)};P.prototype._getBreadcrumbsAggregation=function(){var t=this.getBreadcrumbs(),e=this._lazyLoadInternalAggregation("_breadCrumbs",true);return t||(e&&e.getLinks().length?e:null)};P.prototype._notifyParentOfChanges=function(t){var e=this.getParent();if(e&&typeof e._headerTitleChangeHandler==="function"){e._headerTitleChangeHandler(t)}};P.prototype.setTitleSelectorTooltip=function(t){this._setTitleSelectorTooltip(t);this.setAggregation("titleSelectorTooltip",t,true);return this};P.prototype.destroyTitleSelectorTooltip=function(){this._setTitleSelectorTooltip(null);this.destroyAggregation("titleSelectorTooltip",true);return this};P.prototype.exit=function(){this._clearImageNotFoundHandler();if(this._iResizeId){s.deregister(this._iResizeId);this._iResizeId=null}this._resetActionSheetMap()};P.prototype.setNavigationBar=function(t){this.setAggregation("navigationBar",t);if(t&&this.mEventRegistry["_adaptableContentChange"]){this.fireEvent("_adaptableContentChange",{parent:this,adaptableContent:t})}return this};P.prototype._getAdaptableContent=function(){return this.getNavigationBar()};P.prototype.isDynamic=function(){return false};P.prototype.getCompatibleHeaderContentClass=function(){return p};P.prototype.supportsToggleHeaderOnTitleClick=function(){return false};P.prototype.supportsTitleInHeaderContent=function(){return true};P.prototype.supportsAdaptLayoutForDomElement=function(){return true};P.prototype.supportsBackgroundDesign=function(){return false};P.prototype.getTitleText=function(){return this.getObjectTitle()};P.prototype.snap=function(){this._adaptLayout()};P.prototype.unSnap=function(){this._adaptLayout()};P.prototype._toggleExpandButton=function(t){};P.prototype._setShowExpandButton=function(t){};P.prototype._focusExpandButton=function(){};P.prototype._toggleFocusableState=function(t){};return P});
sap.ui.predefine("sap/uxap/ObjectPageHeaderActionButton",["sap/m/Button","./library","./ObjectPageHeaderActionButtonRenderer"],function(e,t,i){"use strict";var n=e.extend("sap.uxap.ObjectPageHeaderActionButton",{metadata:{interfaces:["sap.m.IOverflowToolbarContent"],library:"sap.uxap",properties:{hideText:{type:"boolean",defaultValue:true},hideIcon:{type:"boolean",defaultValue:false},importance:{type:"sap.uxap.Importance",group:"Behavior",defaultValue:t.Importance.High}},designtime:"sap/uxap/designtime/ObjectPageHeaderActionButton.designtime"}});n.prototype.init=function(){this._bInternalVisible=this.getVisible()};n.prototype.onAfterRendering=function(){if(!this._getInternalVisible()){this.$().hide()}};n.prototype.applySettings=function(t,i){if(e.prototype.applySettings){e.prototype.applySettings.call(this,t,i)}this.toggleStyleClass("sapUxAPObjectPageHeaderActionButtonHideText",this.getHideText());this.toggleStyleClass("sapUxAPObjectPageHeaderActionButtonHideIcon",this.getHideIcon())};n.prototype.setHideText=function(e,t){this.toggleStyleClass("sapUxAPObjectPageHeaderActionButtonHideText",e);return this.setProperty("hideText",e,t)};n.prototype.setHideIcon=function(e,t){this.toggleStyleClass("sapUxAPObjectPageHeaderActionButtonHideIcon",e);return this.setProperty("hideIcon",e,t)};n.prototype._setInternalVisible=function(e,t){this.$().toggle(e);if(e!=this._bInternalVisible){this._bInternalVisible=e;if(t){this.invalidate()}}};n.prototype.setVisible=function(t){var i=e.prototype.setVisible.apply(this,arguments);this.getParent()&&this.getParent().invalidate();return i};n.prototype._getInternalVisible=function(){return this._bInternalVisible};n.prototype.getOverflowToolbarConfig=function(){var e={canOverflow:true,propsUnrelatedToSize:["importance"],getCustomImportance:function(){return this.getImportance()}.bind(this)};e.onBeforeEnterOverflow=function(e){e.toggleStyleClass("sapUxAPObjectPageHeaderActionButtonHideText",false,true);e.toggleStyleClass("sapUxAPObjectPageHeaderActionButtonHideIcon",false,true)};e.onAfterExitOverflow=function(e){e.toggleStyleClass("sapUxAPObjectPageHeaderActionButtonHideText",e.getHideText(),true);e.toggleStyleClass("sapUxAPObjectPageHeaderActionButtonHideIcon",e.getHideIcon(),true)};return e};return n});
sap.ui.predefine("sap/uxap/ObjectPageHeaderActionButtonRenderer",["sap/m/ButtonRenderer","sap/ui/core/Renderer"],function(e,r){"use strict";var n=r.extend(e);n.apiVersion=2;return n},true);
sap.ui.predefine("sap/uxap/ObjectPageHeaderContent",["sap/ui/core/Control","./library","sap/m/Button","./ObjectImageHelper","./ObjectPageHeaderContentRenderer"],function(e,t,a,r,n){"use strict";var o=t.ObjectPageHeaderDesign;var i=e.extend("sap.uxap.ObjectPageHeaderContent",{metadata:{library:"sap.uxap",interfaces:["sap.uxap.IHeaderContent"],properties:{contentDesign:{type:"sap.uxap.ObjectPageHeaderDesign",group:"Misc",defaultValue:o.Light}},aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"},_editHeaderButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_objectImage:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},_placeholder:{type:"sap.m.Avatar",multiple:false,visibility:"hidden"}}}});i.prototype.onBeforeRendering=function(){var e=this.getParent(),a=this.getAggregation("_editHeaderButton");if(a){return}if(e&&e instanceof t.ObjectPageLayout&&e.getShowEditHeaderButton()){a=this._getInternalBtnAggregation("_editHeaderButton","EDIT_HEADER","-editHeaderBtn","Transparent");a.attachPress(this._handleEditHeaderButtonPress,this)}};i.prototype.exit=function(){var e=this.getAggregation("_editHeaderButton");if(e){e.detachPress(this._handleEditHeaderButtonPress,this)}};i.prototype._handleEditHeaderButtonPress=function(e){this.getParent().fireEditHeaderButtonPress()};i.prototype._getInternalBtnAggregation=function(e,t,r,n){if(!this.getAggregation(e)){var o=new a({text:sap.ui.getCore().getLibraryResourceBundle("sap.uxap").getText(t),type:n,id:this.getId()+r});this.setAggregation(e,o)}return this.getAggregation(e)};i.prototype._getObjectImage=function(){if(!this.getAggregation("_objectImage")){var e=this.getParent(),t=e&&e.getHeaderTitle&&e.getHeaderTitle(),a=t&&r.createObjectImage(t);if(a){this.setAggregation("_objectImage",a,true)}}return this.getAggregation("_objectImage")};i.prototype._destroyObjectImage=function(e){var t=this.getAggregation("_objectImage");if(t){t.destroy();this.getAggregation("_objectImage",null,e)}};i.prototype._getPlaceholder=function(){if(!this.getAggregation("_placeholder")){var e=this.getParent(),t=e&&e.getHeaderTitle&&e.getHeaderTitle(),a=t.getShowPlaceholder();var n=a&&r.createPlaceholder();if(n){this.setAggregation("_placeholder",n,true)}}return this.getAggregation("_placeholder")};i.prototype._getLayoutDataForControl=function(e){var a=e.getLayoutData();if(!a){return}else if(a instanceof t.ObjectPageHeaderLayoutData){return a}else if(a.getMetadata().getName()=="sap.ui.core.VariantLayoutData"){var r=a.getMultipleLayoutData();for(var n=0;n<r.length;n++){var o=r[n];if(o instanceof t.ObjectPageHeaderLayoutData){return o}}}};i.prototype.setVisible=function(e){this.getParent()&&this.getParent().toggleStyleClass("sapUxAPObjectPageLayoutNoHeaderContent",!e);return this.setProperty("visible",e)};i.createInstance=function(e,t,a,r,n){return new i({content:e,visible:t,contentDesign:a,id:n})};i.prototype.supportsPinUnpin=function(){return false};i.prototype.supportsChildPageDesign=function(){return true};i.prototype.supportsAlwaysExpanded=function(){return true};i.prototype._toggleCollapseButton=function(e){};i.prototype._setShowCollapseButton=function(e){};i.prototype._focusCollapseButton=function(){};i.prototype._focusPinButton=function(){};return i});
sap.ui.predefine("sap/uxap/ObjectPageHeaderContentRenderer",["./ObjectPageHeaderRenderer","./ObjectImageHelper"],function(e,t){"use strict";var a={apiVersion:2};a.render=function(e,t){var a=t.getParent(),n=a&&a.isA("sap.uxap.ObjectPageLayout"),s=a&&n?a.getHeaderTitle():undefined,r=a&&n?a.isA("sap.uxap.ObjectPageLayout")&&a.getShowTitleInHeaderContent():false,o=n&&a.getShowEditHeaderButton()&&t.getContent()&&t.getContent().length>0;if(o){e.openStart("div",t).class("sapUxAPObjectPageHeaderContentFlexBox").class("sapUxAPObjectPageHeaderContentDesign-"+t.getContentDesign());if(s){e.class("sapUxAPObjectPageContentObjectImage-"+s.getObjectImageShape())}e.openEnd()}e.openStart("div",o?undefined:t);if(o){e.class("sapUxAPObjectPageHeaderContentCellLeft")}else{e.class("sapUxAPObjectPageHeaderContentDesign-"+t.getContentDesign());if(s){e.class("sapUxAPObjectPageContentObjectImage-"+s.getObjectImageShape())}}e.class("sapContrastPlus").class("ui-helper-clearfix").class("sapUxAPObjectPageHeaderContent");if(!t.getVisible()){e.class("sapUxAPObjectPageHeaderContentHidden")}e.openEnd();if(n&&a.getIsChildPage()){e.openStart("div").class("sapUxAPObjectChildPage").openEnd().close("div")}if(r){this._renderTitleImage(e,t,s);if(t.getContent().length==0){e.openStart("span").class("sapUxAPObjectPageHeaderContentItem").openEnd();this._renderTitle(e,s);e.close("span")}}t.getContent().forEach(function(a,n){this._renderHeaderContentItem(a,n,e,r,s,t)},this);e.close("div");if(o){this._renderEditButton(e,t);e.close("div")}};a._renderHeaderContentItem=function(e,t,a,n,s,r){var o=false,i=false,d=r._getLayoutDataForControl(e),c=t===0;if(d){o=d.getShowSeparatorBefore();i=d.getShowSeparatorAfter();a.openStart("span").class("sapUxAPObjectPageHeaderWidthContainer").class("sapUxAPObjectPageHeaderContentItem").style("width",d.getWidth());if(i||o){a.class("sapUxAPObjectPageHeaderSeparatorContainer")}if(!d.getVisibleL()){a.class("sapUxAPObjectPageHeaderLayoutHiddenL")}if(!d.getVisibleM()){a.class("sapUxAPObjectPageHeaderLayoutHiddenM")}if(!d.getVisibleS()){a.class("sapUxAPObjectPageHeaderLayoutHiddenS")}a.openEnd();if(o){a.openStart("span").class("sapUxAPObjectPageHeaderSeparatorBefore").openEnd().close("span")}if(c&&n){this._renderTitle(a,s)}}else{if(c&&n){a.openStart("span").class("sapUxAPObjectPageHeaderContentItem").openEnd();this._renderTitle(a,s)}else{e.addStyleClass("sapUxAPObjectPageHeaderContentItem")}}a.renderControl(e);if(i){a.openStart("span").class("sapUxAPObjectPageHeaderSeparatorAfter").openEnd().close("span")}if(d||c&&n){a.close("span")}};a._renderTitleImage=function(e,a,n){t._renderImageAndPlaceholder(e,{oHeader:n,oObjectImage:a._getObjectImage(),oPlaceholder:a._getPlaceholder(),bIsObjectIconAlwaysVisible:false,bAddSubContainer:false,sBaseClass:"sapUxAPObjectPageHeaderContentImageContainer"})};a._renderTitle=function(t,a){e._renderObjectPageTitle(t,a,true)};a._renderEditButton=function(e,t){e.openStart("div").class("sapUxAPObjectPageHeaderContentCellRight").openEnd();e.renderControl(t.getAggregation("_editHeaderButton"));e.close("div")};return a},true);
sap.ui.predefine("sap/uxap/ObjectPageHeaderLayoutData",["sap/ui/core/LayoutData","./library"],function(e,a){"use strict";var t=e.extend("sap.uxap.ObjectPageHeaderLayoutData",{metadata:{library:"sap.uxap",properties:{visibleS:{type:"boolean",group:"Misc",defaultValue:true},visibleM:{type:"boolean",group:"Misc",defaultValue:true},visibleL:{type:"boolean",group:"Misc",defaultValue:true},showSeparatorBefore:{type:"boolean",group:"Misc",defaultValue:false},showSeparatorAfter:{type:"boolean",group:"Misc",defaultValue:false},width:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:"auto"}}}});return t});
sap.ui.predefine("sap/uxap/ObjectPageHeaderRenderer",["./ObjectImageHelper","sap/ui/Device"],function(e,t){"use strict";var a={apiVersion:2};a.render=function(a,r){var n=r.getNavigationBar(),s=r.getIsObjectIconAlwaysVisible()||r.getIsObjectTitleAlwaysVisible()||r.getIsObjectSubtitleAlwaysVisible()||r.getIsActionAreaAlwaysVisible(),o=r.getParent(),i=r.getAggregation("_expandButton"),l=r._lazyLoadInternalAggregation("_objectImage",true),c,d=t.system.desktop,g=o&&o.isA("sap.uxap.ObjectPageLayout")&&(o.getHeaderContent()&&o.getHeaderContent().length>0&&o.getShowHeaderContent()||o.getShowHeaderContent()&&o.getShowTitleInHeaderContent());a.openStart("div",r).class("sapUxAPObjectPageHeader").class("sapUxAPObjectPageHeaderDesign-"+r.getHeaderDesign()).openEnd();if(n){a.openStart("div").class("sapUxAPObjectPageHeaderNavigation").openEnd();a.renderControl(n);a.close("div")}a.openStart("div",r.getId()+"-identifierLine").class("sapUxAPObjectPageHeaderIdentifier");if(s){a.class("sapUxAPObjectPageHeaderIdentifierForce")}a.openEnd();if(o&&o.isA("sap.uxap.ObjectPageLayout")&&o.getIsChildPage()){a.openStart("div").class("sapUxAPObjectChildPage").openEnd().close("div")}if(r.getShowPlaceholder()){c=r._lazyLoadInternalAggregation("_placeholder",true)}e._renderImageAndPlaceholder(a,{oHeader:r,oObjectImage:l,oPlaceholder:c,bIsObjectIconAlwaysVisible:r.getIsObjectIconAlwaysVisible(),bAddSubContainer:true,sBaseClass:"sapUxAPObjectPageHeaderObjectImageContainer"});a.openStart("span",r.getId()+"-identifierLineContainer").class("sapUxAPObjectPageHeaderIdentifierContainer").openEnd();this._renderObjectPageTitle(a,r);a.close("span");a.openStart("span",r.getId()+"-actions").class("sapUxAPObjectPageHeaderIdentifierActions");if(r.getIsActionAreaAlwaysVisible()){a.class("sapUxAPObjectPageHeaderIdentifierActionsForce")}a.openEnd();if(d&&g){i.addStyleClass("sapUxAPObjectPageHeaderExpandButton");a.renderControl(i)}var p=r.getActions();for(var b=0;b<p.length;b++){var A=p[b];a.renderControl(A)}var P=r.getAggregation("_overflowButton");a.renderControl(P);this._renderSideContentBtn(a,r);a.close("span");a.close("div");a.close("div")};a._renderObjectPageTitle=function(e,t,a){var r=t.getObjectTitle(),n=t.getShowMarkers()&&(t.getMarkFavorite()||t.getMarkFlagged()),s=t._getBreadcrumbsAggregation(),o=t.getTooltip_Text(),i=a?"-content":"";if(!a&&s){e.renderControl(s)}e.openStart("h2",t.getId()+"-title"+i).class("sapUxAPObjectPageHeaderIdentifierTitle");if(t.getIsObjectTitleAlwaysVisible()){e.class("sapUxAPObjectPageHeaderIdentifierTitleForce")}if(a){e.class("sapUxAPObjectPageHeaderIdentifierTitleInContent")}if(t.getShowTitleSelector()){e.class("sapUxAPObjectPageHeaderTitleFollowArrow")}e.openEnd();e.openStart("span",t.getId()+"-innerTitle"+i).class("sapUxAPObjectPageHeaderTitleText").class("sapUxAPObjectPageHeaderTitleTextWrappable");if(o){e.attr("title",o)}e.openEnd();if(n||t.getShowTitleSelector()||t.getMarkLocked()||t.getMarkChanges()){var l=r.substr(r.lastIndexOf(" ")+1);var c=r.substr(0,r.lastIndexOf(" ")+1);if(l.length===1){l=r;c=""}e.text(c);e.close("span");e.openStart("span").class("sapUxAPObjectPageHeaderNowrapMarkers");if(t.getMarkLocked()||t.getMarkChanges()){e.class("sapUxAPObjectPageHeaderMarks")}e.openEnd();e.openStart("span").class("sapUxAPObjectPageHeaderTitleText").openEnd().text(l).close("span");this._renderMarkers(e,t);if(t.getMarkLocked()){this._renderLock(e,t,a)}else if(t.getMarkChanges()){this._renderMarkChanges(e,t,a)}this._renderSelectTitleArrow(e,t,a);e.close("span")}else{e.text(r);e.close("span")}e.close("h2");e.openStart("span",t.getId()+"-subtitle"+i).class("sapUxAPObjectPageHeaderIdentifierDescription");if(t.getIsObjectSubtitleAlwaysVisible()&&t.getObjectSubtitle()){e.class("sapUxAPObjectPageHeaderIdentifierDescriptionForce")}if(a){e.class("sapUxAPObjectPageHeaderIdentifierSubTitleInContent")}e.openEnd();e.text(t.getObjectSubtitle());e.close("span")};a._renderSelectTitleArrow=function(e,t,a){if(t.getShowTitleSelector()){e.openStart("span").class("sapUxAPObjectPageHeaderTitleArrow").openEnd();if(a){e.renderControl(t._oTitleArrowIconCont)}else{e.renderControl(t._oTitleArrowIcon)}e.close("span")}};a._renderSideContentBtn=function(e,t){var a=t.getSideContentButton();if(a){e.openStart("span");e.class("sapUxAPObjectPageHeaderSideContentBtn");e.openEnd();e.openStart("span").class("sapUxAPObjectPageHeaderSeparator").openEnd().close("span");e.renderControl(a);e.close("span")}};a._renderMarkChanges=function(e,t,a){e.openStart("span").class("sapUxAPObjectPageHeaderChangesBtn").class("sapUiSizeCompact").openEnd();if(a){e.renderControl(t._oChangesIconCont)}else{e.renderControl(t._oChangesIcon)}e.close("span")};a._renderLock=function(e,t,a){e.openStart("span").class("sapUxAPObjectPageHeaderLockBtn").class("sapUiSizeCompact").openEnd();if(a){e.renderControl(t._oLockIconCont)}else{e.renderControl(t._oLockIcon)}e.close("span")};a._renderMarkers=function(e,t){var a=[];if(t.getShowMarkers()){a.push(t._oFavIcon);a.push(t._oFlagIcon);this._renderMarkersAria(e,t);e.openStart("span",t.getId()+"-markers").class("sapMObjStatusMarker").attr("aria-describedby",t.getId()+"-markers-aria").openEnd();for(var r=0;r<a.length;r++){e.renderControl(a[r])}e.close("span")}};a._renderMarkersAria=function(e,t){var a="";if(t.getMarkFlagged()){a+=t.oLibraryResourceBundle.getText("ARIA_FLAG_MARK_VALUE")+" "}if(t.getMarkFavorite()){a+=t.oLibraryResourceBundle.getText("ARIA_FAVORITE_MARK_VALUE")+" "}if(a!==""){e.openStart("div",t.getId()+"-markers-aria").attr("aria-hidden","false").class("sapUiHidden").openEnd().text(a).close("div")}};return a},true);
sap.ui.predefine("sap/uxap/ObjectPageLayout",["sap/ui/thirdparty/jquery","sap/ui/base/ManagedObjectObserver","sap/ui/core/ResizeHandler","sap/ui/core/Configuration","sap/ui/core/Control","sap/ui/Device","sap/ui/core/delegate/ScrollEnablement","./ObjectPageSectionBase","./ObjectPageSection","./ObjectPageSubSection","./ObjectPageHeaderContent","./LazyLoading","./ObjectPageLayoutABHelper","./ThrottledTaskHelper","sap/m/ScrollBar","sap/ui/core/library","./library","./ObjectPageLayoutRenderer","sap/base/Log","sap/base/util/array/diff","sap/ui/dom/getScrollbarSize","sap/base/assert","sap/base/util/merge","sap/ui/events/KeyCodes","sap/ui/events/F6Navigation","sap/ui/dom/getFirstEditableInput"],function(e,t,i,o,n,r,s,a,l,h,c,d,u,g,p,_,f,S,b,y,H,T,A,C,I,v){"use strict";var B=_.TitleLevel;var m=_.AccessibleLandmarkRole;var P=f.ObjectPageSubSectionLayout;var L=n.extend("sap.uxap.ObjectPageLayout",{metadata:{library:"sap.uxap",properties:{showAnchorBar:{type:"boolean",defaultValue:true},showAnchorBarPopover:{type:"boolean",defaultValue:true},upperCaseAnchorBar:{type:"boolean",defaultValue:true},backgroundDesignAnchorBar:{type:"sap.m.BackgroundDesign",group:"Appearance"},height:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},enableLazyLoading:{type:"boolean",defaultValue:false},subSectionLayout:{type:"sap.uxap.ObjectPageSubSectionLayout",defaultValue:P.TitleOnTop},sectionTitleLevel:{type:"sap.ui.core.TitleLevel",group:"Appearance",defaultValue:B.Auto},useIconTabBar:{type:"boolean",group:"Misc",defaultValue:false},showHeaderContent:{type:"boolean",group:"Misc",defaultValue:true},useTwoColumnsForLargeScreen:{type:"boolean",group:"Appearance",defaultValue:false},showTitleInHeaderContent:{type:"boolean",group:"Appearance",defaultValue:false},showOnlyHighImportance:{type:"boolean",group:"Behavior",defaultValue:false},isChildPage:{type:"boolean",group:"Appearance",defaultValue:false},alwaysShowContentHeader:{type:"boolean",group:"Behavior",defaultValue:false},headerContentPinnable:{type:"boolean",group:"Behavior",defaultValue:true},toggleHeaderOnTitleClick:{type:"boolean",group:"Behavior",defaultValue:true},preserveHeaderStateOnScroll:{type:"boolean",group:"Behavior",defaultValue:false},showEditHeaderButton:{type:"boolean",group:"Behavior",defaultValue:false},flexEnabled:{type:"boolean",group:"Misc",defaultValue:false},showFooter:{type:"boolean",group:"Behavior",defaultValue:false}},associations:{selectedSection:{type:"sap.uxap.ObjectPageSection",multiple:false}},defaultAggregation:"sections",aggregations:{sections:{type:"sap.uxap.ObjectPageSection",multiple:true,singularName:"section"},headerTitle:{type:"sap.uxap.IHeaderTitle",multiple:false},headerContent:{type:"sap.ui.core.Control",multiple:true,singularName:"headerContent"},footer:{type:"sap.m.IBar",multiple:false},landmarkInfo:{type:"sap.uxap.ObjectPageAccessibleLandmarkInfo",multiple:false},_anchorBar:{type:"sap.uxap.AnchorBar",multiple:false,visibility:"hidden"},_iconTabBar:{type:"sap.m.IconTabBar",multiple:false,visibility:"hidden"},_headerContent:{type:"sap.uxap.IHeaderContent",multiple:false,visibility:"hidden"},_customScrollBar:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}},events:{toggleAnchorBar:{parameters:{fixed:{type:"boolean"}}},sectionChange:{parameters:{section:{type:"sap.uxap.ObjectPageSection"},subSection:{type:"sap.uxap.ObjectPageSubSection"}}},editHeaderButtonPress:{},navigate:{parameters:{section:{type:"sap.uxap.ObjectPageSection"},subSection:{type:"sap.uxap.ObjectPageSubSection"}}},subSectionVisibilityChange:{parameters:{visibleSubSections:{type:"object"}}}},dnd:{draggable:false,droppable:true},designtime:"sap/uxap/designtime/ObjectPageLayout.designtime"}});L.HEADER_CALC_DELAY=350;L.DOM_CALC_DELAY=200;L.MAX_SNAP_POSITION_OFFSET=20;L.HEADER_MAX_ALLOWED_NON_SROLLABLE_PERCENTAGE=.6;L.TITLE_LEVEL_AS_ARRAY=Object.keys(B);L.EVENTS={TITLE_PRESS:"_titlePress",TITLE_MOUSE_OVER:"_titleMouseOver",TITLE_MOUSE_OUT:"_titleMouseOut",PIN_UNPIN_PRESS:"_pinUnpinPress",VISUAL_INDICATOR_MOUSE_OVER:"_visualIndicatorMouseOver",VISUAL_INDICATOR_MOUSE_OUT:"_visualIndicatorMouseOut",HEADER_VISUAL_INDICATOR_PRESS:"_headerVisualIndicatorPress",TITLE_VISUAL_INDICATOR_PRESS:"_titleVisualIndicatorPress"};L.BREAK_POINTS={TABLET:1024,PHONE:600};L.MEDIA={PHONE:"sapUxAPObjectPageLayout-Std-Phone",TABLET:"sapUxAPObjectPageLayout-Std-Tablet",DESKTOP:"sapUxAPObjectPageLayout-Std-Desktop"};L.DYNAMIC_HEADERS_MEDIA={PHONE:"sapFDynamicPage-Std-Phone",TABLET:"sapFDynamicPage-Std-Tablet",DESKTOP:"sapFDynamicPage-Std-Desktop"};L.DIV="div";L.HEADER="header";L.FOOTER="section";L.SHOW_FOOTER_CLASS_NAME="sapUxAPObjectPageFloatingFooterShow";L.HIDE_FOOTER_CLASS_NAME="sapUxAPObjectPageFloatingFooterHide";L.NO_NAVIGATION_CLASS_NAME="sapUxAPObjectPageNoNavigation";L.prototype._getFirstEditableInput=function(e){var t=this.getDomRef(e);return v(t)};L.prototype._focusFirstEditableInput=function(e){this._getFirstEditableInput(e).focus()};L._getNextTitleLevelEntry=function(e){var t=L.TITLE_LEVEL_AS_ARRAY.indexOf(e),i=t!==-1,o=i&&t!==L.TITLE_LEVEL_AS_ARRAY.length-1;if(!i){return B.Auto}return L.TITLE_LEVEL_AS_ARRAY[o?t+1:t]};L._getLibraryResourceBundle=function(){return sap.ui.getCore().getLibraryResourceBundle("sap.uxap")};L.prototype.init=function(){this.oCore=sap.ui.getCore();this._bFirstRendering=true;this._bDomReady=false;this._bPinned=false;this._bStickyAnchorBar=false;this._bHeaderInTitleArea=false;this._bHeaderExpanded=true;this._bHeaderBiggerThanAllowedHeight=false;this._bDelayDOMBasedCalculations=true;this._iStoredScrollTop=0;this._oStoredScrolledSubSectionInfo={};this._bAllContentFitsContainer=false;this._bIsFooterAanimationGoing=false;this._bInternalAnchorBarVisible=true;this._oVisibleSubSections=0;this._$footerWrapper=[];this._$opWrapper=[];this._$anchorBar=[];this._$titleArea=[];this._$stickyAnchorBar=[];this._$headerContent=[];this._$stickyHeaderContent=[];this._bMobileScenario=false;this._oSectionInfo={};this._aSectionBases=[];this._sScrolledSectionId="";this._iScrollToSectionDuration=600;this._$spacer=[];this.iHeaderContentHeight=0;this.iStickyHeaderContentHeight=0;this.iHeaderTitleHeight=0;this.iHeaderTitleHeightStickied=0;this.iAnchorBarHeight=0;this.iFooterHeight=0;this.iTotalHeaderSize=0;this._oScrollContainerLastState={};this._iREMSize=parseInt(e("body").css("font-size"));this._iOffset=parseInt(.25*this._iREMSize);this._iResizeId=null;this._iAfterRenderingDomReadyTimeout=null;this._oABHelper=new u(this);this._initializeScroller()};L.prototype.onBeforeRendering=function(){var t,i;this._deregisterScreenSizeListener();if(this._oLazyLoading){this._oLazyLoading.destroy()}this._oLazyLoading=new d(this);this._deregisterCustomEvents();if(!this.getVisible()){return}if(!this.getSelectedSection()){this._bHeaderExpanded=true}this._bMobileScenario=f.Utilities.isPhoneScenario(this._getCurrentMediaContainerRange());this._bTabletScenario=f.Utilities.isTabletScenario(this._getCurrentMediaContainerRange());if(this._checkAlwaysShowContentHeader()){this._bHeaderExpanded=true}this._bHeaderInTitleArea=this._shouldPreserveHeaderInTitleArea();this._createHeaderContent();this._getHeaderContent().setContentDesign(this._getHeaderDesign());this._oABHelper._getAnchorBar().setProperty("upperCase",this.getUpperCaseAnchorBar(),true);this._storeScrollLocation();this._applyUxRules();if(!e.isEmptyObject(this._oSectionInfo)&&this._bFirstRendering){this._preloadSectionsOnBeforeFirstRendering();this._bFirstRendering=false}this._bStickyAnchorBar=false;this._handleExpandButtonPressEventLifeCycle(false);this._attachTitlePressHandler();t=this._getHeaderContent();if(t&&t.supportsPinUnpin()){i=this.getHeaderContentPinnable()&&!this.getPreserveHeaderStateOnScroll();this._getHeaderContent().setPinnable(i);if(i){this._attachPinPressHandler()}}this._attachVisualIndicatorsPressHandlers(this._handleDynamicTitlePress,this);if(r.system.desktop){this._attachVisualIndicatorMouseOverHandlers(this._addHoverClass,this._removeHoverClass,this);this._attachTitleMouseOverHandlers(this._addHoverClass,this._removeHoverClass,this)}if(this.getFooter()&&this._bIsFooterAanimationGoing){this._onToggleFooterAnimationEnd(this.getFooter())}this._$titleArea=[]};L.prototype.setBackgroundDesignAnchorBar=function(e){var t=this.getBackgroundDesignAnchorBar();if(t===e){return this}this.setProperty("backgroundDesignAnchorBar",e);this._oABHelper._getAnchorBar().setBackgroundDesign(e);return this};L.prototype.setToggleHeaderOnTitleClick=function(e){var t=this.getHeaderTitle(),i=this.setProperty("toggleHeaderOnTitleClick",e,true);if(!t||!t.supportsToggleHeaderOnTitleClick()){b.warning("Setting toggleHeaderOnTitleClick will not take effect as it is not supported in the ObjectPageHeader, read the API Doc for more information",this);return i}e=this.getProperty("toggleHeaderOnTitleClick");this._updateToggleHeaderVisualIndicators();this._updateTitleVisualState();return i};L.prototype._attachTitlePressHandler=function(){var e=this.getHeaderTitle();if(O(e)&&!this._bAlreadyAttachedTitlePressHandler){e.attachEvent(L.EVENTS.TITLE_PRESS,this._handleDynamicTitlePress,this);this._bAlreadyAttachedTitlePressHandler=true}};L.prototype._toggleHeaderVisibility=function(e){var t=this._getHeaderContent();if(O(t)){t.$().toggleClass("sapUxAPObjectPageHeaderContentHidden",!e)}};L.prototype._snapHeader=function(e){var t,i=this._getHeaderContent();if(i&&i.supportsPinUnpin()&&this._bPinned){this._unPin();i.getAggregation("_pinButton").setPressed(false);e=true}this._toggleHeaderTitle(false,true);this._toggleHeaderVisibility(e);this._moveAnchorBarToTitleArea();if(e){this._moveHeaderToContentArea();this._bHeaderExpanded=false;this._updateToggleHeaderVisualIndicators();this._adjustHeaderHeights();this._requestAdjustLayout(true);t=this._$opWrapper.scrollTop()<=this._getSnapPosition()+1;if(t){this._scrollTo(this._getSnapPosition()+1)}return}this._bHeaderExpanded=false;this._updateToggleHeaderVisualIndicators();this._adjustHeaderHeights();this._requestAdjustLayout()};L.prototype._expandHeader=function(e){this._toggleHeaderTitle(true,true);this._toggleHeaderVisibility(true);if(e){this._moveAnchorBarToTitleArea();this._moveHeaderToTitleArea();this._bHeaderExpanded=true;this._updateToggleHeaderVisualIndicators();this._adjustHeaderHeights();this._requestAdjustLayout();return}this._moveAnchorBarToContentArea();this._moveHeaderToContentArea();this._scrollTo(0,0,0);this._bHeaderExpanded=true;this._updateToggleHeaderVisualIndicators()};L.prototype._handleDynamicTitlePress=function(){if(!this.getToggleHeaderOnTitleClick()||!this._hasVisibleDynamicTitleAndHeader()){return}var e=!this._bHeaderExpanded,t,i,o;if(e){t=this._$opWrapper.scrollTop()<=this._getSnapPosition()+1;i=!this._headerBiggerThanAllowedToBeExpandedInTitleArea()&&(this._shouldPreserveHeaderInTitleArea()||!t);this._expandHeader(i);if(!i){this._scrollTo(0,0)}}else{o=!this._shouldPreserveHeaderInTitleArea()&&(!this._bAllContentFitsContainer||this._headerBiggerThanAllowedToBeExpandedInTitleArea());this._snapHeader(o)}this.getHeaderTitle()._getFocusSpan().trigger("focus")};L.prototype._attachPinPressHandler=function(){var e=this._getHeaderContent();if(O(e)&&!this._bAlreadyAttachedPinPressHandler){e.attachEvent(L.EVENTS.PIN_UNPIN_PRESS,this._onPinUnpinButtonPress,this);this._bAlreadyAttachedPinPressHandler=true}};L.prototype._handleExpandButtonPressEventLifeCycle=function(e){var t=this.getHeaderTitle(),i=this._hasDynamicTitle(),o;if(t&&!i){o=t.getAggregation("_expandButton");if(o){o[e?"attachPress":"detachPress"](this._handleExpandButtonPress,this)}}};L.prototype._adjustSelectedSectionByUXRules=function(){var e=this.oCore.byId(this.getSelectedSection()),t=e&&this._sectionCanBeRenderedByUXRules(e);if(!t){if(this._oFirstVisibleSection){e=this._oFirstVisibleSection;this.setAssociation("selectedSection",e.getId(),true)}else{this.setAssociation("selectedSection",null,true);return}}};L.prototype._sectionCanBeRenderedByUXRules=function(e){if(!(e instanceof a)){return false}var t=e.getBindingInfo("subSections");if(!t&&(!e.getVisible()||!e._getInternalVisible())){return false}var i=this._aSectionBases.map(function(e){return e.getId()});return i.indexOf(e.getId())>-1};L.prototype._getSectionsToRender=function(){this._adjustSelectedSectionByUXRules();var e=this.oCore.byId(this.getSelectedSection());if(this.getUseIconTabBar()&&e){return[e]}else{return this.getSections()}};L.prototype._preloadSectionsOnBeforeFirstRendering=function(){var e=this._getSectionsToPreloadOnBeforeFirstRendering();this._connectModelsForSections(e);if(this.getEnableLazyLoading()){e.forEach(function(e){this.fireEvent("subSectionPreload",{subSection:e})},this)}};L.prototype._getSectionsToPreloadOnBeforeFirstRendering=function(){var e,t,i;if(!this.getEnableLazyLoading()){return this._getSectionsToRender()}if(this.getUseIconTabBar()){return this._oLazyLoading.getSubsectionsToPreload(this._grepCurrentTabSectionBases())}this._adjustSelectedSectionByUXRules();t=this.oCore.byId(this.getSelectedSection());if(!t||t===this._oFirstVisibleSection){return this._oLazyLoading.getSubsectionsToPreload(this._aSectionBases)}i=this.indexOfSection(t);var o=function(e){var t=e.isA("sap.uxap.ObjectPageSection")?e:e.getParent();return this.indexOfSection(t)>=i}.bind(this);e=this._aSectionBases.filter(o);return this._oLazyLoading.getSubsectionsToPreload(e)};L.prototype._grepCurrentTabSectionBases=function(){var e=[],t,i,o,n;this._adjustSelectedSectionByUXRules();t=this.oCore.byId(this.getSelectedSection());if(t){i=t.getId();this._aSectionBases.forEach(function(t){o=t.getParent();n=o&&o.getId();if(t.getId()===i||n===i){e.push(t)}})}return e};L.prototype.onAfterRendering=function(){var e=this._getHeaderContent(),t=this.getFooter(),o,n=this._getWidth(this);this._iResizeId=i.register(this,this._onUpdateScreenSize.bind(this));this._ensureCorrectParentHeight();if(this._$sectionsContainer){this._$sectionsContainer.off("focusout");this._$sectionsContainer.off("focusin")}this._cacheDomElements();if(this._$sectionsContainer){this._$sectionsContainer.focusin(function(){this._skipToNextFastGroup=true}.bind(this));this._$sectionsContainer.focusout(function(){this._skipToNextFastGroup=false}.bind(this))}if(this._hasDynamicTitle()){this.addStyleClass("sapUxAPObjectPageHasDynamicTitle")}if(n>0){this._updateMedia(n,L.MEDIA)}this._$opWrapper.on("scroll.OPL",this._onScroll.bind(this));if(this._bDomReady&&this.$().parents(":hidden").length===0){this._onAfterRenderingDomReady()}else{if(this._iAfterRenderingDomReadyTimeout){clearTimeout(this._iAfterRenderingDomReadyTimeout)}this._iAfterRenderingDomReadyTimeout=setTimeout(this._onAfterRenderingDomReady.bind(this),this._getDOMCalculationDelay())}if(e&&e.supportsPinUnpin()){this.$().toggleClass("sapUxAPObjectPageLayoutHeaderPinnable",e.getPinnable())}if(t){o=L._getLibraryResourceBundle().getText("FOOTER_ARIA_LABEL");t.$().attr("aria-label",o)}this._handleExpandButtonPressEventLifeCycle(true)};L.prototype._onAfterRenderingDomReady=function(){var e,t,i,o=this._getWidth(this);if(this._bIsBeingDestroyed){return}this._adjustSelectedSectionByUXRules();e=this.getSelectedSection();t=this.oCore.byId(e);this._iAfterRenderingDomReadyTimeout=null;this._bDomReady=true;this._adjustHeaderHeights();this._initAnchorBarScroll();if(e){if(this.getUseIconTabBar()){this._setSelectedSectionId(e);this._setCurrentTabSection(t);this._bAllContentFitsContainer=this._hasSingleVisibleFullscreenSubSection(t);this._checkSubSectionVisibilityChange()}else{this.scrollToSection(e,0)}}this._toggleScrolling(!this._bAllContentFitsContainer);if(r.system.desktop){this._$opWrapper.on("scroll.OPL",this.onWrapperScroll.bind(this))}this._registerOnContentResize();this.getHeaderTitle()&&this._shiftHeaderTitle();this.getFooter()&&this._shiftFooter();this._setSectionsFocusValues();if(this._preserveHeaderStateOnScroll()){this._overridePreserveHeaderStateOnScroll()}if(!this._bHeaderExpanded){i=!this._shouldPreserveHeaderInTitleArea()&&!this._bAllContentFitsContainer;this._snapHeader(i)}this._restoreScrollPosition();this.oCore.getEventBus().publish("sap.ui","ControlForPersonalizationRendered",this);this._updateMedia(o,L.MEDIA);if(this._hasDynamicTitle()){this._updateMedia(o,L.DYNAMIC_HEADERS_MEDIA)}this._updateToggleHeaderVisualIndicators();this._updateTitleVisualState();this.fireEvent("onAfterRenderingDOMReady")};L.prototype._toggleScrolling=function(e){if(this._$opWrapper.length){this._$opWrapper.get(0).style.overflowY=e?"auto":"hidden"}};L.prototype._shiftFooter=function(){var e=this.$("footerWrapper"),t=this._calculateShiftOffset();e.css(t.sStyleAttribute,t.iMarginalsOffset+"px")};L.prototype._calculateShiftOffset=function(){var e=0,t=this.oCore.getConfiguration().getRTL()?"left":"right",i=this._hasVerticalScrollBar(),o=this._iOffset,n;if(r.system.desktop){n=H().width;e=n;if(!i){e=0;o+=n}}return{sStyleAttribute:t,iActionsOffset:o,iMarginalsOffset:e}};L.prototype._getDOMCalculationDelay=function(){return this._bDelayDOMBasedCalculations?L.HEADER_CALC_DELAY:0};L.prototype.exit=function(){if(this._oScroller){this._oScroller.destroy();this._oScroller=null}if(this._oLazyLoading){this._oLazyLoading.destroy();this._oLazyLoading=null}this._deregisterScreenSizeListener();if(this._iContentResizeId){i.deregister(this._iContentResizeId)}if(this._iAfterRenderingDomReadyTimeout){clearTimeout(this._iAfterRenderingDomReadyTimeout)}if(this._oObserver){this._oObserver.disconnect();this._oObserver=null}this._deregisterCustomEvents();this._oFirstVisibleSection=null;this._oFirstVisibleSubSection=null};L.prototype._getCustomScrollBar=function(){if(!this.getAggregation("_customScrollBar")){var e=new p(this.getId()+"-vertSB",{scrollPosition:0,scroll:this.onCustomScrollerScroll.bind(this),visible:false});this.setAggregation("_customScrollBar",e,true)}return this.getAggregation("_customScrollBar")};L.prototype.onWrapperScroll=function(e){var t=Math.max(e.target.scrollTop,0);if(this._getCustomScrollBar()){if(this.allowCustomScroll===true){this.allowCustomScroll=false;return}this.allowInnerDiv=true;this._getCustomScrollBar().setScrollPosition(t)}};L.prototype.onCustomScrollerScroll=function(t){var i=Math.max(this._getCustomScrollBar().getScrollPosition(),0);if(this.allowInnerDiv===true){this.allowInnerDiv=false;return}this.allowCustomScroll=true;e(this._$opWrapper).scrollTop(i)};L.prototype.setShowOnlyHighImportance=function(e){var t=this.getShowOnlyHighImportance();if(t!==e){this.setProperty("showOnlyHighImportance",e,true);this.getSections().forEach(function(e){e._updateImportance()})}return this};L.prototype.setIsHeaderContentAlwaysExpanded=function(e){var t=this.getAlwaysShowContentHeader();var i=r.system.phone||r.system.tablet;if(t!==e){this.setProperty("alwaysShowContentHeader",e,i)}return this};L.prototype.setShowEditHeaderButton=function(e){var t=this.getShowEditHeaderButton(),i=this.getAggregation("_headerContent");if(t!==e){this.setProperty("showEditHeaderButton",e,true);i&&i.invalidate()}return this};L.prototype._initializeScroller=function(){if(this._oScroller){return}this._oScroller=new s(this,this.getId()+"-scroll",{horizontal:false,vertical:true})};L.prototype.setSelectedSection=function(e){var t,i;if(e instanceof a){e=e.getId()}else if(e!=null&&typeof e!=="string"){T(false,"setSelectedSection(): sId must be a string, an instance of sap.uxap.ObjectPageSection or null");return this}if(e===this.getSelectedSection()){return this}if(e===null){this.setAssociation("selectedSection",null,true);this._expandHeader(this._bHeaderInTitleArea);this._requestAdjustLayoutAndUxRules(true);return this}this.scrollToSection(e);t=l._getClosestSection(e);i=t instanceof l?t.getId():t;return this.setAssociation("selectedSection",i,true)};L.prototype._ensureCorrectParentHeight=function(){if(this._bCorrectParentHeightIsSet){return}if(this.getParent().getHeight&&["","auto"].indexOf(this.getParent().getHeight())!==-1){this.$().parent().css("height","100%")}this._bCorrectParentHeightIsSet=true};L.prototype._cacheDomElements=function(){this._$footerWrapper=e(document.getElementById(this.getId()+"-footerWrapper"));this._$titleArea=e(document.getElementById(this.getId()+"-headerTitle"));this._$anchorBar=e(document.getElementById(this.getId()+"-anchorBar"));this._$stickyAnchorBar=e(document.getElementById(this.getId()+"-stickyAnchorBar"));this._$opWrapper=e(document.getElementById(this.getId()+"-opwrapper"));this._$spacer=e(document.getElementById(this.getId()+"-spacer"));this._$headerContent=e(document.getElementById(this.getId()+"-headerContent"));this._$stickyHeaderContent=e(document.getElementById(this.getId()+"-stickyHeaderContent"));this._$contentContainer=e(document.getElementById(this.getId()+"-scroll"));this._$sectionsContainer=e(document.getElementById(this.getId()+"-sectionsContainer"));this._$skipFastGroupAnchor=e(document.getElementById(this.getId()+"-skipFastGroupAnchor"));this._oScroller._$Container=this._$opWrapper;this._bDomElementsCached=true};L.prototype._handleExpandButtonPress=function(e){this._expandHeader(true)};L.prototype._toggleHeaderTitle=function(e,t){var i=this.getHeaderTitle();if(this._$titleArea.length){this._$titleArea.toggleClass("sapUxAPObjectPageHeaderStickied",!e);this._$titleArea.toggleClass("sapUxAPObjectPageHeaderSnappedTitleOnMobile",this._hasDynamicTitleWithSnappedTitleOnMobile()&&!e)}if(e){i&&i.unSnap(t)}else{i&&i.snap(t)}};L.prototype._moveHeaderToTitleArea=function(){this._$headerContent.children().appendTo(this._$stickyHeaderContent);this._bHeaderInTitleArea=true;this._bSupressModifyOnScrollOnce=true};L.prototype._moveHeaderToContentArea=function(){if(this._bHeaderInTitleArea){this._$headerContent.append(this._$stickyHeaderContent.children());this._$stickyHeaderContent.children().remove();this._bHeaderInTitleArea=false}};L.prototype._updateNavigation=function(){if(this.getShowAnchorBar()){this._oABHelper._buildAnchorBar()}};L.prototype._applyUxRules=function(e){var t,i,o,n,r,s,a,l,c,d,u,g,p={};t=this.getSections()||[];n=0;s=this.getShowAnchorBar();a=this.getUseIconTabBar();l=null;this._cleanMemory();t.forEach(function(t){if(!t.getVisible()){return true}this._registerSectionBaseInfo(t);i=t.getSubSections()||[];o=0;c=null;i.forEach(function(t){if(!t.getVisible()){return true}this._registerSectionBaseInfo(t);r=t.getVisibleBlocksCount();if(r===0){t._setInternalVisible(false,e);b.info("ObjectPageLayout :: noVisibleBlock UX rule matched","subSection "+t.getTitle()+" forced to hidden")}else{t._setInternalVisible(true,e);p[t.getId()]=true;o++;if(!c){c=t}if(this._shouldApplySectionTitleLevel(t)){t._setInternalTitleLevel(this._determineSectionBaseInternalTitleLevel(t))}}},this);if(o==0){t._setInternalVisible(false,e);b.info("ObjectPageLayout :: noVisibleSubSection UX rule matched","section "+t.getTitle()+" forced to hidden")}else{t._setInternalVisible(true,e);p[t.getId()]=true;if(!l){l=t;g=o}if(this.getSubSectionLayout()===P.TitleOnTop&&o===1&&c.getTitle().trim()!==""){b.info("ObjectPageLayout :: TitleOnTop.sectionGetSingleSubSectionTitle UX rule matched","section "+t.getTitle()+" is taking its single subsection title "+c.getTitle());t._setInternalTitle(c.getTitle(),e);p[c.getId()]=false;c._setBorrowedTitleDomId(t.getId()+"-title")}else{t._setInternalTitle("",e)}if(o===1&&!c.getTitle().trim()){c._setBorrowedTitleDomId(t.getId()+"-title")}if(this._shouldApplySectionTitleLevel(t)){t._setInternalTitleLevel(this._determineSectionBaseInternalTitleLevel(t))}n++}if(a){p[t.getId()]=false}},this);if(n<=1){s=false;b.info("ObjectPageLayout :: notEnoughVisibleSection UX rule matched","anchorBar forced to hidden");if(a&&l){p[l.getId()]=true}}else if(l&&s){d=true;p[l.getId()]=false;b.info("ObjectPageLayout :: firstSectionTitleHidden UX rule matched","section "+l.getTitle()+" title forced to hidden")}this.toggleStyleClass(L.NO_NAVIGATION_CLASS_NAME,n<=1);Object.keys(p).forEach(function(t){this.oCore.byId(t)._setInternalTitleVisible(p[t],e)}.bind(this));if(s){this._oABHelper._buildAnchorBar()}this._setInternalAnchorBarVisible(s,e);this._oFirstVisibleSection=l;this._oFirstVisibleSubSection=this._getFirstVisibleSubSection(l);this._bAllContentFitsContainer=n===1&&o===1&&this._oFirstVisibleSubSection.hasStyleClass(h.FIT_CONTAINER_CLASS);if(d&&g===1){u=this.getAggregation("_anchorBar").getContent();if(u.length){this._oFirstVisibleSubSection._setBorrowedTitleDomId(u[0].getId()+"-content")}}this._checkSubSectionVisibilityChange()};L.prototype._checkSubSectionVisibilityChange=function(){var e=this.getUseIconTabBar(),t=e&&sap.ui.getCore().byId(this.getSelectedSection()),i=t?[t]:this._getVisibleSections(),o={},n;i.forEach(function(e){e.getSubSections().forEach(function(e){n=e.getVisible()&&e._getInternalVisible();if(n){o[e.getId()]=e}})});if(y(Object.keys(this._oVisibleSubSections),Object.keys(o)).length){this._oVisibleSubSections=o;this.fireEvent("subSectionVisibilityChange",{visibleSubSections:o})}};L.prototype.setUseIconTabBar=function(e){var t=this.getUseIconTabBar();if(e!=t){this._applyUxRules()}this.setProperty("useIconTabBar",e);return this};L.prototype.onsapskipforward=function(e){if(this._skipToNextFastGroup){this._handleGroupNavigation(e,true)}};L.prototype.onsapskipback=function(e){if(this._skipToNextFastGroup){this._handleGroupNavigation(e,false)}};L.prototype._handleGroupNavigation=function(e,t){var i={target:t?this._$skipFastGroupAnchor[0]:this._$sectionsContainer[0]};e.type="keydown";I.handleF6GroupNavigation(e,i)};L.prototype._setCurrentTabSection=function(e,t){if(!e){return}var i;if(e instanceof sap.uxap.ObjectPageSubSection){i=e;e=e.getParent()}else{i=this._getFirstVisibleSubSection(e)}if(this._oCurrentTabSection!==e){this._renderSection(e);this._oCurrentTabSection=e}this._oCurrentTabSubSection=i};L.prototype._renderSection=function(e){var t=this.$().find(".sapUxAPObjectPageContainer"),i;if(e&&t.length){i=this.oCore.createRenderManager();this.getSections().forEach(function(t){if(t.getId()===e.getId()){i.renderControl(e)}else{i.cleanupControlWithoutRendering(t)}});i.flush(t[0]);i.destroy()}};L.prototype.setShowAnchorBarPopover=function(e,t){var i=this.getProperty("showAnchorBarPopover"),e=this.validateProperty("showAnchorBarPopover",e),o=this.getSelectedSection();if(e===i){return this}this._oABHelper._getAnchorBar().setShowPopover(e);this._oABHelper._buildAnchorBar();this._setSelectedSectionId(o);return this.setProperty("showAnchorBarPopover",e,true)};L.prototype._getInternalAnchorBarVisible=function(){return this._bInternalAnchorBarVisible};L.prototype._setInternalAnchorBarVisible=function(e,t){if(e!=this._bInternalAnchorBarVisible){this._bInternalAnchorBarVisible=e;if(t===true){this.invalidate()}}};L.prototype.setUpperCaseAnchorBar=function(e){this._oABHelper._getAnchorBar().setProperty("upperCase",e);return this.setProperty("upperCaseAnchorBar",e,true)};L.prototype._requestAdjustLayout=function(e){if(!this._oLayoutTask){this._oLayoutTask=new g(this._updateScreenHeightSectionBasesAndSpacer,L.DOM_CALC_DELAY,this)}if(!e){b.debug("ObjectPageLayout :: _requestAdjustLayout","delayed by "+L.DOM_CALC_DELAY+" ms because of dom modifications")}return this._oLayoutTask.reSchedule(e,{}).catch(function(e){})};L.prototype._requestAdjustLayoutAndUxRules=function(e){this._setSectionInfoIsDirty(true);if(!this._oUxRulesTask){this._oUxRulesTask=new g(this._adjustLayoutAndUxRules,L.DOM_CALC_DELAY,this)}if(!e){b.debug("ObjectPageLayout :: _requestAdjustLayoutAndUxRules","delayed by "+L.DOM_CALC_DELAY+" ms because of dom modifications")}return this._oUxRulesTask.reSchedule(e,{}).catch(function(e){})};L.prototype._adjustLayoutAndUxRules=function(){var e,t;b.debug("ObjectPageLayout :: _requestAdjustLayout","refreshing ux rules");this._applyUxRules(true);this._adjustSelectedSectionByUXRules();e=this.getSelectedSection();t=this.oCore.byId(e);if(t){this._setSelectedSectionId(e);if(this.getUseIconTabBar()){this._setCurrentTabSection(t);this._bAllContentFitsContainer=this._hasSingleVisibleFullscreenSubSection(t)}this._requestAdjustLayout(true).then(function(t){if(t){this._oLazyLoading.doLazyLoading()}this._adjustSelectedSectionByUXRules();e=this.getSelectedSection();if(!this._isClosestScrolledSection(e)||this._oScroller._$Container.is(":animated")){this.scrollToSection(e,null,0,false,true)}}.bind(this))}};L.prototype._isClosestScrolledSection=function(e){var t=this._$opWrapper.length>0?this._$opWrapper.scrollTop():0,i=this.iScreenHeight,o=this._getClosestScrolledSectionId(t,i);return o&&e===o};L.prototype._setSelectedSectionId=function(e){var t=this.getAggregation("_anchorBar"),i=e&&this._oSectionInfo[e];if(!i){return}if(t&&i.buttonId){t.setSelectedButton(i.buttonId);this.setAssociation("selectedSection",e,true)}};L.prototype.isFirstRendering=function(){return this._bFirstRendering};L.prototype._cleanMemory=function(){var e=this.getAggregation("_anchorBar");if(e){e._resetControl()}this._oSectionInfo={};this._aSectionBases=[]};L.prototype._registerSectionBaseInfo=function(e){this._oSectionInfo[e.getId()]={$dom:[],positionTop:0,positionTopMobile:0,buttonId:"",isSection:e instanceof l,sectionReference:e};this._aSectionBases.push(e)};L.prototype._triggerVisibleSubSectionsEvents=function(){this._bDelayDOMBasedCalculations=false;if(this.getEnableLazyLoading()&&this._oLazyLoading){this._oLazyLoading._triggerVisibleSubSectionsEvents()}};L.prototype.scrollToSection=function(e,t,i,n,r){var s=this.oCore.byId(e),a,c,d=sap.ui.getCore().getConfiguration().getAnimationMode()!==o.AnimationMode.none,u;if(!this.getDomRef()){b.warning("scrollToSection can only be used after the ObjectPage is rendered",this);return}if(!s){b.warning("scrollToSection aborted: unknown section",e,this);return}if(!this._oSectionInfo[e]||!s._getInternalVisible()){b.warning("scrollToSection aborted: section is hidden by UX rules",e,this);return}if(this.bIsDestroyed){b.debug("ObjectPageLayout :: scrollToSection","scrolling canceled as page is being destroyed");return}if(this.getUseIconTabBar()){var g=l._getClosestSection(s);var p=this._bAllContentFitsContainer,_;this._bAllContentFitsContainer=this._hasSingleVisibleFullscreenSubSection(g);this._toggleScrolling(!this._bAllContentFitsContainer);_=this._bAllContentFitsContainer!==p;if(_&&!this._bHeaderExpanded){this._snapHeader(!this._bAllContentFitsContainer);this._bSupressModifyOnScrollOnce=true}if(this._oCurrentTabSection){this._oCurrentTabSection._allowPropagationToLoadedViews(false)}g._allowPropagationToLoadedViews(true);this._setCurrentTabSection(s);this.getAggregation("_anchorBar").setSelectedButton(this._oSectionInfo[g.getId()].buttonId);this.setAssociation("selectedSection",g.getId(),true);this._checkSubSectionVisibilityChange()}c=s instanceof h?s:this._getFirstVisibleSubSection(s);if(n){this.fireNavigate({section:l._getClosestSection(s),subSection:c})}if(this._bHeaderInTitleArea&&!this._shouldPreserveHeaderInTitleArea()&&!this._bAllContentFitsContainer){this._moveHeaderToContentArea();this._toggleHeaderTitle(false);this._bHeaderExpanded=false;this._updateToggleHeaderVisualIndicators()}i=i||0;s._expandSection();this._requestAdjustLayout(true);t=this._computeScrollDuration(t,s);var f=this._computeScrollPosition(s);if(this._sCurrentScrollId!=e||r){this._sCurrentScrollId=e;if(this._iCurrentScrollTimeout){clearTimeout(this._iCurrentScrollTimeout);if(this._$contentContainer){this._$contentContainer.parent().stop(true,false)}}if(this._bDomElementsCached){this._iCurrentScrollTimeout=setTimeout(function(){this._sCurrentScrollId=undefined;this._iCurrentScrollTimeout=undefined}.bind(this),t)}this._preloadSectionsOnBeforeScroll(s);this.getHeaderTitle()&&this._shiftHeaderTitle();f+=i;if(!this._bStickyAnchorBar&&this._shouldSnapHeaderOnScroll(f)){a=this._getSnapPosition();this._scrollTo(a,0);if(a===0){this._toggleHeader(true)}}u=d&&t&&this.getEnableLazyLoading();this._scrollTo(f,t,u)}};L.prototype._hasSingleVisibleFullscreenSubSection=function(e){var t=e.getSubSections().filter(function(e){return e.getVisible()&&e._getInternalVisible()&&e.getBlocks().length>0});return t.length===1&&t[0].hasStyleClass(h.FIT_CONTAINER_CLASS)};L.prototype._computeScrollDuration=function(e,t){var i=parseInt(e);i=i>=0?i:this._iScrollToSectionDuration;if(this.getUseIconTabBar()&&(t instanceof l||this._isFirstVisibleSectionBase(t))&&this._bStickyAnchorBar){i=0}return i};L.prototype._computeScrollPosition=function(e){var t=e&&e instanceof l,i=e.getId(),o=this._bMobileScenario||t?this._oSectionInfo[i].positionTopMobile:this._oSectionInfo[i].positionTop,n=!this._bStickyAnchorBar;if(n&&this._isFirstVisibleSectionBase(e)){o=0}return o};L.prototype._preloadSectionsOnBeforeScroll=function(e){var t=e.getId(),i;if(!this.getEnableLazyLoading()&&this.getUseIconTabBar()){i=e instanceof l?e:e.getParent();this._connectModelsForSections([i])}if(this.getEnableLazyLoading()){var o=this.getUseIconTabBar()?this._grepCurrentTabSectionBases():this._aSectionBases;i=this._oLazyLoading.getSubsectionsToPreload(o,t);if(r.system.desktop){setTimeout(function(){this._connectModelsForSections(i)}.bind(this),50)}else{this._connectModelsForSections(i)}i.forEach(function(e){this.fireEvent("subSectionEnteredViewPort",{subSection:e})},this)}};L.prototype.getScrollingSectionId=function(){return this._sScrolledSectionId};L.prototype.setDirectScrollingToSection=function(e){this.sDirectSectionId=e};L.prototype.getDirectScrollingToSection=function(){return this.sDirectSectionId};L.prototype.clearDirectScrollingToSection=function(){this.sDirectSectionId=null};L.prototype._scrollTo=function(e,t,i){if(this._oScroller&&this._bDomReady&&!this._bSuppressScroll){b.debug("ObjectPageLayout :: scrolling to "+e);if(t===0&&this._shouldSnapHeaderOnScroll(e)){this._toggleHeader(true)}if(i&&this._oLazyLoading){this._oLazyLoading.suppress();this._oScroller.scrollTo(0,e,t,this._resumeLazyLoading.bind(this))}else{this._oScroller.scrollTo(0,e,t)}}return this};L.prototype._resumeLazyLoading=function(){if(this._oLazyLoading){this._oLazyLoading.resume();this._oLazyLoading.lazyLoadDuringScroll(true)}};L.prototype._scrollBelowCollapseVisualIndicator=function(){var e=this._getHeaderContent(),t,i,o,n;if(!O(e)||!O(this._$opWrapper)){return}t=e._getCollapseButton().getDomRef();i=t.getBoundingClientRect().height;o=this._$opWrapper[0].getBoundingClientRect().height;n=t.offsetTop+i-o;this._scrollTo(n)};L.prototype._updateMedia=function(e,t){if(!e){return}var i=function(e){Object.keys(t).forEach(function(i){var o=t[i],n=e===o;this.toggleStyleClass(o,n)},this)}.bind(this),o=L.BREAK_POINTS;if(e<=o.PHONE){i(t.PHONE)}else if(e<=o.TABLET){i(t.TABLET)}else{i(t.DESKTOP)}};L.prototype._updateScreenHeightSectionBasesAndSpacer=function(){var e,t,i,o,n,r,s=!this._bHeaderExpanded,a,c,d,u=this.getDomRef(),g=this.getUseIconTabBar();if(!u||!this._bDomReady){return false}b.debug("ObjectPageLayout :: _updateScreenHeightSectionBasesAndSpacer","re-evaluating dom positions");this.iScreenHeight=this._getDOMRefHeight(u);if(this.iScreenHeight===0){return}this.iFooterHeight=this._getFooterHeight();var p=-1;this._aSectionBases.forEach(function(e){var i=this._oSectionInfo[e.getId()],r=e.$(),s,u=false;if(!i||!r.length){return}if(!i.isSection){p++}i.$dom=r;var _=r.position().top;i.positionTop=Math.ceil(_);if(i.isSection){s=e.$("header")}else{s=e.$("headerTitle")}u=s.length===0;if(!u){i.positionTopMobile=Math.ceil(f.Utilities.getChildPosition(s,this._$contentContainer).top)+s.outerHeight()}else{i.positionTopMobile=i.positionTop}if(!this._bStickyAnchorBar&&!this._bHeaderInTitleArea){i.positionTopMobile-=this.iAnchorBarHeight;i.positionTop-=this.iAnchorBarHeight}i.sectionReference.toggleStyleClass("sapUxAPObjectPageSubSectionPromoted",u);if(this._bMobileScenario){var S=this.oCore.byId(e.getId()).getParent();if(S instanceof l&&S._getIsHidden()){return}if(n){this._oSectionInfo[n].positionBottom=i.positionTop}n=e.getId();t=e}else{if(i.isSection){if(n){this._oSectionInfo[n].positionBottom=i.positionTop;if(o){this._oSectionInfo[o].positionBottom=i.positionTop}}n=e.getId();o=null}else{if(o){this._oSectionInfo[o].positionBottom=i.positionTop}o=e.getId();t=e}}if(!i.isSection){c=g||e.getParent()===this._oFirstVisibleSection;a=c&&p===0;d=e.hasStyleClass(h.FIT_CONTAINER_CLASS);e._setHeight(this._computeSubSectionHeight(a,d,i.positionTop))}},this);if(t){e=this._computeLastVisibleHeight(t);if(this._bMobileScenario&&n){this._oSectionInfo[n].positionBottom=this._oSectionInfo[n].positionTop+e}else{if(o){this._oSectionInfo[o].positionBottom=this._oSectionInfo[o].positionTop+e}if(n&&o){this._oSectionInfo[n].positionBottom=this._oSectionInfo[o].positionTop+e}}r=this._bStickyAnchorBar||p>0||this._checkContentBottomRequiresSnap(t);if(this._bAllContentFitsContainer){r=false}if(r&&!this._shouldPreserveHeaderInTitleArea()){s=true}i=this._computeSpacerHeight(t,e,r,s);this._$spacer.height(i+"px");b.debug("ObjectPageLayout :: bottom spacer is now "+i+"px");A(this._oScrollContainerLastState,{iScrollableContentLength:Math.ceil(this._getScrollableContentLength()),iSpacerHeight:i})}this._updateCustomScrollerHeight(s);this._setSectionInfoIsDirty(false);return true};L.prototype._computeSubSectionHeight=function(e,t,i){var o,n;if(!t){return""}var r=this._bAllContentFitsContainer?this._bHeaderExpanded:e;o=this._getSectionsContainerHeight(!r);if(this._bAllContentFitsContainer){n=i-this.iHeaderContentHeight+this.iFooterHeight;o-=n}return o+"px"};L.prototype._updateCustomScrollerHeight=function(e){if(r.system.desktop&&this.getAggregation("_customScrollBar")){var t=this._computeScrollableContentSize(e);t+=this._getStickyAreaHeight(e);this._getCustomScrollBar().setContentSize(t+"px");var i=t>Math.ceil(this.iScreenHeight),o=i!==this._getCustomScrollBar().getVisible();if(o){this._getCustomScrollBar().setVisible(i);this.getHeaderTitle()&&this._shiftHeaderTitle()}}};L.prototype._computeScrollableContentSize=function(e){var t=0;if(this._$contentContainer&&this._$contentContainer.length){t=this._$contentContainer[0].scrollHeight}if(!this._bStickyAnchorBar&&e){t-=this.iAnchorBarHeight}if(this._bStickyAnchorBar&&!e){t+=this.iAnchorBarHeight}return t};L.prototype._computeLastVisibleHeight=function(e){var t=this._bStickyAnchorBar||this._bHeaderInTitleArea;var i=this._getSectionPositionTop(e,t);return this._$spacer.position().top-i};L.prototype._getStickyAreaHeight=function(e){if(e){return this.iHeaderTitleHeightStickied+this.iAnchorBarHeight}return this.iHeaderTitleHeight};L.prototype._getScrollableViewportHeight=function(e){return this.getDomRef().getBoundingClientRect().height-this._getStickyAreaHeight(e)};L.prototype._getSectionsContainerHeight=function(e){var t=this._getScrollableViewportHeight(e);if(!e){t-=this.iHeaderContentHeight+this.iAnchorBarHeight}return t};L.prototype._getSectionPositionTop=function(e,t){var i=Math.ceil(f.Utilities.getChildPosition(e.$(),this._$contentContainer).top);if(!this._bStickyAnchorBar&&!this._bHeaderInTitleArea&&t){i-=this.iAnchorBarHeight}return i};L.prototype._getSectionPositionBottom=function(e,t){var i=this._oSectionInfo[e.getId()].positionBottom;if(!t){i+=this.iAnchorBarHeight}return i};L.prototype._determineSectionBaseInternalTitleLevel=function(e){var t=this.getSectionTitleLevel(),i=e instanceof l;if(t===B.Auto){return i?B.H3:B.H4}return i?t:L._getNextTitleLevelEntry(t)};L.prototype._shouldApplySectionTitleLevel=function(e){return e.getTitleLevel()===B.Auto};L.prototype._checkContentBottomRequiresSnap=function(e){var t=false;return this._getSectionPositionBottom(e,t)>this._getScrollableViewportHeight(t)+this._getSnapPosition()};L.prototype._computeSpacerHeight=function(e,t,i,o){var n,r;r=this._getScrollableViewportHeight(o);if(i){r=Math.ceil(r);t=Math.floor(t)}else{t=this._$spacer.position().top}if(t<r){n=r-t;if(this._bMobileScenario){n+=this._oSectionInfo[e.getId()].positionTopMobile-this._oSectionInfo[e.getId()].positionTop}}else{n=0}if(this.iFooterHeight>n){n+=this.iFooterHeight}return n};L.prototype._isFirstVisibleSectionBase=function(e){var t,i,o,n=this.getSelectedSection(),r=this.getUseIconTabBar();if(!e||!e.getParent()){return}t=e.getId();if(r&&t===n){return true}if(r&&e.getParent().getId()===n){i=sap.ui.getCore().byId(n);o=this._getFirstVisibleSubSection(i);return o&&o.getId()===t}if(this._oFirstVisibleSection&&this._oFirstVisibleSubSection){return t===this._oFirstVisibleSection.getId()||t===this._oFirstVisibleSubSection.getId()}return false};L.prototype._getFirstVisibleSubSection=function(e){if(!e){return}var t;this._aSectionBases.every(function(i){if(i.getParent()&&i.getParent().getId()===e.getId()){t=i;return false}return true});return t};L.prototype._initAnchorBarScroll=function(){var e=this.oCore.byId(this.getSelectedSection()),t;this._requestAdjustLayout(true);t=e?this._computeScrollPosition(e):0;this._sScrolledSectionId="";this._sCurrentScrollId="";this._onScroll({target:{scrollTop:t}},true)};L.prototype._setAsCurrentSection=function(e){var t,i,o;if(this._sScrolledSectionId===e){return}b.debug("ObjectPageLayout :: current section is "+e);this._sScrolledSectionId=e;t=this.getAggregation("_anchorBar");if(t&&this._getInternalAnchorBarVisible()){i=this.oCore.byId(e);o=i&&i instanceof h&&(i.getTitle().trim()===""||!i._getInternalTitleVisible()||i.getParent()._getIsHidden());if(o){e=i.getParent().getId();b.debug("ObjectPageLayout :: current section is a subSection with an empty or hidden title, selecting parent "+e)}if(i&&this._oSectionInfo[e]){t.setSelectedButton(this._oSectionInfo[e].buttonId);this.setAssociation("selectedSection",l._getClosestSection(e).getId(),true);this._setSectionsFocusValues(e)}}};L.prototype._registerOnContentResize=function(){var e=this._$contentContainer.length&&this._$contentContainer[0];if(!e){return}if(this._iContentResizeId){i.deregister(this._iContentResizeId)}this._iContentResizeId=i.register(e,this._onUpdateContentSize.bind(this))};L.prototype._onUpdateContentSize=function(e){var t;if(this._preserveHeaderStateOnScroll()){this._overridePreserveHeaderStateOnScroll()}this._adjustHeaderHeights();this._requestAdjustLayout().then(function(){t=this._$opWrapper.scrollTop();this._updateSelectionOnScroll(t)}.bind(this))};L.prototype._onUpdateScreenSize=function(e){var t=this.getHeaderTitle(),i=this._getHeaderContent(),o=e.size.width,n=e.size.height,r=e.oldSize.height,s=n!==r,a,l=i&&i.supportsAlwaysExpanded()&&this.getAlwaysShowContentHeader();if(e.size.height===0||e.size.width===0){b.info("ObjectPageLayout :: not triggering calculations if height or width is 0");return}if(!this._bDomReady){b.info("ObjectPageLayout :: cannot _onUpdateScreenSize before dom is ready");return}this._oLazyLoading.setLazyLoadingParameters();setTimeout(function(){this._bMobileScenario=f.Utilities.isPhoneScenario(this._getCurrentMediaContainerRange());this._bTabletScenario=f.Utilities.isTabletScenario(this._getCurrentMediaContainerRange());if(l&&this._bHeaderInTitleArea!=this._checkAlwaysShowContentHeader()){this.invalidate()}if(this._bHeaderInTitleArea&&this._headerBiggerThanAllowedToBeExpandedInTitleArea()){this._expandHeader(false);this._scrollTo(0,0)}if(t&&t.isDynamic()){t._onResize(o);this._updateMedia(o,L.DYNAMIC_HEADERS_MEDIA)}this._updateMedia(o,L.MEDIA);this._adjustHeaderHeights();this._requestAdjustLayout(true);if(this.getFooter()&&this.getShowFooter()){this._shiftFooter()}a=this.getSelectedSection();if(r===0&&s&&!this._isClosestScrolledSection(a)){this.scrollToSection(a,0)}this._scrollTo(this._$opWrapper.scrollTop(),0);if(r===0&&s&&this.getEnableLazyLoading()&&this._oLazyLoading&&!this._bDelayDOMBasedCalculations){this._oLazyLoading.doLazyLoading()}}.bind(this),this._getDOMCalculationDelay())};L.prototype._onUpdateHeaderTitleSize=function(e){if(e.size.height===0||e.size.width===0){b.info("ObjectPageLayout :: not triggering calculations if height or width is 0");return}if(!this._bDomReady){b.info("ObjectPageLayout :: cannot _onUpdateTitleSize before dom is ready");return}this._adjustHeaderHeights();this._requestAdjustLayout()};L.prototype._shouldSnapHeaderOnScroll=function(e){return e>0&&e>=this._getSnapPosition()&&!this._shouldPreserveHeaderInTitleArea()};L.prototype._getScrollableContentLength=function(){return this._$contentContainer.length?this._getDOMRefHeight(this._$contentContainer[0]):0};L.prototype._isContentScrolledToBottom=function(){return this._oScrollContainerLastState.iScrollableContentLength<=this._oScrollContainerLastState.iScrollTop+this._oScrollContainerLastState.iScrollableViewportHeight};L.prototype._isContentLengthDecreased=function(e){if(e){return e.iScrollableContentLength>this._oScrollContainerLastState.iScrollableContentLength&&e.iSpacerHeight===this._oScrollContainerLastState.iSpacerHeight}};L.prototype._canReachScrollTop=function(e,t){var i;t=t||0;i=this._oScrollContainerLastState.iScrollableContentLength+t-this._oScrollContainerLastState.iScrollableViewportHeight;return i>=e};L.prototype._deregisterCustomEvents=function(){if(this._$opWrapper.length){this._$opWrapper.off(".OPL")}};L.prototype._deregisterScreenSizeListener=function(){if(this._iResizeId){i.deregister(this._iResizeId);this._iResizeId=null}};L.prototype._onScroll=function(t,i){var o=Math.max(Math.ceil(t.target.scrollTop),0),n=this._$opWrapper.length&&this._$opWrapper[0],r=this._$spacer.length&&this._$spacer[0],s=r.offsetHeight,a,l=this.getHeaderTitle(),h=this._shouldSnapHeaderOnScroll(o),c=this._shouldPreserveHeaderInTitleArea(),d=false,u=this._oScrollContainerLastState;this._oScrollContainerLastState={iScrollTop:o,iScrollableContentLength:Math.ceil(this._getScrollableContentLength()),iScrollableViewportHeight:n.offsetHeight,iSpacerHeight:s};if(this._bSupressModifyOnScrollOnce){this._bSupressModifyOnScrollOnce=false;return}if(!n||!r){return}a=this.iScreenHeight;if(a===0){return}if(this._getSectionInfoIsDirty()){return}if(u&&this._isContentScrolledToBottom()&&this._isContentLengthDecreased(u)){var g=u.iScrollableContentLength-this._oScrollContainerLastState.iScrollableContentLength;if(!this._canReachScrollTop(u.iScrollTop)&&this._canReachScrollTop(u.iScrollTop,g)){var p=s+g;this._$spacer.height(p+"px");this._scrollTo(u.iScrollTop);return}}if(h&&!c){a-=this.iAnchorBarHeight+this.iHeaderTitleHeightStickied}if(this._bHeaderInTitleArea&&!c){this._moveHeaderToContentArea();this._toggleHeaderTitle(false);this._bHeaderExpanded=false;this._updateToggleHeaderVisualIndicators();this._requestAdjustLayout()}if(!c&&(l&&this.getShowHeaderContent()||this.getShowAnchorBar())){this._toggleHeader(h,!!(t&&t.type==="scroll"))}if(!c){this._adjustHeaderTitleBackgroundPosition(o)}b.debug("ObjectPageLayout :: lazy loading : Scrolling at "+o,"----------------------------------------");this._updateSelectionOnScroll(o);if(this.getEnableLazyLoading()){this._oLazyLoading.lazyLoadDuringScroll(i,o,t.timeStamp,a)}if(l&&l.supportsTitleInHeaderContent()&&this.getShowHeaderContent()&&this.getShowTitleInHeaderContent()&&l.getShowTitleSelector()){if(o===0){e(document.getElementById(this.getId()+"-scroll")).css("z-index","1000");d=false}else if(!d){d=true;e(document.getElementById(this.getId()+"-scroll")).css("z-index","0")}}};L.prototype._updateSelectionOnScroll=function(e){var t=this.iScreenHeight,i,o;if(t===0){return}i=this._getClosestScrolledSectionId(e,t);o=this._getClosestScrolledSectionId(e,t,true);if(i){var n=this.getDirectScrollingToSection();if(i!==this._sScrolledSectionId){b.debug("ObjectPageLayout :: closest id "+i,"----------------------------------------");var n=this.getDirectScrollingToSection();if(n&&n!==i){return}this.clearDirectScrollingToSection();this._setAsCurrentSection(i)}else if(i===this.getDirectScrollingToSection()){this.clearDirectScrollingToSection()}if(o!==this._sScrolledSubSectionId){var r=l._getClosestSection(i),s=this.oCore.byId(o);this._sScrolledSubSectionId=o;this.fireEvent("_sectionChange",{section:r,subSection:s});this.fireEvent("sectionChange",{section:r,subSection:s})}}};L.prototype._getSnapPosition=function(){var e=this.iHeaderContentHeight,t=this.iHeaderTitleHeightStickied-this.iHeaderTitleHeight;if(t<L.MAX_SNAP_POSITION_OFFSET){e-=t}return e};L.prototype._getClosestScrolledSectionId=function(t,i,o){o=!!o;t=Math.ceil(t);var n=t+i,r,s=o||this._bMobileScenario;e.each(this._oSectionInfo,function(e,i){var a,h,c,d,u,g=this.getSelectedSection();a=this.oCore.byId(e);if(!a){return}h=a.getParent();c=h instanceof l&&h._getIsHidden();if(this.getUseIconTabBar()&&g){u=this.oCore.byId(g);if(!u){return}if(i.isSection&&i.sectionReference!=u){return true}if(!i.isSection&&u.indexOfSubSection(i.sectionReference)<0){return true}}if(i.isSection||s&&!c){if(!r&&i.sectionReference._getInternalVisible()===true){d=this._getFirstVisibleSubSection(i.sectionReference);if(i.isSection&&o&&d){r=d.getId()}else{r=e}}if(i.isSection&&o){return true}if(i.positionTop<=n&&t<=i.positionBottom){if(i.positionTop<=t&&i.positionBottom>t){r=e;return false}}}}.bind(this));return r};L.prototype._toggleHeader=function(e,t){var i;if(e===this._bStickyAnchorBar){return}i=this.getHeaderTitle();if(!this._shouldPreserveHeaderInTitleArea()&&!this._bHeaderInTitleArea){this._toggleHeaderTitle(!e,t)}if(!this._bStickyAnchorBar&&e){this._restoreFocusAfter(this._moveAnchorBarToTitleArea);i&&i.snap();this._bHeaderExpanded=false;this._adjustHeaderHeights();this._updateToggleHeaderVisualIndicators()}else if(this._bStickyAnchorBar&&!e){this._restoreFocusAfter(this._moveAnchorBarToContentArea);i&&i.unSnap();this._bHeaderExpanded=true;this._adjustHeaderHeights();this._updateToggleHeaderVisualIndicators()}};L.prototype._restoreFocusAfter=function(e){var t=this.oCore.byId(this.oCore.getCurrentFocusedControlId());e.call(this);if(r.system.phone!==true){if(!this.oCore.byId(this.oCore.getCurrentFocusedControlId())){t&&t.$().trigger("focus")}}return this};L.prototype._moveAnchorBarToTitleArea=function(){this._$anchorBar.children().appendTo(this._$stickyAnchorBar);this._toggleHeaderStyleRules(true);if(this.iHeaderTitleHeight!=this.iHeaderTitleHeightStickied){this._adjustHeaderBackgroundSize()}return this};L.prototype._moveAnchorBarToContentArea=function(){if(!this._shouldPreserveHeaderInTitleArea()){var e=this._$opWrapper.scrollTop();this._$anchorBar.css("height","auto").append(this._$stickyAnchorBar.children());this._$opWrapper.scrollTop(e);this._toggleHeaderStyleRules(false)}return this};L.prototype._toggleHeaderStyleRules=function(e){e=!!e;var t=e?"hidden":"inherit";this._bStickyAnchorBar=e;this._$headerContent.css("overflow",t);this._$headerContent.toggleClass("sapContrastPlus",!e);this._$headerContent.toggleClass("sapUxAPObjectPageHeaderDetailsHidden",e);this._$anchorBar.css("visibility",t);if(O(this._$stickyAnchorBar)){this._$stickyAnchorBar.attr("aria-hidden",!e)}this.fireToggleAnchorBar({fixed:e});if(!e&&!this.iAnchorBarHeight){this._requestAdjustLayout()}};L.prototype.getScrollDelegate=function(){return this._oScroller};L.prototype.setHeaderTitle=function(e,i){if(e&&typeof e.addEventDelegate==="function"){e.addEventDelegate({onAfterRendering:this._adjustHeaderHeights.bind(this)})}this.setAggregation("headerTitle",e,i);this._oObserver&&this._oObserver.disconnect();this._oObserver=new t(this._onModifyHeaderTitle.bind(this));this._oObserver.observe(e,{aggregations:["headerTitle"],properties:["backgroundDesign"]});if(e){this._createHeaderContent()}return this};L.prototype._onModifyHeaderTitle=function(e){var t=this.getAggregation("_headerContent");t&&e.current&&t.setBackgroundDesign(e.current)};L.prototype.invalidate=function(e){if(this.getUseIconTabBar()&&e&&e instanceof l&&!e.isActive()&&this._oSectionInfo[e.getId()]){return}if(this._iAfterRenderingDomReadyTimeout){clearTimeout(this._iAfterRenderingDomReadyTimeout)}n.prototype.invalidate.apply(this,arguments)};L.prototype._createHeaderContent=function(){var e=this.getHeaderTitle(),t=e&&e.supportsBackgroundDesign()&&e.getBackgroundDesign(),i=this.getAggregation("_headerContent"),o,n;var r=e?e.getCompatibleHeaderContentClass():c;if(!(i instanceof r)){o=this.getAggregation("_headerContent");if(o){o.destroy()}n=r.createInstance(this.getAggregation("headerContent"),this.getShowHeaderContent(),this._getHeaderDesign(),this.getHeaderContentPinnable(),this.getId()+"-OPHeaderContent");t&&n.setBackgroundDesign(t);this.setAggregation("_headerContent",n,true)}};L.prototype._adjustHeaderBackgroundSize=function(){var e=this.getHeaderTitle();if(e&&e.getHeaderDesign()=="Dark"){if(!this._shouldPreserveHeaderInTitleArea()){this.iTotalHeaderSize=this.iHeaderTitleHeight+this.iHeaderContentHeight;this._$headerContent.css("background-size","100% "+this.iTotalHeaderSize+"px")}else{this.iTotalHeaderSize=this.iHeaderTitleHeight-this._$stickyAnchorBar.height();this._$stickyHeaderContent.css("background-size","100% "+this.iTotalHeaderSize+"px")}e.$().css("background-size","100% "+this.iTotalHeaderSize+"px");this._adjustHeaderTitleBackgroundPosition(0)}};L.prototype._adjustHeaderTitleBackgroundPosition=function(e){var t=this.getHeaderTitle();if(t&&t.getHeaderDesign()=="Dark"){if(this._bStickyAnchorBar){t.$().css("background-position","0px "+(this.iTotalHeaderSize-this.iHeaderTitleHeightStickied)*-1+"px")}else{if(this._shouldPreserveHeaderInTitleArea()){t.$().css("background-position","0px 0px")}else{t.$().css("background-position","0px "+(this.iHeaderTitleHeight+this.iHeaderContentHeight-this.iTotalHeaderSize-e)+"px")}}}};L.prototype._adjustHeaderHeights=function(){var e=this.getHeaderTitle(),t=true;if(e&&!e.supportsAdaptLayoutForDomElement()){t=false}if(this._$titleArea.length>0){this.iHeaderContentHeight=this._$headerContent.length?Math.ceil(this._getDOMRefHeight(this._$headerContent[0])):0;this.iStickyHeaderContentHeight=this._$stickyHeaderContent.height();this.iAnchorBarHeight=this._bStickyAnchorBar?this._$stickyAnchorBar.outerHeight():this._$anchorBar.outerHeight();if(!this._bHeaderExpanded){this.iHeaderTitleHeightStickied=this._$titleArea.height()-this.iAnchorBarHeight;this.iHeaderTitleHeight=this._obtainExpandedTitleHeight(t)}else{this.iHeaderTitleHeight=this._$titleArea.is(":visible")?this._$titleArea.height():0;this.iHeaderTitleHeightStickied=this._obtainSnappedTitleHeight(t)}this._adjustHeaderBackgroundSize();b.info("ObjectPageLayout :: adjustHeaderHeight","headerTitleHeight: "+this.iHeaderTitleHeight+" - headerTitleStickiedHeight: "+this.iHeaderTitleHeightStickied+" - headerContentHeight: "+this.iHeaderContentHeight)}else{b.debug("ObjectPageLayout :: adjustHeaderHeight","skipped as the objectPageLayout is being rendered")}};L.prototype._appendTitleCloneToDOM=function(e){var t=this.getHeaderTitle().$(),i=t.clone();i.css({left:"-10000px",top:"-10000px",width:t.width()+"px",position:"absolute"});i.toggleClass("sapUxAPObjectPageHeaderStickied",e);i.appendTo(this._$titleArea.parent());if(e){this.getHeaderTitle()&&this.getHeaderTitle()._adaptObjectPageHeaderIndentifierLine(i)}return i};L.prototype._obtainSnappedTitleHeight=function(e){var t=this.getHeaderTitle(),i,o;if(!t){return 0}if(e){i=this._appendTitleCloneToDOM(true);o=i.height();i.remove()}else if(t.snap){o=this._obtainTitleHeightViaStateChange(true)}return o};L.prototype._obtainExpandedTitleHeight=function(e){var t=this.getHeaderTitle(),i,o;if(!t){return 0}if(e){i=this._appendTitleCloneToDOM(false);o=i.is(":visible")?i.height()-this.iAnchorBarHeight:0;i.remove()}else if(t.unSnap){o=this._obtainTitleHeightViaStateChange(false)}return o};L.prototype._obtainTitleHeightViaStateChange=function(e){var t=this.getHeaderTitle(),i,o=this._$sectionsContainer.height(),n,r=e?t.snap:t.unSnap,s=e?t.unSnap:t.snap;r.call(t,false);i=t.$().outerHeight();s.call(t,false);n=this._$sectionsContainer.height();this._adjustSpacerHeightUponUnsnapping(o,n);return i};L.prototype._adjustSpacerHeightUponUnsnapping=function(e,t){var i;if(e!=t){i=this._$spacer.height()-(t-e);this._$spacer.height(i)}};L.prototype._getHeaderDesign=function(){var e=this.getHeaderTitle(),t=f.ObjectPageHeaderDesign.Light;if(e!=null){t=e.getHeaderDesign()}return t};L.prototype._getVisibleSections=function(){return this.getSections().filter(function(e){return e.getVisible()&&e._getInternalVisible()})};L.prototype._setSectionsFocusValues=function(e){var t=this._getVisibleSections()||[],i,o="0",n="-1",r="tabindex",s,a=t[0];t.forEach(function(t){i=t.$();if(e===t.sId){i.attr(r,o);s=t;t._setSubSectionsFocusValues()}else{i.attr(r,n);t._disableSubSectionsFocus()}});if(!s&&t.length>0){a.$().attr(r,o);a._setSubSectionsFocusValues();s=a}return s};L.prototype.setShowHeaderContent=function(e){var t=this.getShowHeaderContent(),i;if(t!==e){if(t&&this._bHeaderInTitleArea&&!this._shouldPreserveHeaderInTitleArea()){this._moveHeaderToContentArea();this._toggleHeaderTitle(false)}this.setProperty("showHeaderContent",e);i=this._getHeaderContent();if(i){i.setProperty("visible",e)}}return this};L.prototype._headerTitleChangeHandler=function(e){var t;if(!this.getShowTitleInHeaderContent()){return}if(e){this._getHeaderContent()._destroyObjectImage(true)}t=this.oCore.createRenderManager();this.getRenderer()._rerenderHeaderContentArea(t,this);this._getHeaderContent().invalidate();t.destroy()};L.prototype.getHeaderContent=function(){if(!this._getHeaderContent()){return this.getAggregation("headerContent",[])}return this._getHeaderContent().getAggregation("content",[])};L.prototype.insertHeaderContent=function(e,t,i){if(!this._getHeaderContent()){return this.insertAggregation("headerContent",e,t,i)}return this._getHeaderContent().insertAggregation("content",e,t,i)};L.prototype.addHeaderContent=function(e,t){if(!this._getHeaderContent()){return this.addAggregation("headerContent",e,t)}return this._getHeaderContent().addAggregation("content",e,t)};L.prototype.removeAllHeaderContent=function(e){if(!this._getHeaderContent()){return this.removeAllAggregation("headerContent",e)}return this._getHeaderContent().removeAllAggregation("content",e)};L.prototype.removeHeaderContent=function(e,t){if(!this._getHeaderContent()){return this.removeAggregation("headerContent",e,t)}return this._getHeaderContent().removeAggregation("content",e,t)};L.prototype.destroyHeaderContent=function(e){if(!this._getHeaderContent()){return this.destroyAggregation("headerContent",e)}return this._getHeaderContent().destroyAggregation("content",e)};L.prototype.indexOfHeaderContent=function(e){if(!this._getHeaderContent()){return this.indexOfAggregation("headerContent",e)}return this._getHeaderContent().indexOfAggregation("content",e)};L.prototype._getHeaderContent=function(){return this.getAggregation("_headerContent")};L.prototype._getHeaderContentDomRef=function(){var e=this._getHeaderContent();return e&&e.getDomRef()};L.prototype._connectModelsForSections=function(e){e=e||[];e.forEach(function(e){e.connectToModels()})};L.prototype._getHeightRelatedParameters=function(){return{iHeaderContentHeight:this.iHeaderContentHeight,iScreenHeight:this.iScreenHeight,iAnchorBarHeight:this.iAnchorBarHeight,iHeaderTitleHeightStickied:this.iHeaderTitleHeightStickied,iStickyHeaderContentHeight:this.iStickyHeaderContentHeight,iScrollTop:this._$opWrapper.scrollTop()}};L.prototype._hasVerticalScrollBar=function(){return this._getCustomScrollBar().getVisible()===true};L.prototype._shiftHeaderTitle=function(){var e=this._calculateShiftOffset(),t=e.sStyleAttribute,i=e.iMarginalsOffset;this.$().find(".sapUxAPObjectPageHeaderTitle").css("padding-"+t,i+"px")};L.prototype._isFirstSection=function(e){var t=this._getVisibleSections();if(e===t[0]){return true}return false};L.prototype._isValidStoredSubSectionInfo=function(){var e=this.getSelectedSection(),t=this.oCore.byId(e),i;if(!t||!this._oStoredScrolledSubSectionInfo){return false}i=this.oCore.byId(this._oStoredScrolledSubSectionInfo.sSubSectionId);return i&&this._sectionCanBeRenderedByUXRules(i)&&t.indexOfSubSection(i)>=0};L.prototype._restoreScrollPosition=function(){var e=this._isValidStoredSubSectionInfo(),t;if(e){t=this._computeScrollPosition(this.oCore.byId(this._oStoredScrolledSubSectionInfo.sSubSectionId))+this._oStoredScrolledSubSectionInfo.iOffset;this._scrollTo(t,0)}else{this.scrollToSection(this.getSelectedSection(),0)}};L.prototype._storeScrollLocation=function(){if(!this.getDomRef()||!this._bDomReady||!this._oScroller){return}var e=this._oScroller.getScrollTop(),t=this._getClosestScrolledSectionId(this._oScroller.getScrollTop(),this.iScreenHeight,true),i;if(t){i=e-this._computeScrollPosition(this.oCore.byId(t))}this._iStoredScrollTop=e;this._oStoredScrolledSubSectionInfo={sSubSectionId:t,iOffset:i};this._oCurrentTabSection=null};L.prototype.onkeyup=function(e){var t,i;if(e.which===C.TAB){t=this.oCore.getCurrentFocusedControlId();i=t&&this.oCore.byId(t);if(i&&this._isFirstSection(i)){this._scrollTo(0,0)}}};L.prototype.setShowFooter=function(e){var t=this.setProperty("showFooter",e,true);this._toggleFooter(e);return t};L.prototype._toggleFooter=function(e){var t,i=this.getFooter();if(!O(i)||!O(this._$footerWrapper)){return}t=this.oCore.getConfiguration().getAnimationMode()!==o.AnimationMode.none;if(t){this._toggleFooterAnimation(e,i)}else{this._$footerWrapper.toggleClass("sapUiHidden",!e)}this._requestAdjustLayout()};L.prototype._toggleFooterAnimation=function(e,t){this._$footerWrapper.on("webkitAnimationEnd animationend",this._onToggleFooterAnimationEnd.bind(this,t));this._bIsFooterAanimationGoing=true;if(e){this._$footerWrapper.removeClass("sapUiHidden")}t.toggleStyleClass(L.SHOW_FOOTER_CLASS_NAME,e);t.toggleStyleClass(L.HIDE_FOOTER_CLASS_NAME,!e)};L.prototype._onToggleFooterAnimationEnd=function(e){this._$footerWrapper.off("webkitAnimationEnd animationend");if(e.hasStyleClass(L.HIDE_FOOTER_CLASS_NAME)){this._$footerWrapper.addClass("sapUiHidden");e.removeStyleClass(L.HIDE_FOOTER_CLASS_NAME)}else{e.removeStyleClass(L.SHOW_FOOTER_CLASS_NAME)}this._bIsFooterAanimationGoing=false};L.prototype.clone=function(){var e,t,i;Object.keys(this.mAggregations).forEach(this._cloneProxiedAggregations,this);e=n.prototype.clone.apply(this,arguments);t=this._getHeaderContent();i=e._getHeaderContent();if(i){i.destroy()}if(t){e.setAggregation("_headerContent",t.clone(),true)}return e};L.prototype._cloneProxiedAggregations=function(e){var t=this.mAggregations[e];if(Array.isArray(t)&&t.length===0){t=this["get"+e.charAt(0).toUpperCase()+e.slice(1)]()}this.mAggregations[e]=t};L.prototype._shouldPreserveHeaderInTitleArea=function(){return this._bPinned||this._preserveHeaderStateOnScroll()||this._checkAlwaysShowContentHeader()};L.prototype._checkAlwaysShowContentHeader=function(){return!this._hasDynamicTitle()&&!this._bMobileScenario&&!this._bTabletScenario&&this.getShowHeaderContent()&&this.getAlwaysShowContentHeader()};L.prototype._shouldOverridePreserveHeaderStateOnScroll=function(){return!r.system.desktop&&this._headerBiggerThanAllowedToBeFixed()};L.prototype._headerBiggerThanAllowedToBeFixed=function(){var e=this._getOwnHeight();return this._getEntireHeaderHeight()>L.HEADER_MAX_ALLOWED_NON_SROLLABLE_PERCENTAGE*e};L.prototype._headerBiggerThanAllowedToBeExpandedInTitleArea=function(){return this._getEntireHeaderHeight()>=this._getOwnHeight()};L.prototype._getOwnHeight=function(){return this._getHeight(this)};L.prototype._getHeight=function(e){return!(e instanceof n)?0:e.$().outerHeight()||0};L.prototype._getEntireHeaderHeight=function(){var e=0,t=0,i=this.getHeaderTitle(),o=this._getHeaderContent();if(O(i)){e=i.$().outerHeight()}if(O(o)){t=o.$().outerHeight()}return e+t};L.prototype._onPinUnpinButtonPress=function(){if(this._bPinned){this._unPin()}else{this._pin();this._restorePinButtonFocus()}};L.prototype._restorePinButtonFocus=function(){var e=this._getHeaderContent();if(O(e)&&e.supportsPinUnpin()){e._focusPinButton()}};L.prototype._pin=function(){var e=this.$();if(this._bPinned){return}this._bPinned=true;this._toggleHeaderTitle(true);this._moveAnchorBarToTitleArea();this._moveHeaderToTitleArea();this._adjustHeaderHeights();this._requestAdjustLayout();this._togglePinButtonARIAState(this._bPinned);this._updateToggleHeaderVisualIndicators();if(O(e)){e.addClass("sapUxAPObjectPageLayoutHeaderPinned")}};L.prototype._unPin=function(){var e=this.$();if(!this._bPinned){return}this._bPinned=false;this._updateToggleHeaderVisualIndicators();this._togglePinButtonARIAState(this._bPinned);if(O(e)){e.removeClass("sapUxAPObjectPageLayoutHeaderPinned")}};L.prototype._togglePinButtonARIAState=function(e){var t=this._getHeaderContent();if(O(t)&&t.supportsPinUnpin()){t._updateARIAPinButtonState(e)}};L.prototype._preserveHeaderStateOnScroll=function(){return this._hasDynamicTitle()&&this.getPreserveHeaderStateOnScroll()&&!this._bHeaderBiggerThanAllowedHeight};L.prototype._overridePreserveHeaderStateOnScroll=function(){if(!this._shouldOverridePreserveHeaderStateOnScroll()){this._bHeaderBiggerThanAllowedHeight=false;return}this._bHeaderBiggerThanAllowedHeight=true;if(this._bHeaderExpanded){this._moveAnchorBarToContentArea();this._moveHeaderToContentArea(true)}else{this._snapHeader(true)}this._adjustHeaderHeights();this._requestAdjustLayout()};L.prototype._hasDynamicTitle=function(){var e=this.getHeaderTitle();return e&&e.isDynamic()};L.prototype._attachVisualIndicatorsPressHandlers=function(e,t){var i=this.getHeaderTitle(),o=this._getHeaderContent();if(O(i)&&!this._bAlreadyAttachedTitleIndicatorPressHandler){i.attachEvent(L.EVENTS.TITLE_VISUAL_INDICATOR_PRESS,function(){e.call(t);if(this._headerBiggerThanAllowedToBeExpandedInTitleArea()){this._scrollBelowCollapseVisualIndicator()}this._focusCollapseVisualIndicator()},this);this._bAlreadyAttachedTitleIndicatorPressHandler=true}if(O(o)&&!this._bAlreadyAttachedHeaderIndicatorPressHandler){o.attachEvent(L.EVENTS.HEADER_VISUAL_INDICATOR_PRESS,function(){e.call(t);this._focusExpandVisualIndicator()},this);this._bAlreadyAttachedHeaderIndicatorPressHandler=true}};L.prototype._hasVisibleDynamicTitleAndHeader=function(){var e=this.getHeaderTitle(),t=this.getHeaderContent();return O(e)&&e.isDynamic()&&e.getVisible()&&O(t)&&t.length>0};L.prototype._hasDynamicTitleWithSnappedTitleOnMobile=function(){var e=this.getHeaderTitle();return O(e)&&e.isDynamic()&&!!e.getSnappedTitleOnMobile()&&r.system.phone};L.prototype._updateToggleHeaderVisualIndicators=function(){var e,t,i,o=this._hasVisibleDynamicTitleAndHeader();if(!this.getToggleHeaderOnTitleClick()||!o){t=false;i=false}else{e=this._bHeaderExpanded;t=e;i=!e&&!this._hasDynamicTitleWithSnappedTitleOnMobile()}this._toggleCollapseVisualIndicator(t);this._toggleExpandVisualIndicator(i)};L.prototype._updateTitleVisualState=function(){var e=this.getHeaderTitle(),t=this._hasVisibleDynamicTitleAndHeader()&&this.getToggleHeaderOnTitleClick()&&!this._hasDynamicTitleWithSnappedTitleOnMobile();this.$().toggleClass("sapUxAPObjectPageLayoutTitleClickEnabled",t);if(O(e)){e._toggleFocusableState(t)}};L.prototype._focusCollapseVisualIndicator=function(){var e=this._getHeaderContent();if(O(e)){e._focusCollapseButton()}};L.prototype._focusExpandVisualIndicator=function(){var e=this.getHeaderTitle();if(O(e)){e._focusExpandButton()}};L.prototype._toggleExpandVisualIndicator=function(e){var t=this.getHeaderTitle();if(O(t)){t._toggleExpandButton(e)}};L.prototype._toggleCollapseVisualIndicator=function(e){var t=this._getHeaderContent();if(O(t)){t._toggleCollapseButton(e)}};L.prototype._attachVisualIndicatorMouseOverHandlers=function(e,t,i){var o=this._getHeaderContent();if(O(o)&&!this._bAlreadyAttachedVisualIndicatorMouseOverOutHandler){o.attachEvent(L.EVENTS.VISUAL_INDICATOR_MOUSE_OVER,e,i);o.attachEvent(L.EVENTS.VISUAL_INDICATOR_MOUSE_OUT,t,i);this._bAlreadyAttachedVisualIndicatorMouseOverOutHandler=true}};L.prototype._attachTitleMouseOverHandlers=function(e,t,i){var o=this.getHeaderTitle();if(O(o)&&!this._bAlreadyAttachedTitleMouseOverOutHandler){o.attachEvent(L.EVENTS.TITLE_MOUSE_OVER,e,i);o.attachEvent(L.EVENTS.TITLE_MOUSE_OUT,t,i);this._bAlreadyAttachedTitleMouseOverOutHandler=true}};L.prototype._suppressScroll=function(){this._bSuppressScroll=true};L.prototype._resumeScroll=function(){this._bSuppressScroll=false;if(this._iStoredScrollTop){this._scrollTo(this._iStoredScrollTop,0)}else{this._onScroll({target:{scrollTop:this._$opWrapper.scrollTop()}})}};L.prototype._addHoverClass=function(){var e=this.$();if(e){e.addClass("sapUxAPObjectPageLayoutTitleForceHovered")}};L.prototype._removeHoverClass=function(){var e=this.$();if(e){e.removeClass("sapUxAPObjectPageLayoutTitleForceHovered")}};L.prototype._getHeight=function(e){return!(e instanceof n)?0:e.$().outerHeight()||0};L.prototype._getWidth=function(e){var t=e.getDomRef();return!(e instanceof n)?0:t&&t.offsetWidth||0};L.prototype._getSectionInfoIsDirty=function(){return this.bSectionInfoIsDirty};L.prototype._setSectionInfoIsDirty=function(e){this.bSectionInfoIsDirty=e};L.prototype._getAriaLabelText=function(e){var t=this.getHeaderTitle(),i=t?t.getTitleText():null,o;if(t&&i){o=i+" "+L._getLibraryResourceBundle().getText(e+"_ARIA_LABEL_WITH_TITLE")}else{o=L._getLibraryResourceBundle().getText(e+"_ARIA_LABEL_WITHOUT_TITLE")}return o};L.prototype._getFooterHeight=function(){if(this.getFooter()&&this.getShowFooter()){return this._getDOMRefHeight(this.$("footerWrapper").get(0))}return 0};L.prototype._getDOMRefHeight=function(e){return e.parentElement?e.getBoundingClientRect().height:0};L.prototype._updateAriaLabels=function(){var e=this.getLandmarkInfo(),t=this._getAriaLabelText("ROOT"),i=this._getAriaLabelText("HEADER"),o=this._getAriaLabelText("NAVIGATION"),n=this._getAriaLabelText("NAVTOOLBAR"),r=e&&e.getHeaderLabel(),s=e&&e.getRootLabel(),a=e&&e.getNavigationLabel();if(!s){this.$().attr("aria-label",t)}if(!r){this.$("headerTitle").attr("aria-label",i)}if(!a){this.$("anchorBar").attr("aria-label",o);this.$("stickyAnchorBar").attr("aria-label",o)}this.$("anchBar").attr("aria-label",n)};L.prototype._formatLandmarkInfo=function(e,t){if(e){var i=e["get"+t+"Role"]()||"",o=e["get"+t+"Label"]()||"";if(i===m.None){i=""}return{role:i.toLowerCase(),label:o}}return{}};L.prototype._getHeaderTag=function(e){if(e&&e.getHeaderRole()!==m.None){return L.DIV}return L.HEADER};L.prototype._getFooterTag=function(e){if(e&&e.getFooterRole()!==m.None){return L.DIV}return L.FOOTER};function O(e){if(arguments.length===1){return Array.isArray(e)?e.length>0:!!e}return Array.prototype.slice.call(arguments).every(function(e){return O(e)})}return L});
sap.ui.predefine("sap/uxap/ObjectPageLayoutABHelper",["sap/ui/thirdparty/jquery","sap/ui/base/Metadata","sap/ui/core/Core","sap/ui/core/CustomData","sap/ui/core/Configuration","sap/ui/base/ManagedObjectObserver","./AnchorBar","sap/m/Button","sap/m/MenuButton","sap/m/Menu","sap/m/MenuItem","sap/ui/core/IconPool"],function(t,e,n,o,i,a,r,s,u,c,g,h){"use strict";var l=[i.AnimationMode.full,i.AnimationMode.basic];var d=e.createClass("sap.uxap._helpers.AB",{constructor:function(t){this._oObjectPageLayout=t;this._iScrollDuration=t._iScrollToSectionDuration;this._iFocusMoveDelay=this._iScrollDuration-100;this._oObserver=new a(this._proxyStateChanges.bind(this));this._aMenusWithAttachPressHandler=[]}});d.prototype.getObjectPageLayout=function(){return this._oObjectPageLayout};d.prototype._proxyStateChanges=function(t){var e=t.object,n=this._findExistingClone(e),o=t.name,i=t.current,a="set"+f(o);if(n){n[a].call(n,i)}};d.prototype._findExistingClone=function(t){var e,n=t.getId()+"-__clone",o=this._getAnchorBar(),i=o.getContent();i.some(function(t){if(t.getId().indexOf(n)===0){e=t;return true}});return e};d.prototype._getAnchorBar=function(){var t=this.getObjectPageLayout(),e=t.getAggregation("_anchorBar");if(!e){e=new r({id:t.getId()+"-anchBar",showPopover:t.getShowAnchorBarPopover(),backgroundDesign:t.getBackgroundDesignAnchorBar()});this.getObjectPageLayout().setAggregation("_anchorBar",e,true)}return e};d.prototype._setCustomData=function(t,e,n,i){n._oSectionInfo[e.getId()].buttonId=t.getId();t.addCustomData(new o({key:"sectionId",value:e.getId()}));t.addCustomData(new o({key:"bTitleVisible",value:e._getInternalTitleVisible()}));if(!i){t.addCustomData(new o({key:"secondLevel",value:true}))}};d.prototype._buildAnchorBar=function(){var e=this.getObjectPageLayout(),n=e.getSections()||[],i=this._getAnchorBar(),a=t.proxy(i._handleDirectScroll,i),r,s,h,l;if(i&&this.getObjectPageLayout().getShowAnchorBar()){i._resetControl();this._oObserver.disconnect();n.forEach(function(t){if(!t.getVisible()||!t._getInternalVisible()){return}var n,d=t.getSubSections()||[];n=this._buildAnchorBarButton(t,true);if(n){i.addContent(n);if(n instanceof u){var f=new c({});n.enhanceAccessibilityState=function(t,e){var n=i.getContent(),o=n.indexOf(t.getParent());if(o!==-1){e.role="option";e.setsize=n.length;e.posinset=o+1}};f._setCustomEnhanceAccStateFunction(function(t,e){e.controls=t.data("sectionId")});n.setMenu(f)}d.forEach(function(t){if(!t.getVisible()||!t._getInternalVisible()){return}var c=this._buildAnchorBarButton(t,false),d=i.getId()+"-"+t.getId()+"-anchor";if(c){i.addContent(c)}if(n instanceof u){l=t.getCustomAnchorBarButton();if(l){r=l.getText();s=l.getIcon()}else{r=t._getInternalTitle()||t.getTitle();s=""}h=new g(d,{text:r,icon:s});h.addCustomData(new o({key:"sectionId",value:t.getId()}));h.attachPress(a);this._setCustomData(h,t,e,false);n.getMenu().addItem(h)}},this)}},this)}};d.prototype._moveFocusOnSection=function(t){var e=t.data(),n=sap.ui.getCore().byId(e.sectionId),o=this.getObjectPageLayout(),i=n.isA("sap.uxap.ObjectPageSubSection"),a=n&&!o.getUseIconTabBar()||o.getUseIconTabBar()&&i,r=this._iFocusMoveDelay;if(a&&this._isScrollAnimationEnabled()){setTimeout(n.$()["focus"].bind(n.$()),r)}else if(a){n.$().trigger("focus")}if(o.getUseIconTabBar()&&i){var s={onAfterRendering:function(){this.removeEventDelegate(s);setTimeout(this.$()["focus"].bind(this.$()),r)}.bind(n)};n.addEventDelegate(s)}};d.prototype._isScrollAnimationEnabled=function(){return l.indexOf(n.getConfiguration().getAnimationMode())>=0};d.prototype._instantiateAnchorBarButton=function(t,e,n){var o,i;if(t){o=u;i={type:"Transparent",buttonMode:"Split",useDefaultActionOnly:true,ariaDescribedBy:e}}else{o=s;i={ariaDescribedBy:e}}if(n){i.id=n}return new o(i)};d.prototype._buildAnchorBarButton=function(e,n){var i=null,a=this.getObjectPageLayout(),r,s=this._getAnchorBar(),u,c,g,h,l=e.getAggregation("subSections"),d=t.proxy(s._handleDirectScroll,s);if(e.getVisible()&&e._getInternalVisible()){r=e.getCustomAnchorBarButton();if(!r){u=s.getId()+"-"+e.getId()+"-anchor";if(n){if(l&&l.length>1){h=l.filter(function(t){return t.getVisible()&&t._getInternalVisible()}).length}}g=n&&h>1&&s.getShowPopover();if(g){i=this._instantiateAnchorBarButton(true,e,u);i.attachDefaultAction(d);i._getButtonControl().attachPress(function(){this.getParent().focus()});i._getButtonControl().attachArrowPress(function(){var t=i._getButtonControl();if(this._aMenusWithAttachPressHandler[t.getId()]){return}i.getMenu().attachItemSelected(function(t){this._moveFocusOnSection(t.getParameter("item"))},this);this._aMenusWithAttachPressHandler[t.getId()]=true},this);i.addCustomData(new o({key:"bHasSubMenu",value:true}))}else if(n){i=this._instantiateAnchorBarButton(false,e,u);i.attachPress(function(t){this._moveFocusOnSection(t.getSource())},this);i.attachPress(d)}else{c=s.getId()+"-"+e.getId()+"-sub-anchor";i=this._instantiateAnchorBarButton(false,e,c)}var f=e._getInternalTitle()!=""?e._getInternalTitle():e.getTitle();i.setText(f)}else{i=r.clone();i.attachPress(function(t){this._moveFocusOnSection(t.getSource())},this);i.attachPress(d);this._oObserver.observe(r,{properties:true})}this._setCustomData(i,e,a,n)}return i};function f(t){return t.substring(0,1).toUpperCase()+t.substring(1)}return d});
sap.ui.predefine("sap/uxap/ObjectPageLayoutRenderer",["sap/ui/Device"],function(e){"use strict";var t={apiVersion:2};t.render=function(t,a){var r,n=a.getHeaderTitle(),o=null,s=sap.uxap.ObjectPageLayout._getLibraryResourceBundle(),i=a.getHeaderContent()&&a.getHeaderContent().length>0&&a.getShowHeaderContent(),l=a.getShowTitleInHeaderContent()&&a.getShowHeaderContent(),c=i||l,d=a.getUseIconTabBar(),g=a.getToggleHeaderOnTitleClick()&&a.getHeaderTitle()&&a.getHeaderTitle().supportsToggleHeaderOnTitleClick(),p=a._getAriaLabelText("ROOT"),f=a._getAriaLabelText("HEADER"),u=a.getBackgroundDesignAnchorBar(),C=a.getLandmarkInfo(),P=a._getHeaderTag(C),A=a._getFooterTag(C),b=C&&C.getHeaderRole(),h=C&&C.getHeaderLabel(),I=C&&C.getRootRole(),O=C&&C.getRootLabel(),T=C&&C.getNavigationRole();if(a.getShowAnchorBar()&&a._getInternalAnchorBarVisible()){o=a.getAggregation("_anchorBar")}t.openStart("div",a);if(!I){t.attr("role","main")}t.attr("aria-roledescription",s.getText("ROOT_ROLE_DESCRIPTION"));if(!O){t.attr("aria-label",p)}t.class("sapUxAPObjectPageLayout");if(g){t.class("sapUxAPObjectPageLayoutTitleClickEnabled")}if(!c){t.class("sapUxAPObjectPageLayoutNoHeaderContent")}if(!o||!o.getVisible()){t.class("sapUxAPObjectPageLayoutNoAnchorBar")}t.style("height",a.getHeight());t.accessibilityState(a,a._formatLandmarkInfo(C,"Root"));t.openEnd();if(e.system.desktop){t.renderControl(a._getCustomScrollBar())}t.openStart(P,a.getId()+"-headerTitle");if(!b){t.attr("role","banner")}t.attr("aria-roledescription",s.getText("HEADER_ROLE_DESCRIPTION"));if(!h){t.attr("aria-label",f)}t.attr("data-sap-ui-customfastnavgroup",true).class("sapUxAPObjectPageHeaderTitle").class("sapContrastPlus").accessibilityState(a,a._formatLandmarkInfo(C,"Header")).openEnd();if(n){t.renderControl(n)}this._renderHeaderContentDOM(t,a,c&&a._bHeaderInTitleArea,"-stickyHeaderContent");t.openStart("div",a.getId()+"-stickyAnchorBar");t.attr("data-sap-ui-customfastnavgroup",true);if(!T){t.attr("role","navigation")}t.attr("aria-roledescription",s.getText("NAVIGATION_ROLE_DESCRIPTION"));if(!a._bHeaderInTitleArea){t.attr("aria-hidden","true")}t.class("sapUxAPObjectPageStickyAnchorBar").class("sapUxAPObjectPageNavigation").class("ui-helper-clearfix");if(u){t.class("sapUxAPObjectPageNavigation"+u)}t.accessibilityState(a,a._formatLandmarkInfo(C,"Navigation"));t.openEnd();this._renderAnchorBar(t,a,o,a._bHeaderInTitleArea);t.close("div");t.close(P);t.openStart("div",a.getId()+"-opwrapper").class("sapUxAPObjectPageWrapper");if(n&&(!n.supportsTitleInHeaderContent()||!(a.getShowTitleInHeaderContent()&&n.getShowTitleSelector()))){t.class("sapUxAPObjectPageWrapperTransform")}t.openEnd();t.openStart("div",a.getId()+"-scroll").class("sapUxAPObjectPageScroll").openEnd();this._renderHeaderContentDOM(t,a,c&&!a._bHeaderInTitleArea,"-headerContent",true);t.openStart("section",a.getId()+"-anchorBar");t.attr("data-sap-ui-customfastnavgroup",true);if(!T){t.attr("role","navigation")}t.attr("aria-roledescription",s.getText("NAVIGATION_ROLE_DESCRIPTION"));t.class("sapUxAPObjectPageNavigation").class("ui-helper-clearfix").class("sapContrastPlus");if(u){t.class("sapUxAPObjectPageNavigation"+u)}t.accessibilityState(a,a._formatLandmarkInfo(C,"Navigation"));t.openEnd();this._renderAnchorBar(t,a,o,!a._bHeaderInTitleArea);t.close("section");t.openStart("section",a.getId()+"-sectionsContainer");t.class("sapUxAPObjectPageContainer");t.class("ui-helper-clearfix");if(!o){t.class("sapUxAPObjectPageContainerNoBar")}t.accessibilityState(a,a._formatLandmarkInfo(C,"Content"));t.openEnd();r=a._getSectionsToRender();if(Array.isArray(r)){r.forEach(function(e){t.renderControl(e);if(d){a._oCurrentTabSection=e}})}t.close("section");t.openStart("span",a.getId()+"-skipFastGroupAnchor").class("sapUiPseudoInvisibleText").openEnd().close("span");this.renderFooterContent(t,a);t.openStart("div",a.getId()+"-spacer").openEnd().close("div");t.close("div");t.close("div");this._renderFooterContentInternal(t,a,A,C,s);t.close("div")};t._renderAnchorBar=function(e,t,a,r){var n=t.getAggregation("sections"),o;if(r){o=t._getHeaderContent();if(t.getIsChildPage()&&o&&o.supportsChildPageDesign()){e.openStart("div",t.getId()+"-childPageBar");if(Array.isArray(n)&&n.length>1){e.class("sapUxAPObjectChildPage")}e.openEnd();e.close("div")}if(a){e.renderControl(a)}}};t._renderHeaderContentDOM=function(e,t,a,r,n){e.openStart("header",t.getId()+r).class("ui-helper-clearfix").class("sapUxAPObjectPageHeaderDetails").class("sapUxAPObjectPageHeaderDetailsDesign-"+t._getHeaderDesign());if(n){e.class("sapContrastPlus")}e.attr("data-sap-ui-customfastnavgroup",true).openEnd();if(a){this.renderHeaderContent(e,t)}e.close("header")};t.renderHeaderContent=function(e,t){e.renderControl(t._getHeaderContent())};t.renderFooterContent=function(e,t){};t._renderFooterContentInternal=function(e,t,a,r,n){var o=t.getFooter(),s=r&&r.getFooterRole();if(!o){return}e.openStart(a,t.getId()+"-footerWrapper");e.class("sapUxAPObjectPageFooter").class("sapMFooter-CTX").class("sapContrast").class("sapContrastPlus");if(!t.getShowFooter()){e.class("sapUiHidden")}if(!s){e.attr("role","region")}e.attr("aria-roledescription",n.getText("FOOTER_ROLE_DESCRIPTION"));e.accessibilityState(t,t._formatLandmarkInfo(r,"Footer"));e.openEnd();o.addStyleClass("sapUxAPObjectPageFloatingFooter");e.renderControl(o);e.close(a)};t._rerenderHeaderContentArea=function(e,t){var a=t._bHeaderInTitleArea?"stickyHeaderContent":"headerContent",r;this.renderHeaderContent(e,t);r=t.$(a)[0];if(r){e.flush(r)}};return t},true);
sap.ui.predefine("sap/uxap/ObjectPageLazyLoader",["./library","sap/ui/core/Element","sap/ui/core/StashedControlSupport","sap/base/assert"],function(e,t,a,n){"use strict";var r=t.extend("sap.uxap.ObjectPageLazyLoader",{metadata:{library:"sap.uxap",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}},defaultAggregation:"content"}});a.mixInto(r);r.prototype.setParent=function(e){if(!(e===null||e instanceof sap.uxap.ObjectPageSubSection)){n(false,"setParent(): oParent must be an instance of sap.uxap.ObjectPageSubSection or null")}return t.prototype.setParent.apply(this,arguments)};return r});
sap.ui.predefine("sap/uxap/ObjectPageSection",["sap/ui/core/InvisibleText","./ObjectPageSectionBase","sap/ui/Device","sap/m/Button","sap/ui/core/StashedControlSupport","./ObjectPageSubSection","./library","sap/m/library","./ObjectPageSectionRenderer"],function(t,e,i,o,n,s,a,r,u){"use strict";var p=r.ButtonType;var l=e.extend("sap.uxap.ObjectPageSection",{metadata:{library:"sap.uxap",properties:{showTitle:{type:"boolean",group:"Appearance",defaultValue:true},titleUppercase:{type:"boolean",group:"Appearance",defaultValue:true}},defaultAggregation:"subSections",aggregations:{subSections:{type:"sap.uxap.ObjectPageSubSection",multiple:true,singularName:"subSection"},ariaLabelledBy:{type:"sap.ui.core.InvisibleText",multiple:false,visibility:"hidden"},_showHideAllButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_showHideButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"}},associations:{selectedSubSection:{type:"sap.uxap.ObjectPageSubSection",multiple:false}},designtime:"sap/uxap/designtime/ObjectPageSection.designtime"}});l.MEDIA_RANGE=i.media.RANGESETS.SAP_STANDARD;l._getClosestSection=function(t){var e=typeof t==="string"&&sap.ui.getCore().byId(t)||t;return e instanceof s?e.getParent():e};l._getLibraryResourceBundle=function(){return sap.ui.getCore().getLibraryResourceBundle("sap.uxap")};l.prototype._expandSection=function(){e.prototype._expandSection.call(this)._updateShowHideAllButton(!this._thereAreHiddenSubSections())};l.prototype.init=function(){e.prototype.init.call(this);this._sContainerSelector=".sapUxAPObjectPageSectionContainer"};l.prototype.exit=function(){this._detachMediaContainerWidthChange(this._updateImportance,this)};l.prototype.setTitle=function(t){e.prototype.setTitle.call(this,t);var i=this.getAggregation("ariaLabelledBy"),o=l._getLibraryResourceBundle().getText("SECTION_CONTROL_NAME");if(i){sap.ui.getCore().byId(i.getId()).setText(t+" "+o)}return this};l.prototype._getImportanceLevelToHide=function(t){var e=this._getObjectPageLayout(),i=t||this._getCurrentMediaContainerRange(),o=e&&e.getShowOnlyHighImportance();return this._determineTheLowestLevelOfImportanceToShow(i.name,o)};l.prototype._updateImportance=function(t){var e=this._getObjectPageLayout(),i=this._getImportanceLevelToHide(t);this.getSubSections().forEach(function(t){t._applyImportanceRules(i)});this._applyImportanceRules(i);this._updateShowHideAllButton(false);if(e&&this.getDomRef()){e._requestAdjustLayout()}};l.prototype._determineTheLowestLevelOfImportanceToShow=function(t,e){if(e||t==="Phone"){return a.Importance.High}if(t==="Tablet"){return a.Importance.Medium}return a.Importance.Low};l.prototype.connectToModels=function(){this.getSubSections().forEach(function(t){t.connectToModels()})};l.prototype._allowPropagationToLoadedViews=function(t){this.getSubSections().forEach(function(e){e._allowPropagationToLoadedViews(t)})};l.prototype.onBeforeRendering=function(){var t="ariaLabelledBy";if(!this.getAggregation(t)){this.setAggregation(t,this._getAriaLabelledBy(),true)}this._detachMediaContainerWidthChange(this._updateImportance,this);this._updateImportance()};l.prototype.onAfterRendering=function(){this._attachMediaContainerWidthChange(this._updateImportance,this)};l.prototype._getAriaLabelledBy=function(){var e="",i=this._getTitle();if(i){e+=i+" "}e+=l._getLibraryResourceBundle().getText("SECTION_CONTROL_NAME");return new t({text:e}).toStatic()};l.prototype._isTitleVisible=function(){return this.getShowTitle()&&this._getInternalTitleVisible()};l.prototype._setSubSectionsFocusValues=function(){var t=this.getSubSections()||[],e=this.getSelectedSubSection(),i;if(t.length===0){return this}if(t.length===1){t[0]._setToFocusable(false);return this}t.forEach(function(t){if(e===t.sId){t._setToFocusable(true);i=true}else{t._setToFocusable(false)}});if(!i){t[0]._setToFocusable(true)}return this};l.prototype._disableSubSectionsFocus=function(){var t=this.getSubSections()||[];t.forEach(function(t){t._setToFocusable(false)});return this};l.prototype._thereAreHiddenSubSections=function(){return this.getSubSections().some(function(t){return t._getIsHidden()})};l.prototype._updateShowHideSubSections=function(t){this.getSubSections().forEach(function(e){if(t&&e._shouldBeHidden()){e._updateShowHideState(true)}else if(!t){e._updateShowHideState(false)}})};l.prototype._getShouldDisplayShowHideAllButton=function(){return this.getSubSections().some(function(t){return t._shouldBeHidden()})};l.prototype._showHideContentAllContent=function(){var t=this._thereAreHiddenSubSections();if(this._getIsHidden()&&t){this._updateShowHideState(false)}this._updateShowHideSubSections(!t);this._updateShowHideAllButton(t)};l.prototype._updateShowHideState=function(t){if(this._getIsHidden()===t){return this}this._updateShowHideButton(t);this._getShowHideAllButton().setVisible(this._getShouldDisplayShowHideAllButton());return e.prototype._updateShowHideState.call(this,t)};l.prototype._updateShowHideAllButton=function(t){this._getShowHideAllButton().setVisible(this._getShouldDisplayShowHideAllButton()).setText(this._getShowHideAllButtonText(t))};l.prototype._getShowHideAllButton=function(){if(!this.getAggregation("_showHideAllButton")){this.setAggregation("_showHideAllButton",new o({visible:this._getShouldDisplayShowHideAllButton(),text:this._getShowHideAllButtonText(!this._thereAreHiddenSubSections()),press:this._showHideContentAllContent.bind(this),type:p.Transparent}).addStyleClass("sapUxAPSectionShowHideButton"),true)}return this.getAggregation("_showHideAllButton")};l.prototype._getShowHideButtonText=function(t){return l._getLibraryResourceBundle().getText(t?"HIDE":"SHOW")};l.prototype._getShowHideAllButtonText=function(t){return l._getLibraryResourceBundle().getText(t?"HIDE_ALL":"SHOW_ALL")};l.prototype._updateShowHideButton=function(t){this._getShowHideButton().setVisible(this._shouldBeHidden()).setText(this._getShowHideButtonText(!t))};l.prototype._getShowHideButton=function(){if(!this.getAggregation("_showHideButton")){this.setAggregation("_showHideButton",new o({visible:this._shouldBeHidden(),text:this._getShowHideButtonText(!this._getIsHidden()),press:this._showHideContent.bind(this),type:p.Transparent}).addStyleClass("sapUxAPSectionShowHideButton"),true)}return this.getAggregation("_showHideButton")};n.mixInto(l);return l});
sap.ui.predefine("sap/uxap/ObjectPageSectionBase",["sap/ui/thirdparty/jquery","sap/ui/core/Control","sap/ui/core/library","./library","sap/base/Log","sap/ui/events/KeyCodes","sap/ui/dom/jquery/Focusable"],function(t,e,i,n,r,o){"use strict";var a=i.TitleLevel;var s=e.extend("sap.uxap.ObjectPageSectionBase",{metadata:{abstract:true,library:"sap.uxap",properties:{title:{type:"string",group:"Appearance",defaultValue:null},titleLevel:{type:"sap.ui.core.TitleLevel",group:"Appearance",defaultValue:a.Auto},visible:{type:"boolean",group:"Appearance",defaultValue:true},importance:{type:"sap.uxap.Importance",group:"Behavior",defaultValue:n.Importance.High}},aggregations:{customAnchorBarButton:{type:"sap.m.Button",multiple:false}}}});s.prototype.init=function(){this._bInternalVisible=true;this._bInternalTitleVisible=true;this._sInternalTitle="";this._sInternalTitleLevel=a.Auto;this._isHidden=false;this._bRtl=sap.ui.getCore().getConfiguration().getRTL()};s.prototype.onAfterRendering=function(){if(this._getObjectPageLayout()){this._getObjectPageLayout()._requestAdjustLayout().catch(function(){r.debug("ObjectPageSectionBase :: cannot adjustLayout",this)});this._getObjectPageLayout()._setSectionsFocusValues()}};s.prototype.setCustomAnchorBarButton=function(t){var e=this.setAggregation("customAnchorBarButton",t,true);if(this._getObjectPageLayout()){this._getObjectPageLayout()._updateNavigation()}return e};s.prototype._setInternalVisible=function(t,e){if(t!=this._bInternalVisible){this._bInternalVisible=t;if(e){this.invalidate()}}};s.prototype._getInternalVisible=function(){return this._bInternalVisible};s.prototype._setInternalTitleVisible=function(t,e){if(t!=this._bInternalTitleVisible){this._bInternalTitleVisible=t;if(e){this.invalidate()}}};s.prototype._getInternalTitleVisible=function(){return this._bInternalTitleVisible};s.prototype._setInternalTitle=function(t,e){if(t!=this._sInternalTitle){this._sInternalTitle=t;if(e){this.invalidate()}}};s.prototype._getTitle=function(){return this._getInternalTitle()||this.getTitle()};s.prototype._getInternalTitle=function(){return this._sInternalTitle};s.prototype._getARIALevel=function(){return this._getTitleLevel().slice(-1)};s.prototype._getTitleLevel=function(){var t=this.getTitleLevel();return t===a.Auto?this._getInternalTitleLevel():t};s.prototype._setInternalTitleLevel=function(t){this._sInternalTitleLevel=t};s.prototype._getInternalTitleLevel=function(){return this._sInternalTitleLevel};s.prototype._getObjectPageLayout=function(){return n.Utilities.getClosestOPL(this)};s.prototype._notifyObjectPageLayout=function(){if(this._getObjectPageLayout()&&this._getObjectPageLayout().$().length){this._getObjectPageLayout()._requestAdjustLayoutAndUxRules()}};["addAggregation","insertAggregation","removeAllAggregation","removeAggregation","destroyAggregation"].forEach(function(t){s.prototype[t]=function(i,n,r,o){if(["addAggregation","removeAggregation"].indexOf(t)>-1){o=r}if(["removeAllAggregation","destroyAggregation"].indexOf(t)>-1){o=n}var a=e.prototype[t].apply(this,arguments);if(o!==true){this._notifyObjectPageLayout()}return a}});s.prototype.setVisible=function(t,e){if(this.getVisible()===t){return this}if(!this._getObjectPageLayout()){return this.setProperty("visible",t,e)}this.setProperty("visible",t,true);this._notifyObjectPageLayout();this.invalidate();return this};s.prototype.setTitle=function(t,e){this.setProperty("title",t,e);this._notifyObjectPageLayout();return this};s.prototype._shouldBeHidden=function(){return s._importanceMap[this.getImportance()]>s._importanceMap[this._sCurrentLowestImportanceLevelToShow]};s._importanceMap={Low:3,Medium:2,High:1};s.prototype._updateShowHideState=function(t){var e=this._getObjectPageLayout();this._isHidden=t;this.$().children(this._sContainerSelector).toggle(!t);if(e){e._requestAdjustLayout()}return this};s.prototype._getIsHidden=function(){return this._isHidden};s.prototype._expandSection=function(){return this._updateShowHideState(false)};s.prototype._showHideContent=function(){return this._updateShowHideState(!this._getIsHidden())};s.prototype._applyImportanceRules=function(t){this._sCurrentLowestImportanceLevelToShow=t;if(this.getDomRef()){this._updateShowHideState(this._shouldBeHidden())}else{this._isHidden=this._shouldBeHidden()}};s.PAGEUP_AND_PAGEDOWN_JUMP_SIZE=5;s.prototype.onkeydown=function(t){if(t.keyCode===o.SPACE&&t.srcControl.isA("sap.uxap.ObjectPageSection")){t.preventDefault()}if(t.keyCode===o.F7){var e=this.getSubSections(),i=e[0],n;if(e.length===1){n=i._oLastFocusedControlF7;if(n){n.$().trigger("focus")}else{i.$().firstFocusableDomRef().focus()}}else{if(i.getActions().length){i.getActions()[0].$().trigger("focus")}}}};s.prototype.onsapdown=function(t){this._handleFocusing(t,t.currentTarget.nextSibling)};s.prototype._handleFocusing=function(e,i){var n;if(this._targetIsCorrect(e)&&i){n=t(e.currentTarget).parent().children();e.preventDefault();i.focus();if(n.length>1){this._scrollParent(t(i).attr("id"))}}};s.prototype._targetIsCorrect=function(t){return t.srcControl===this};s.prototype.onsapright=function(t){var e=this._bRtl?"onsapup":"onsapdown";this[e](t)};s.prototype.onsapup=function(t){this._handleFocusing(t,t.currentTarget.previousSibling)};s.prototype.onsapleft=function(t){var e=this._bRtl?"onsapdown":"onsapup";this[e](t)};s.prototype.onsaphome=function(t){this._handleFocusing(t,t.currentTarget.parentElement.firstChild)};s.prototype.onsapend=function(t){this._handleFocusing(t,t.currentTarget.parentElement.lastChild)};s.prototype.onsappageup=function(e){if(!this._targetIsCorrect(e)){return}e.preventDefault();var i;var n=t(e.currentTarget).parent().children();var r;n.each(function(n,r){if(t(r).attr("id")===e.currentTarget.id){i=n-(s.PAGEUP_AND_PAGEDOWN_JUMP_SIZE+1);return}});if(i&&n[i]){n[i].focus();r=t(n[i]).attr("id")}else if(n[0]){n[0].focus();r=t(n[0]).attr("id")}if(n.length>1){this._scrollParent(r)}};s.prototype.onsappagedown=function(e){if(!this._targetIsCorrect(e)){return}e.preventDefault();var i;var n=t(e.currentTarget).parent().children();var r;n.each(function(n,r){if(t(r).attr("id")===e.currentTarget.id){i=n+s.PAGEUP_AND_PAGEDOWN_JUMP_SIZE+1;return}});if(i&&n[i]){n[i].focus();r=t(n[i]).attr("id")}else if(n[n.length-1]){n[n.length-1].focus();r=t(n[n.length-1]).attr("id")}if(n.length>1){this._scrollParent(r)}};s.prototype._scrollParent=function(t){if(this._getObjectPageLayout()){this._getObjectPageLayout().scrollToSection(t,0,10)}};return s});
sap.ui.predefine("sap/uxap/ObjectPageSectionRenderer",function(){"use strict";var e={apiVersion:2};e.render=function(e,t){var i,a,n=sap.ui.getCore().getConfiguration().getAccessibility(),r=t.getAggregation("ariaLabelledBy");if(!t.getVisible()||!t._getInternalVisible()){return}i=t._getTitle();a=t._isTitleVisible();e.openStart("section",t).class("sapUxAPObjectPageSection");if(!a){e.class("sapUxAPObjectPageSectionNoTitle")}e.attr("role","region");if(n&&r){e.attr("aria-labelledby",r.getId())}e.openEnd();e.openStart("div",t.getId()+"-header").attr("role","heading").attr("aria-level",t._getARIALevel()).class("sapUxAPObjectPageSectionHeader").class(a?"":"sapUxAPObjectPageSectionHeaderHidden").openEnd();e.openStart("div",t.getId()+"-title").class("sapUxAPObjectPageSectionTitle");if(t.getTitleUppercase()){e.class("sapUxAPObjectPageSectionTitleUppercase")}e.openEnd();e.text(i);e.close("div");if(a){e.renderControl(t._getShowHideAllButton());e.renderControl(t._getShowHideButton())}e.close("div");e.openStart("div").class("sapUxAPObjectPageSectionContainer");if(t._isHidden){e.style("display","none")}e.openEnd();t.getSubSections().forEach(e.renderControl,e);e.close("div");e.close("section")};return e},true);
sap.ui.predefine("sap/uxap/ObjectPageSubSection",["sap/ui/thirdparty/jquery","sap/ui/layout/Grid","sap/ui/layout/GridData","./ObjectPageSectionBase","./ObjectPageLazyLoader","./BlockBase","sap/m/Button","sap/ui/Device","sap/ui/core/StashedControlSupport","sap/ui/base/ManagedObjectObserver","sap/m/TitlePropagationSupport","./library","sap/m/library","./ObjectPageSubSectionRenderer","sap/base/Log","sap/ui/base/DataType","sap/ui/events/KeyCodes","sap/ui/dom/jquery/Focusable"],function(t,e,o,i,r,n,s,a,u,g,l,c,h,p,f,d,y){"use strict";var _=h.ButtonType;var S=c.ObjectPageSubSectionMode;var b=c.ObjectPageSubSectionLayout;var C=i.extend("sap.uxap.ObjectPageSubSection",{metadata:{library:"sap.uxap",properties:{showTitle:{type:"boolean",group:"Appearance",defaultValue:true},mode:{type:"sap.uxap.ObjectPageSubSectionMode",group:"Appearance",defaultValue:S.Collapsed},titleUppercase:{type:"boolean",group:"Appearance",defaultValue:false}},defaultAggregation:"blocks",aggregations:{_grid:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},blocks:{type:"sap.ui.core.Control",multiple:true,singularName:"block"},moreBlocks:{type:"sap.ui.core.Control",multiple:true,singularName:"moreBlock"},actions:{type:"sap.ui.core.Control",multiple:true,singularName:"action"}},designtime:"sap/uxap/designtime/ObjectPageSubSection.designtime"}});l.call(C.prototype,"blocks",function(){return this._getTitleDomId()});C.FIT_CONTAINER_CLASS="sapUxAPObjectPageSubSectionFitContainer";C._getLibraryResourceBundle=function(){return sap.ui.getCore().getLibraryResourceBundle("sap.uxap")};C.prototype.init=function(){i.prototype.init.call(this);this._bRenderedFirstTime=false;this._aAggregationProxy={blocks:[],moreBlocks:[]};this._$spacer=[];this._sContainerSelector=".sapUxAPBlockContainer";this._sMoreContainerSelector=".sapUxAPSubSectionSeeMoreContainer";this._oObserver=new g(C.prototype._observeChanges.bind(this));this._oObserver.observe(this,{aggregations:["actions"]});this._switchSubSectionMode(this.getMode());this._initTitlePropagationSupport();this._sBorrowedTitleDomId=false;this._height=""};C.prototype._getHeight=function(){return this._height};C.prototype._setHeight=function(t){var e,o;if(this._height===t){return}e=d.getType("sap.ui.core.CSSSize");if(!e.isValid(t)){throw new Error('"'+t+'" is of type '+typeof t+", expected "+e.getName()+' for property "_height" of '+this)}this._height=t;o=this.getDomRef();if(o){o.style.height=t}};C.prototype._getTitleDomId=function(){if(this._sBorrowedTitleDomId){return this._sBorrowedTitleDomId}if(!this.getTitle().trim()){return false}if(this._getInternalTitleVisible()){return this.getId()+"-headerTitle"}return false};C.prototype._setBorrowedTitleDomId=function(t){this._sBorrowedTitleDomId=t};C.prototype._expandSection=function(){i.prototype._expandSection.call(this);var t=this.getParent();t&&typeof t._expandSection==="function"&&t._expandSection();return this};C.prototype._getGrid=function(){if(!this.getAggregation("_grid")){this.setAggregation("_grid",new e({id:this.getId()+"-innerGrid",defaultSpan:"XL12 L12 M12 S12",hSpacing:1,vSpacing:1,width:"100%",containerQuery:true}),true)}return this.getAggregation("_grid")};C.prototype._hasVisibleActions=function(){var t=this.getActions()||[];if(t.length===0){return false}return t.filter(function(t){return t.getVisible()}).length>0};C.prototype._observeChanges=function(t){var e=t.object,o=t.name,i=t.mutation,r=t.child,n;if(e===this){if(o==="actions"){if(i==="insert"){this._observeAction(r)}else if(i==="remove"){this._unobserveAction(r)}}}else if(o==="visible"){n=this._getInternalTitleVisible()&&this.getTitle().trim()!=="";if(!n){this.$("header").toggleClass("sapUiHidden",!this._hasVisibleActions())}}};C.prototype._observeAction=function(t){this._oObserver.observe(t,{properties:["visible"]})};C.prototype._unobserveAction=function(t){this._oObserver.unobserve(t,{properties:["visible"]})};["addStyleClass","toggleStyleClass","removeStyleClass"].forEach(function(t){C.prototype[t]=function(e,o){if(e===C.FIT_CONTAINER_CLASS){this._notifyObjectPageLayout()}return i.prototype[t].apply(this,arguments)}});C.prototype._unStashControls=function(){u.getStashedControls(this.getId()).forEach(function(t){t.setStashed(false)})};C.prototype.connectToModels=function(){var t=this.getBlocks()||[],e=this.getMoreBlocks()||[],o=this.getMode();this._unStashControls();t.forEach(function(t){if(t instanceof n){if(!t.getMode()){t.setMode(o)}t.connectToModels()}});if(e.length>0&&o===S.Expanded){e.forEach(function(t){if(t instanceof n){if(!t.getMode()){t.setMode(o)}t.connectToModels()}})}};C.prototype._allowPropagationToLoadedViews=function(t){var e=this.getBlocks()||[],o=this.getMoreBlocks()||[];e.forEach(function(e){if(e instanceof n){e._allowPropagationToLoadedViews(t)}});o.forEach(function(e){if(e instanceof n){e._allowPropagationToLoadedViews(t)}})};C.prototype.clone=function(){Object.keys(this._aAggregationProxy).forEach(function(t){var e=this.mAggregations[t];if(!e||e.length===0){this.mAggregations[t]=this._aAggregationProxy[t]}},this);return i.prototype.clone.apply(this,arguments)};C.prototype._cleanProxiedAggregations=function(){var t=this._aAggregationProxy;Object.keys(t).forEach(function(e){t[e].forEach(function(t){t.destroy()})})};C.prototype.exit=function(){if(this._oSeeMoreButton){this._oSeeMoreButton.destroy();this._oSeeMoreButton=null}if(this._oSeeLessButton){this._oSeeLessButton.destroy();this._oSeeLessButton=null}this._oCurrentlyVisibleSeeMoreLessButton=null;this._cleanProxiedAggregations();if(i.prototype.exit){i.prototype.exit.call(this)}};C.prototype.onAfterRendering=function(){var e=this._getObjectPageLayout();if(i.prototype.onAfterRendering){i.prototype.onAfterRendering.call(this)}if(!e){return}this._$spacer=t(document.getElementById(e.getId()+"-spacer"));if(this._bShouldFocusSeeMoreLessButton){this._bShouldFocusSeeMoreLessButton=false;this._oCurrentlyVisibleSeeMoreLessButton.focus()}};C.prototype.onBeforeRendering=function(){var t=this._getObjectPageLayout();if(!t){return}if(i.prototype.onBeforeRendering){i.prototype.onBeforeRendering.call(this)}this._setAggregationProxy();this._getGrid().removeAllContent();this._applyLayout(t);this.refreshSeeMoreVisibility()};C.prototype._applyLayout=function(t){var e,o=this._getGrid(),i=this.getMode(),r=t.getSubSectionLayout(),n=this._calculateLayoutConfiguration(r,t),s=this.getBlocks(),a=s.concat(this.getMoreBlocks());this._oLayoutConfig=n;this._resetLayoutData(a);if(i===S.Expanded){e=a}else{e=s}this._calcBlockColumnLayout(e,this._oLayoutConfig);try{e.forEach(function(t){this._setBlockMode(t,i);o.addAggregation("content",t,true)},this)}catch(t){f.error("ObjectPageSubSection :: error while building layout "+r+": "+t)}return this};C.prototype._calculateLayoutConfiguration=function(t,e){var o={M:2,L:3,XL:4},i=o.L,r=o.XL,n=t===b.TitleOnLeft,s=e.getUseTwoColumnsForLargeScreen();if(n){i-=1;r-=1}if(s){i-=1}o.L=i;o.XL=r;return o};C.prototype.refreshSeeMoreVisibility=function(){var t=this._getSeeMoreButton(),e=this._getSeeLessButton();this._bBlockHasMore=!!this.getMoreBlocks().length;if(!this._bBlockHasMore){this._bBlockHasMore=this.getBlocks().some(function(t){if(t instanceof n&&t.getVisible()&&t.getShowSubSectionMore()){return true}})}this.toggleStyleClass("sapUxAPObjectPageSubSectionWithSeeMore",this._bBlockHasMore);t.toggleStyleClass("sapUxAPSubSectionSeeMoreButtonVisible",this._bBlockHasMore);e.toggleStyleClass("sapUxAPSubSectionSeeMoreButtonVisible",this._bBlockHasMore);return this._bBlockHasMore};C.prototype.setMode=function(t){if(this.getMode()!==t){this._switchSubSectionMode(t);if(this._bRenderedFirstTime){this.rerender()}}return this};C.prototype.onkeydown=function(t){if(t.keyCode===y.SPACE&&t.srcControl.isA("sap.uxap.ObjectPageSubSection")){t.preventDefault()}if(t.keyCode===y.F7){t.stopPropagation();var e=sap.ui.getCore().byId(t.target.id);if(e instanceof C){this._handleSubSectionF7()}else{this._handleInteractiveElF7();this._oLastFocusedControlF7=e}}};C.prototype._handleInteractiveElF7=function(){if(this.getParent().getSubSections().length>1){this.$().trigger("focus")}else{this.getParent().$().trigger("focus")}};C.prototype._handleSubSectionF7=function(t){if(this._oLastFocusedControlF7){this._oLastFocusedControlF7.$().trigger("focus")}else{this.$().firstFocusableDomRef().focus()}};C.prototype._calcBlockColumnLayout=function(t,e){var i=12,r,n,s,a,u;n={iRemaining:e.M,iColumnConfig:e.M};s={iRemaining:e.L,iColumnConfig:e.L};a={iRemaining:e.XL,iColumnConfig:e.XL};u=[a,s,n];r=t.filter(function(t){return t.getVisible&&t.getVisible()});r.forEach(function(t,e){u.forEach(function(o){o.iCalculatedSize=this._calculateBlockSize(t,o.iRemaining,r,e,o.iColumnConfig)},this);t.setLayoutData(new o(t.getId()+"-layoutData",{spanS:i,spanM:n.iCalculatedSize*(i/n.iColumnConfig),spanL:s.iCalculatedSize*(i/s.iColumnConfig),spanXL:a.iCalculatedSize*(i/a.iColumnConfig),linebreakM:e>0&&n.iRemaining===n.iColumnConfig,linebreakL:e>0&&s.iRemaining===s.iColumnConfig,linebreakXL:e>0&&a.iRemaining===a.iColumnConfig}));u.forEach(function(t){t.iRemaining-=t.iCalculatedSize;if(t.iRemaining<1){t.iRemaining=t.iColumnConfig}})},this);return r};C.prototype._calculateBlockSize=function(t,e,o,i,r){var n,s=r,a;if(!this._hasAutoLayout(t)){return Math.min(r,parseInt(t.getColumnLayout()))}for(a=1;a<=s;a++){n=this._calcLayout(o[i+a]);if(n<e){e-=n}else{break}}return e};C.prototype._calcLayout=function(t){var e=1;if(!t){e=0}else if(t instanceof n&&t.getColumnLayout()!="auto"){e=parseInt(t.getColumnLayout())}return e};C.prototype._hasAutoLayout=function(t){return!(t instanceof n)||t.getColumnLayout()=="auto"};C.prototype._setAggregationProxy=function(){if(this._bRenderedFirstTime){return}t.each(this._aAggregationProxy,t.proxy(function(t,e){this._setAggregation(t,this.removeAllAggregation(t,true),true)},this));this._bRenderedFirstTime=true};C.prototype.hasProxy=function(t){return this._bRenderedFirstTime&&this._aAggregationProxy.hasOwnProperty(t)};C.prototype._getAggregation=function(t){return this._aAggregationProxy[t]};C.prototype._setAggregation=function(t,e,o){this._aAggregationProxy[t]=e;if(o!==true){this._notifyObjectPageLayout();this.invalidate()}return this._aAggregationProxy[t]};C.prototype.addAggregation=function(t,e,o){var s;if(e instanceof r){e.getContent().forEach(function(e){this.addAggregation(t,e,true)},this);e.removeAllContent();e.destroy();this.invalidate();return this}if(this.hasProxy(t)){s=this._getAggregation(t);s.push(e);this._setAggregation(t,s,o);if(e instanceof n||e instanceof r){e.setParent(this)}return this}return i.prototype.addAggregation.apply(this,arguments)};C.prototype.insertBlock=function(t,e){f.warning("ObjectPageSubSection :: usage of insertBlock is not supported - addBlock is performed instead.");return this.addAggregation("blocks",t)};C.prototype.insertMoreBlock=function(t,e){f.warning("ObjectPageSubSection :: usage of insertMoreBlock is not supported - addMoreBlock is performed instead.");return this.addAggregation("moreBlocks",t)};C.prototype.removeAllAggregation=function(t,e){var o;if(this.hasProxy(t)){o=this._getAggregation(t);this._setAggregation(t,[],e);return o.slice()}return i.prototype.removeAllAggregation.apply(this,arguments)};C.prototype.removeAggregation=function(t,e){var o=false,r;if(this.hasProxy(t)){r=this._getAggregation(t);r.forEach(function(i,n){if(i.getId()===e.getId()){r.splice(n,1);this._setAggregation(t,r);o=true}return!o},this);return o?e:null}return i.prototype.removeAggregation.apply(this,arguments)};C.prototype.indexOfAggregation=function(t,e){var o=-1;if(this.hasProxy(t)){this._getAggregation(t).some(function(t,i){if(t.getId()===e.getId()){o=i;return true}},this);return o}return i.prototype.indexOfAggregation.apply(this,arguments)};C.prototype.getAggregation=function(t){if(this.hasProxy(t)){return this._getAggregation(t)}return i.prototype.getAggregation.apply(this,arguments)};C.prototype.destroyAggregation=function(t){if(this.hasProxy(t)){this._getAggregation(t).forEach(function(t){t.destroy()});this._setAggregation(t,[]);return this}return i.prototype.destroyAggregation.apply(this,arguments)};C.prototype._getSeeMoreButton=function(){if(!this._oSeeMoreButton){this._oSeeMoreButton=new s(this.getId()+"--seeMore",{type:_.Transparent,iconFirst:false,text:C._getLibraryResourceBundle().getText("SHOW_MORE"),ariaLabelledBy:this.getId()}).addStyleClass("sapUxAPSubSectionSeeMoreButton").attachPress(this._seeMoreLessControlPressHandler,this)}return this._oSeeMoreButton};C.prototype._getSeeLessButton=function(){if(!this._oSeeLessButton){this._oSeeLessButton=new s(this.getId()+"--seeLess",{type:_.Transparent,iconFirst:false,text:C._getLibraryResourceBundle().getText("SHOW_LESS"),ariaLabelledBy:this.getId()}).addStyleClass("sapUxAPSubSectionSeeMoreButton").attachPress(this._seeMoreLessControlPressHandler,this)}return this._oSeeLessButton};C.prototype._seeMoreLessControlPressHandler=function(t){var e=this.getMode(),o,i=this.getMoreBlocks()||[];if(e===S.Expanded){o=S.Collapsed}else{o=S.Expanded;i.forEach(function(t){if(t instanceof n){t.setMode(e);t.connectToModels()}},this)}this._switchSubSectionMode(o);this._bShouldFocusSeeMoreLessButton=true};C.prototype._switchSubSectionMode=function(t){t=this.validateProperty("mode",t);if(t===S.Collapsed){this.setProperty("mode",S.Collapsed);this._oCurrentlyVisibleSeeMoreLessButton=this._getSeeMoreButton().setVisible(true);this._getSeeLessButton().setVisible(false)}else{this.setProperty("mode",S.Expanded);this._getSeeMoreButton().setVisible(false);this._oCurrentlyVisibleSeeMoreLessButton=this._getSeeLessButton().setVisible(true)}};C.prototype._setBlockMode=function(t,e){if(t instanceof n){t.setMode(e)}else{f.debug("ObjectPageSubSection :: cannot propagate mode "+e+" to "+t.getMetadata().getName())}};C.prototype._setToFocusable=function(t){var e="0",o="-1",i="tabindex";if(t){this.$().attr(i,e)}else{this.$().attr(i,o)}return this};C.prototype._getUseTitleOnTheLeft=function(){var t=this._getObjectPageLayout();return t&&t.getSubSectionLayout()===b.TitleOnLeft};C.prototype._resetLayoutData=function(t){t.forEach(function(t){if(t.getLayoutData()){t.destroyLayoutData()}},this)};C.prototype._updateShowHideState=function(t){if(this._getIsHidden()===t){return this}this.$().children(this._sMoreContainerSelector).toggle(!t);return i.prototype._updateShowHideState.call(this,t)};C.prototype.getVisibleBlocksCount=function(){var t=u.getStashedControls(this.getId()).length;(this.getBlocks()||[]).forEach(function(e){if(e.getVisible&&!e.getVisible()){return true}t++});(this.getMoreBlocks()||[]).forEach(function(e){if(e.getVisible&&!e.getVisible()){return true}t++});return t};return C});
sap.ui.predefine("sap/uxap/ObjectPageSubSectionRenderer",function(){"use strict";var e={apiVersion:2};e.render=function(e,t){var i,a,r,s,n,o,l,c=sap.ui.getCore().getConfiguration().getAccessibility();if(!t.getVisible()||!t._getInternalVisible()){return}i=t.getActions()||[];n=i.length>0;r=t.getShowTitle();a=t._getInternalTitleVisible()&&t.getTitle().trim()!==""&&r;s=a||n;l=t._hasVisibleActions();e.openStart("div",t).attr("role","region").style("height",t._getHeight());if(t._bBlockHasMore){e.class("sapUxAPObjectPageSubSectionWithSeeMore")}e.class("sapUxAPObjectPageSubSection").class("ui-helper-clearfix");if(c){if(a){e.attr("aria-labelledby",t.getId()+"-headerTitle")}else{e.attr("aria-label",sap.uxap.ObjectPageSubSection._getLibraryResourceBundle().getText("SUBSECTION_CONTROL_NAME"))}}e.openEnd();if(s){e.openStart("div",t.getId()+"-header").class("sapUxAPObjectPageSubSectionHeader");if(!a&&!l){e.class("sapUiHidden")}o=t._getUseTitleOnTheLeft();if(o){e.class("titleOnLeftLayout")}e.openEnd();e.openStart("div",t.getId()+"-headerTitle");if(a){e.attr("role","heading").attr("aria-level",t._getARIALevel())}e.class("sapUxAPObjectPageSubSectionHeaderTitle");if(t.getTitleUppercase()){e.class("sapUxAPObjectPageSubSectionHeaderTitleUppercase")}e.attr("data-sap-ui-customfastnavgroup",true).openEnd();if(a){e.text(t.getTitle())}e.close("div");if(n){e.openStart("div").class("sapUxAPObjectPageSubSectionHeaderActions").attr("data-sap-ui-customfastnavgroup",true).openEnd();i.forEach(e.renderControl,e);e.close("div")}e.close("div")}e.openStart("div").class("ui-helper-clearfix").class("sapUxAPBlockContainer");if(t._isHidden){e.style("display","none")}e.openEnd();e.renderControl(t._getGrid());e.close("div");e.openStart("div").class("sapUxAPSubSectionSeeMoreContainer");if(t._isHidden){e.style("display","none")}e.openEnd();e.renderControl(t._getSeeMoreButton());e.renderControl(t._getSeeLessButton());e.close("div");e.close("div")};return e},true);
sap.ui.predefine("sap/uxap/ThrottledTaskHelper",["sap/ui/thirdparty/jquery","sap/ui/base/Object"],function(i,t){"use strict";var s=t.extend("ThrottledTask",{constructor:function(i,t,s){this._fnTask=i;this._iDelay=t;this._oContext=s;this._oPromise=null;this._fnResolvePromise=null;this._fnRejectPromise=null;this._iTimer=null;this._oTaskOptions=null},reSchedule:function(i,t){var s=this._getPromise();if(this._iTimer){clearTimeout(this._iTimer);this._iTimer=null}this._oTaskOptions=this._mergeOptions(this._oTaskOptions||{},t);if(i){var e=this._fnTask.call(this._oContext,this._oTaskOptions);this._completePromise(e);return s}this._iTimer=setTimeout(function(){if(this._oPromise){var i=this._fnTask.call(this._oContext,this._oTaskOptions);this._completePromise(i)}}.bind(this),this._iDelay);return s},_getPromise:function(){if(!this._oPromise){this._oPromise=new window.Promise(function(i,t){this._fnResolvePromise=i;this._fnRejectPromise=t}.bind(this))}return this._oPromise},_completePromise:function(i){var t=i?this._fnResolvePromise:this._fnRejectPromise;t();this._oPromise=null;this._fnResolvePromise=null;this._fnRejectPromise=null;this._oTaskOptions=null},_mergeOptions:function(t,s){var e=i.extend({},t,s);i.each(e,function(i){e[i]=t[i]||s[i]});return e}});return s});
sap.ui.predefine("sap/uxap/changeHandler/AddIFrameObjectPageLayout",["sap/ui/fl/Utils","sap/base/Log","sap/ui/fl/changeHandler/AddIFrame","sap/ui/fl/changeHandler/common/getTargetAggregationIndex","sap/ui/fl/changeHandler/common/createIFrame"],function(e,a,t,r,n){"use strict";var i=Object.assign({},t);i.applyChange=function(e,a,i){var g=i.modifier;var o=e.getDefinition();var s=o.content.targetAggregation;if(s!=="sections"){return t.applyChange(e,a,i)}var c=i.view;var p=i.appComponent;var u=o.content.selector;var l=sap.ui.getCore().getLibraryResourceBundle("sap.uxap").getText("SECTION_TITLE_FOR_IFRAME");var v=g.createControl("sap.uxap.ObjectPageSection",p,c,u,{title:l},false);var d=Object.create(u);d.id+="-subSection";var f=g.createControl("sap.uxap.ObjectPageSubSection",p,c,d,{title:l},false);g.insertAggregation(v,"subSections",f,0,c);var b=Object.create(u);b.id+="-iframe";var m=n(e,i,b);g.insertAggregation(f,"blocks",m,0,c);var A=r(e,a,i);g.insertAggregation(a,"sections",v,A,c);e.setRevertData([g.getId(v)])};return i},true);
sap.ui.predefine("sap/uxap/changeHandler/MoveObjectPageSection",["sap/ui/fl/changeHandler/MoveControls","sap/ui/core/Core","sap/base/util/merge","sap/ui/thirdparty/jquery"],function(e,r,t,n){"use strict";var a=n.extend({},e);a.applyChange=function(r,t,n){var a=n.modifier.targets==="jsControlTree";if(a){t._suppressScroll()}var o=e.applyChange.call(this,r,t,n);if(a){t.attachEventOnce("onAfterRenderingDOMReady",function(){t._resumeScroll(false)})}return o};a.revertChange=function(r,t,n){var a=n.modifier.targets==="jsControlTree";if(a){t._suppressScroll()}var o=e.revertChange.call(this,r,t,n);if(a){t.attachEventOnce("onAfterRenderingDOMReady",function(){t._resumeScroll(false)})}return o};a.completeChangeContent=function(t,n,a){var o=r.byId(n.source.id),i=r.byId(n.target.id);if(o.isA("sap.uxap.AnchorBar")&&i.isA("sap.uxap.AnchorBar")){this._mapAnchorsToSections(n,a)}return e.completeChangeContent.apply(this,arguments)};a._mapAnchorsToSections=function(e,n){var a,o,i=n.modifier,s=i.bySelector(e.selector,n.appComponent,n.view),c=s._getVisibleSections();function g(e){var t=r.byId(e),n=t.data("sectionId");return r.byId(n)}e.movedElements.forEach(function(e){var r=c[e.targetIndex];e.targetIndex=i.findIndexInParentAggregation(r);a=g(e.id);if(!a||!a.getParent()){throw new Error("Cannot map anchor to section")}o={id:a.getParent().getId(),aggregation:a.sParentAggregationName};e.id=a.getId()});t(e.source,o);t(e.target,o)};return a},true);
sap.ui.predefine("sap/uxap/changeHandler/RenameObjectPageSection",["sap/ui/fl/Utils","sap/base/Log","sap/ui/fl/changeHandler/BaseRename"],function(e,t,r){"use strict";var n={propertyName:"title",changePropertyName:"newText",translationTextType:"XGRP"};var a=r.createRenameChangeHandler(n);a._getControlForRename=function(e,t){var r=t.getAggregation(e,"subSections");if(r&&r.length===1&&t.getPropertyBindingOrProperty(r[0],"title")&&t.getProperty(t.getParent(e),"subSectionLayout")==="TitleOnTop"){return r[0]}return e};a.applyChange=function(e,r,o){var i=o.modifier,p=n.propertyName,g=e.getDefinition(),s=g.texts[n.changePropertyName],l=s.value,f=a._getControlForRename(r,i);if(typeof l==="string"&&l.trim()===""){throw new Error("Change cannot be applied as ObjectPageSubSection's title cannot be empty: ["+g.layer+"]"+g.namespace+"/"+g.fileName+"."+g.fileType)}if(g.texts&&s&&typeof l==="string"){e.setRevertData(i.getPropertyBindingOrProperty(f,p));i.setPropertyBindingOrProperty(f,p,l);return true}else{t.error("Change does not contain sufficient information to be applied: ["+g.layer+"]"+g.namespace+"/"+g.fileName+"."+g.fileType)}};a.revertChange=function(e,r,o){var i=e.getRevertData(),p=o.modifier,g=a._getControlForRename(r,p),s=n.propertyName;if(i||i===""){p.setPropertyBindingOrProperty(g,s,i);e.resetRevertData();return true}else{t.error("Change doesn't contain sufficient information to be reverted. Most Likely the Change didn't go through applyChange.")}};return a},true);
sap.ui.predefine("sap/uxap/component/Component",["sap/uxap/library","sap/ui/core/UIComponent","sap/ui/core/library","sap/base/Log","sap/ui/core/Component"],function(o,t,e,i){"use strict";var n=e.mvc.ViewType;var a=o.ObjectPageConfigurationMode;var s=t.extend("sap.uxap.component.Component",{metadata:{},init:function(){this._oModel=null;this._oViewConfig={viewData:{component:this}};switch(this.oComponentData.mode){case a.JsonURL:this._oModel=new t(this.oComponentData.jsonConfigurationURL);this._oViewConfig.viewName="sap.uxap.component.ObjectPageLayoutUXDrivenFactory";this._oViewConfig.type=n.XML;break;case a.JsonModel:this._oViewConfig.viewName="sap.uxap.component.ObjectPageLayoutUXDrivenFactory";this._oViewConfig.type=n.XML;break;default:i.error("UxAPComponent :: missing bootstrap information. Expecting one of the following: JsonURL, JsonModel and FacetsAnnotation")}t.prototype.init.call(this)},createContent:function(){var o;this._oView=sap.ui.view(this._oViewConfig);if(this._oModel){o=this._oView.getController();if(o&&o.connectToComponent){o.connectToComponent(this._oModel)}this._oView.setModel(this._oModel,"objectPageLayoutMetadata")}return this._oView},propagateProperties:function(o){if(this.oComponentData.mode===a.JsonModel){var e=this._oView.getController();if(e&&e.connectToComponent){e.connectToComponent(this.getModel("objectPageLayoutMetadata"))}}return t.prototype.propagateProperties.apply(this,arguments)},destroy:function(){if(this._oView){this._oView.destroy();this._oView=null}if(this._oModel){this._oModel.destroy();this._oModel=null}if(t.prototype.destroy){t.prototype.destroy.call(this)}}});return s});
sap.ui.predefine("sap/uxap/component/ObjectPageComponentContainer",["sap/ui/core/ComponentContainer","sap/base/Log","sap/ui/core/Component"],function(e,o){"use strict";var n=e.extend("sap.uxap.component.ObjectPageComponentContainer",{metadata:{properties:{jsonConfigurationURL:{type:"string",group:"Behavior"},mode:{type:"sap.uxap.ObjectPageConfigurationMode",group:"Behavior"}}},init:function(){this.setPropagateModel(true);this.setName("sap.uxap.component")},onBeforeRendering:function(){this._oComponent||(this._oComponent=sap.ui.component("sap.uxap"));if(!this._oComponent){this._oComponent=sap.ui.component({name:this.getName(),url:this.getUrl(),componentData:{jsonConfigurationURL:this.getJsonConfigurationURL(),mode:this.getMode()}});this.setComponent(this._oComponent,true)}if(e.prototype.onBeforeRendering){e.prototype.onBeforeRendering.call(this)}},getObjectPageLayoutInstance:function(){var e=null;if(this._oComponent&&this._oComponent._oView){e=this._oComponent._oView.byId("ObjectPageLayout")}else{o.error("ObjectPageComponentContainer :: cannot find children ObjectPageLayout, has it been rendered already?")}return e},renderer:"sap.ui.core.ComponentContainerRenderer"});return n});
sap.ui.predefine("sap/uxap/component/ObjectPageLayoutUXDrivenFactory.controller",["jquery.sap.global","sap/ui/model/BindingMode","sap/ui/model/Context","sap/ui/base/ManagedObject","sap/ui/core/mvc/Controller","sap/base/Log","sap/base/util/ObjectPath","sap/ui/thirdparty/jquery"],function(e,t,r,a,o,n,i,c){"use strict";return o.extend("sap.uxap.component.ObjectPageLayoutUXDrivenFactory",{connectToComponent:function(e){var a=c.isEmptyObject(e.getData());e.setDefaultBindingMode(t.OneWay);var o=c.proxy(function(){if(a){e.detachRequestCompleted(o)}var t=new r(e,"/headerTitle"),i=this.getView().byId("ObjectPageLayout");if(t.getProperty("")){try{this._oHeader=this.controlFactory(i.getId(),t);i.setHeaderTitle(this._oHeader)}catch(e){n.error("ObjectPageLayoutFactory :: error in header creation from config: "+e)}}},this);if(a){e.attachRequestCompleted(o)}else{o()}},controlFactory:function(e,t){var r=t.getProperty(""),o,i,s;try{i=sap.ui.requireSync(r.Type.replace(/\./g,"/"));s=i.getMetadata();c.each(s._mAllEvents,c.proxy(function(e,t){if(typeof r[e]=="string"){r[e]=this.convertEventHandler(r[e])}},this));o=a.create(r);c.each(s._mAllProperties,c.proxy(function(e,a){if(r[e]){o.bindProperty(e,"objectPageLayoutMetadata>"+t.getPath()+"/"+e)}},this))}catch(e){n.error("ObjectPageLayoutFactory :: error in control creation from config: "+e)}return o},convertEventHandler:function(e){var t=window,r=e.split(".");try{c.each(r,function(e,r){t=t[r]})}catch(r){n.error("ObjectPageLayoutFactory :: undefined event handler: "+e+". Did you forget to require its static class?");t=undefined}return t}})});
sap.ui.predefine("sap/uxap/flexibility/ObjectPageDynamicHeaderTitle.flexibility",["sap/m/changeHandler/CombineButtons","sap/m/changeHandler/SplitMenuButton","sap/f/changeHandler/MoveDynamicPageTitleActions"],function(e,n,a){"use strict";return{hideControl:"default",unhideControl:"default",combineButtons:{changeHandler:e,layers:{CUSTOMER:false}},splitMenuButton:{changeHandler:n,layers:{CUSTOMER:false}},moveActions:{changeHandler:a},moveControls:"default"}},true);
sap.ui.predefine("sap/uxap/flexibility/ObjectPageHeader.flexibility",["sap/m/changeHandler/CombineButtons","sap/m/changeHandler/SplitMenuButton"],function(e,n){"use strict";return{combineButtons:{changeHandler:e,layers:{CUSTOMER:false}},moveControls:"default",splitMenuButton:{changeHandler:n,layers:{CUSTOMER:false}}}},true);
sap.ui.predefine("sap/uxap/flexibility/ObjectPageHeaderActionButton.flexibility",["sap/ui/fl/changeHandler/BaseRename"],function(e){"use strict";return{hideControl:"default",rename:e.createRenameChangeHandler({propertyName:"text",translationTextType:"XBUT"}),unhideControl:"default"}});
sap.ui.predefine("sap/uxap/flexibility/ObjectPageLayout.flexibility",["sap/uxap/changeHandler/MoveObjectPageSection","sap/uxap/changeHandler/AddIFrameObjectPageLayout"],function(e,a){"use strict";return{moveControls:{changeHandler:e,layers:{USER:true}},addIFrame:{changeHandler:a}}},true);
sap.ui.predefine("sap/uxap/flexibility/ObjectPageSection.flexibility",["sap/uxap/changeHandler/RenameObjectPageSection"],function(e){"use strict";return{rename:e,moveControls:"default",hideControl:{changeHandler:"default",layers:{USER:true}},unhideControl:{changeHandler:"default",layers:{USER:true}},stashControl:{changeHandler:"default",layers:{USER:true}},unstashControl:{changeHandler:"default",layers:{USER:true}}}},true);
sap.ui.predefine("sap/uxap/flexibility/ObjectPageSubSection.flexibility",["sap/m/changeHandler/CombineButtons","sap/m/changeHandler/SplitMenuButton","sap/ui/fl/changeHandler/BaseRename"],function(e,a,n){"use strict";return{hideControl:"default",unhideControl:"default",rename:n.createRenameChangeHandler({propertyName:"title",translationTextType:"XGRP"}),combineButtons:{changeHandler:e,layers:{CUSTOMER:false}},moveControls:"default",splitMenuButton:{changeHandler:a,layers:{CUSTOMER:false}}}},true);
sap.ui.predefine("sap/uxap/library",["sap/ui/core/Core","sap/ui/base/DataType","sap/ui/Device","sap/ui/core/library","sap/m/library","sap/ui/layout/library"],function(e,a,t){"use strict";sap.ui.getCore().initLibrary({name:"sap.uxap",dependencies:["sap.ui.core","sap.m","sap.ui.layout"],designtime:"sap/uxap/designtime/library.designtime",types:["sap.uxap.BlockBaseColumnLayout","sap.uxap.BlockBaseFormAdjustment","sap.uxap.Importance","sap.uxap.ObjectPageConfigurationMode","sap.uxap.ObjectPageHeaderDesign","sap.uxap.ObjectPageHeaderPictureShape","sap.uxap.ObjectPageSubSectionLayout","sap.uxap.ObjectPageSubSectionMode"],interfaces:["sap.uxap.IHeaderTitle","sap.uxap.IHeaderContent"],controls:["sap.uxap.AnchorBar","sap.uxap.BlockBase","sap.uxap.BreadCrumbs","sap.uxap.HierarchicalSelect","sap.uxap.ObjectPageHeader","sap.uxap.ObjectPageDynamicHeaderTitle","sap.uxap.ObjectPageDynamicHeaderContent","sap.uxap.ObjectPageHeaderActionButton","sap.uxap.ObjectPageHeaderContent","sap.uxap.ObjectPageLayout","sap.uxap.ObjectPageSection","sap.uxap.ObjectPageSectionBase","sap.uxap.ObjectPageSubSection"],elements:["sap.uxap.ModelMapping","sap.uxap.ObjectPageAccessibleLandmarkInfo","sap.uxap.ObjectPageHeaderLayoutData","sap.uxap.ObjectPageLazyLoader"],version:"1.79.0",extensions:{flChangeHandlers:{"sap.uxap.ObjectPageHeader":"sap/uxap/flexibility/ObjectPageHeader","sap.uxap.ObjectPageLayout":"sap/uxap/flexibility/ObjectPageLayout","sap.uxap.ObjectPageSection":"sap/uxap/flexibility/ObjectPageSection","sap.uxap.ObjectPageSubSection":"sap/uxap/flexibility/ObjectPageSubSection","sap.uxap.ObjectPageDynamicHeaderTitle":"sap/uxap/flexibility/ObjectPageDynamicHeaderTitle","sap.uxap.ObjectPageHeaderActionButton":"sap/uxap/flexibility/ObjectPageHeaderActionButton","sap.ui.core._StashedControl":{unstashControl:{changeHandler:"default",layers:{USER:true}},stashControl:{changeHandler:"default",layers:{USER:true}}}},"sap.ui.support":{publicRules:true}}});sap.uxap.BlockBaseColumnLayout=a.createType("sap.uxap.BlockBaseColumnLayout",{isValid:function(e){return/^(auto|[1-4]{1})$/.test(e)}},a.getType("string"));sap.uxap.BlockBaseFormAdjustment={BlockColumns:"BlockColumns",OneColumn:"OneColumn",None:"None"};sap.uxap.ObjectPageConfigurationMode={JsonURL:"JsonURL",JsonModel:"JsonModel"};sap.uxap.ObjectPageHeaderDesign={Light:"Light",Dark:"Dark"};sap.uxap.ObjectPageHeaderPictureShape={Circle:"Circle",Square:"Square"};sap.uxap.ObjectPageSubSectionLayout={TitleOnTop:"TitleOnTop",TitleOnLeft:"TitleOnLeft"};sap.uxap.ObjectPageSubSectionMode={Collapsed:"Collapsed",Expanded:"Expanded"};sap.uxap.Importance={Low:"Low",Medium:"Medium",High:"High"};sap.uxap.Utilities={getClosestOPL:function(e){while(e&&!(e instanceof sap.uxap.ObjectPageLayout)){e=e.getParent()}return e},isPhoneScenario:function(e){if(t.system.phone){return true}return sap.uxap.Utilities._isCurrentMediaSize("Phone",e)},isTabletScenario:function(e){return sap.uxap.Utilities._isCurrentMediaSize("Tablet",e)},_isCurrentMediaSize:function(e,a){return a&&a.name===e},getChildPosition:function(e,a){var t=e instanceof jQuery?e:jQuery(e),p=a instanceof jQuery?a:jQuery(a),i=jQuery(document.documentElement),u=t.position(),s=t.offsetParent(),n;while(!s.is(p)&&!s.is(i)){n=s.position();u.top+=n.top;u.left+=n.left;s=s.offsetParent()}return u}};return sap.uxap});
sap.ui.require.preload({
	"sap/uxap/component/ObjectPageLayoutUXDrivenFactory.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc"\n\t\t  xmlns="sap.uxap"\n\t\t  height="100%"\n\t\t  controllerName="sap.uxap.component.ObjectPageLayoutUXDrivenFactory"\n><ObjectPageLayout id="ObjectPageLayout"\n\t\t\t\t\t  subSectionLayout="{objectPageLayoutMetadata>/subSectionLayout}"\n\t\t\t\t\t  showAnchorBar="{objectPageLayoutMetadata>/showAnchorBar}"\n\t\t\t\t\t  height="{objectPageLayoutMetadata>/height}"\n\t\t\t\t\t  enableLazyLoading="{objectPageLayoutMetadata>/enableLazyLoading}"\n\t\t\t\t\t  sections="{objectPageLayoutMetadata>/sections}"\n\t\t\t\t\t  headerContent="{path:\'objectPageLayoutMetadata>/headerContent\', factory:\'.controlFactory\'}"\n\t\t\t\t\t  showAnchorBarPopover="{objectPageLayoutMetadata>/showAnchorBarPopover}"\n\t\t\t\t\t  upperCaseAnchorBar="{objectPageLayoutMetadata>/upperCaseAnchorBar}"\n\t\t\t\t\t  useIconTabBar="{objectPageLayoutMetadata>/useIconTabBar}"\n\t\t\t\t\t  showHeaderContent="{objectPageLayoutMetadata>/showHeaderContent}"\n\t\t\t\t\t  useTwoColumnsForLargeScreen="{objectPageLayoutMetadata>/useTwoColumnsForLargeScreen}"\n\t\t\t\t\t  showTitleInHeaderContent="{objectPageLayoutMetadata>/showTitleInHeaderContent}"\n\t\t\t\t\t  showOnlyHighImportance="{objectPageLayoutMetadata>/showOnlyHighImportance}"\n\t\t\t\t\t  isChildPage="{objectPageLayoutMetadata>/isChildPage}"\n\t\t\t\t\t  alwaysShowContentHeader="{objectPageLayoutMetadata>/alwaysShowContentHeader}"\n\t\t\t\t\t  showEditHeaderButton="{objectPageLayoutMetadata>/showEditHeaderButton}"\n\t><sections><ObjectPageSection id="ObjectPageSection"\n\t\t\t\t\t\t\t   title="{objectPageLayoutMetadata>title}"\n\t\t\t\t\t\t\t   importance="{objectPageLayoutMetadata>importance}"\n\t\t\t\t\t\t\t   showTitle="{objectPageLayoutMetadata>showTitle}"\n\t\t\t\t\t\t\t   subSections="{objectPageLayoutMetadata>subSections}"\n\t\t\t\t\t\t\t   visible="{objectPageLayoutMetadata>visible}"><subSections><ObjectPageSubSection id="ObjectPageSubSection"\n\t\t\t\t\t\t\t\t\t\t  title="{objectPageLayoutMetadata>title}"\n\t\t\t\t\t\t\t\t\t\t  visible="{objectPageLayoutMetadata>visible}"\n\t\t\t\t\t\t\t\t\t\t  mode="{objectPageLayoutMetadata>mode}"\n\t\t\t\t\t\t\t\t\t\t  importance="{objectPageLayoutMetadata>importance}"\n\t\t\t\t\t\t\t\t\t\t  actions="{path:\'objectPageLayoutMetadata>actions\', factory:\'.controlFactory\'}"\n\t\t\t\t\t\t\t\t\t\t  blocks="{path:\'objectPageLayoutMetadata>blocks\', factory:\'.controlFactory\'}"\n\t\t\t\t\t\t\t\t\t\t  moreBlocks="{path:\'objectPageLayoutMetadata>moreBlocks\', factory:\'.controlFactory\'}"></ObjectPageSubSection></subSections></ObjectPageSection></sections></ObjectPageLayout></mvc:View>\n',
	"sap/uxap/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.uxap","type":"library","embeds":[],"applicationVersion":{"version":"1.79.0"},"title":"SAP UxAP","description":"SAP UxAP","ach":"CA-UI5-CTR","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":["base","sap_hcb"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.79","libs":{"sap.ui.core":{"minVersion":"1.79.0"},"sap.m":{"minVersion":"1.79.0"},"sap.ui.layout":{"minVersion":"1.79.0"},"sap.f":{"minVersion":"1.79.0","lazy":true}}},"library":{"i18n":{"bundleUrl":"messagebundle.properties","supportedLocales":["","ar","bg","ca","cs","da","de","el","en","en-US","en-US-sappsd","en-US-saptrc","es","et","fi","fr","hi","hr","hu","it","iw","ja","kk","ko","lt","lv","ms","nl","no","pl","pt","ro","ru","sh","sk","sl","sv","th","tr","uk","vi","zh-CN","zh-TW"]},"content":{"controls":["sap.uxap.AnchorBar","sap.uxap.BlockBase","sap.uxap.BreadCrumbs","sap.uxap.HierarchicalSelect","sap.uxap.ObjectPageHeader","sap.uxap.ObjectPageDynamicHeaderTitle","sap.uxap.ObjectPageDynamicHeaderContent","sap.uxap.ObjectPageHeaderActionButton","sap.uxap.ObjectPageHeaderContent","sap.uxap.ObjectPageLayout","sap.uxap.ObjectPageSection","sap.uxap.ObjectPageSectionBase","sap.uxap.ObjectPageSubSection"],"elements":["sap.uxap.ModelMapping","sap.uxap.ObjectPageAccessibleLandmarkInfo","sap.uxap.ObjectPageHeaderLayoutData","sap.uxap.ObjectPageLazyLoader"],"types":["sap.uxap.BlockBaseColumnLayout","sap.uxap.BlockBaseFormAdjustment","sap.uxap.Importance","sap.uxap.ObjectPageConfigurationMode","sap.uxap.ObjectPageHeaderDesign","sap.uxap.ObjectPageHeaderPictureShape","sap.uxap.ObjectPageSubSectionLayout","sap.uxap.ObjectPageSubSectionMode"],"interfaces":["sap.uxap.IHeaderTitle","sap.uxap.IHeaderContent"]}}}}'
});
