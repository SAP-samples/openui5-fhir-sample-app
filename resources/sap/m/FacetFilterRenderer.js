/*!
 * OpenUI5
 * (c) Copyright 2009-2020 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/m/library","sap/ui/Device","sap/ui/core/InvisibleText"],function(e,t,r){"use strict";var i=e.FacetFilterType;var n={apiVersion:2};n.render=function(e,t){if(t.getType()===i.Light||t.getShowSummaryBar()){n.renderSummaryBar(e,t)}else{n.renderSimpleFlow(e,t)}};n.renderSimpleFlow=function(e,r){e.openStart("div",r);e.class("sapMFF");e.accessibilityState({role:"toolbar",roledescription:r._bundle.getText("FACETFILTER_TITLE")});if(r._lastScrolling){e.class("sapMFFScrolling")}else{e.class("sapMFFNoScrolling")}if(r.getShowReset()){e.class("sapMFFResetSpacer")}e.openEnd();if(t.system.desktop){e.renderControl(r._getScrollingArrow("left"))}e.openStart("div",r.getId()+"-head");e.class("sapMFFHead");e.openEnd();n.renderFacetFilterListButtons(r,e);if(r.getShowPersonalization()){e.renderControl(r.getAggregation("addFacetButton"))}e.close("div");if(t.system.desktop){e.renderControl(r._getScrollingArrow("right"))}if(r.getShowReset()){e.openStart("div");e.class("sapMFFResetDiv");e.openEnd();e.renderControl(r.getAggregation("resetButton"));e.close("div")}e.close("div")};n.renderSummaryBar=function(e,t){e.openStart("div",t);e.class("sapMFF");e.openEnd();e.renderControl(t.getAggregation("summaryBar"));e.close("div")};n.getAriaAnnouncement=function(e,t){return r.getStaticId("sap.m",t||"FACETFILTER_"+e.toUpperCase())};n.getAriaDescribedBy=function(e){var t=[];if(e.getShowPersonalization()){t.push(this.getAriaAnnouncement("ARIA_REMOVE"))}t=t.concat(e._aAriaPositionTextIds);return t.join(" ")};n.getAccessibilityState=function(e){return{describedby:{value:this.getAriaDescribedBy(e),append:true}}};n.renderFacetFilterListButtons=function(e,t){var i=e._getSequencedLists(),o=i.length,a,s,d,c,l=[],g=[],u=sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("FACETFILTER_ARIA_FACET_FILTER"),p=this.getAriaAnnouncement("ARIA_REMOVE");for(s=0;s<o;s++){var A=i[s].getItems().length>0,F=i[s].getActive(),S=e._bCheckForAddListBtn&&(A||F);if(!e._bCheckForAddListBtn||S){a=e._getButtonForList(i[s]);l=a.removeAllAriaDescribedBy();l.forEach(f);d=sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("FACETFILTERLIST_ARIA_POSITION",[s+1,o]);c=new r({text:u+" "+d}).toStatic();e._aOwnedLabels.push(c.getId());a.addAriaDescribedBy(c);g.push(c.getId());if(e.getShowPersonalization()){a.addAriaDescribedBy(n.getAriaAnnouncement("ARIA_REMOVE"))}t.renderControl(a);if(e.getShowPersonalization()){t.renderControl(e._getFacetRemoveIcon(i[s]))}}}e._aAriaPositionTextIds=g;function f(e){if(p!==e){var t=sap.ui.getCore().byId(e);if(t){t.destroy()}}}};return n},true);