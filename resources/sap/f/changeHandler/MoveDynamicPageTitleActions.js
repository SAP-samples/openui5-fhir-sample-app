/*!
 * OpenUI5
 * (c) Copyright 2009-2020 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/fl/Utils"],function(e){"use strict";var t={};var n="actions";t.applyChange=function(e,t,r){var o=r.modifier,i=r.view,a=r.appComponent,g=e.getDefinition().content.movedElements[0];var c=o.bySelector(g.selector,a,i),d=g.targetIndex;o.getAggregation(t,n).forEach(function(r,a){if(o.getId(r)===o.getId(c)){o.removeAggregation(t,n,r);o.insertAggregation(t,"dependents",r,undefined,i);e.setRevertData({index:a})}});o.insertAggregation(t,n,c,d,i);return true};t.revertChange=function(e,t,r){var o=r.modifier,i=r.view,a=r.appComponent,g=e.getDefinition().content.movedElements[0],c=e.getRevertData();var d=o.bySelector(g.selector,a,i),s=c?c.index:g.targetIndex,m=g.sourceIndex;o.removeAggregation(t,n,d,s,i);o.insertAggregation(t,n,d,m,i);return true};t.completeChangeContent=function(e,t,n){var r=n.modifier,o=n.appComponent,i=e.getDefinition();i.content={movedElements:[]};t.movedElements.forEach(function(e){var t=e.element||r.bySelector(e.id,o);i.content.movedElements.push({selector:r.getSelector(t,o),sourceIndex:e.sourceIndex,targetIndex:e.targetIndex})})};return t},true);