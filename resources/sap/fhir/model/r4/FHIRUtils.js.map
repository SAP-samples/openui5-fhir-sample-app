{"version":3,"file":"FHIRUtils.js","names":["sap","ui","define","FHIRFilterOperatorUtils","FHIRFilterOperator","FHIRFilterComplexOperator","ChangeReason","merge","deepEqual","Filter","Sorter","FilterProcessor","FilterType","FHIRUtils","createSortParams","aSorters","sSorterURLPart","Array","isArray","length","i","oSorter","bDescending","sPath","addRequestQueryParameters","oBinding","mParametersRequest","mParameters","hasOwnProperty","urlParameters","sKey","request","insertArrayIntoArray","aArray","aSubArray","iPos","prototype","splice","apply","concat","removeArrayFromArray","filter","x","indexOf","getIndexOfValueInArray","vValue","aValue","oEntry","isSubset","aSubCollection","aCollection","every","isQuantity","isString","isObject","isNumber","isEmptyObject","oObject","sName","filterArray","sAttribute","sFilterValue","fnCallback","oArrayAttribute","filterObject","iLevel","aObjects","fnPreprocessResult","this","push","deepClone","Date","getTime","undefined","uuidv4","replace","c","r","Math","floor","random","v","toString","getLinkUrl","aLinks","sRelation","oLink","url","getNumberOfLevelsByPath","countOccurrence","sBase","sSearch","iCount","Error","iIndex","checkStringParameter","sParameter","checkPathParameter","startsWith","endsWith","checkFHIRSearchParameter","checkRegularExpression","sText","rRegExp","match","splitPath","rSliceableExpression","aMatches","sPathWithoutSlices","aPaths","split","shift","filterBuilder","aFilters","iSupportedFilterDepth","bIsValueSet","iLvl","bLogicalConnection","bLogicalOperator","oFilter","_filter","_complexFilterBuilder","_bMultiFilter","bAnd","_filterBuilder","sFhirSearchModifier","getFHIRSearchParameterModifier","oValue1","getFilterValue","sSearchPrefix","getFHIRSearchPrefix","sOperator","BT","oValue2","GE","toLowerCase","LE","sLogicalConnection","sFilterOperator","getFHIRFilterPrefix","getFilterValueForComplexFilter","sValueType","sFilter","sFilterType","Application","aApplicationFilters","oCombinedFilter","combineFilters","bPendingRequest","fnQueryLastFilters","detachDataReceived","bIsDataReceivedAttached","aFilterCache","refresh","attachDataReceived","sort","bRefresh","fnQueryLastSorters","aSortersCache","Sort","isRequestable","isContextBinding","oContext","getMetadata","getName","isPropertyBinding","generateFullUrl","oUri","sResourceServerPath","sResourceId","sServiceUrl","sFullUrl","validateValue"],"sources":["FHIRUtils-dbg.js"],"mappings":"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"}